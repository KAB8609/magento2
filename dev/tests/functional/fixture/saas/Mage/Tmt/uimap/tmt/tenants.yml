#
# Magento
#
# NOTICE OF LICENSE
#
# This source file is subject to the Academic Free License (AFL 3.0)
# that is bundled with this package in the file LICENSE_AFL.txt.
# It is also available through the world-wide-web at this URL:
# http://opensource.org/licenses/afl-3.0.php
# If you did not receive a copy of the license and are unable to
# obtain it through the world-wide-web, please send an email
# to license@magentocommerce.com so we can send you a copy immediately.
#
# DISCLAIMER
#
# Do not edit or add to this file if you wish to upgrade Magento to newer
# versions in the future. If you wish to customize Magento for your
# needs please refer to http://www.magentocommerce.com for more information.
#
# @category    tests
# @package     selenium
# @subpackage  uimaps
# @author      Magento Core Team <core@magentocommerce.com>
# @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
# @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
#
---
# Manage Tenants page
home:
  mca: ?
  title: Tenant Management Tool
  uimap:
      form: &tenantsForm
            fieldsets:
              -
                  search_group:
                          fields:
                              group_identifier: //select[@name='groupId']
                          buttons:
                              group_search: //button[@name='search_submit']
                              reset_filters: //button[@name='reset']
              -
                  search_tenant_fields:
                          xpath: //div[@class='left_col']
                          fields:
                              tenant_id: //input[@name='tenantId']
                              domain: //input[@name='domain']
                              region: //input[@name='region']
                              email: //input[@name='email']
                          dropdowns:
                              db_resource: //select[@name='resources']
                              version: //select[@name='version']
                              group: //select[@name='groupId']
                          buttons:
                              search: //button[@name='search_submit']
                              reset: //button[@name='reset']
              -
                  search_tenant_results:
                          xpath: //table[@class='grid']
                          fields:
                              tenant_id: //tr[2]/td[1]
                              tenant_region: //tr[2]/td[3]
                              tenant_email: //tr[2]/td[5]
                              current_version: //tr[2]/td[6]
                              current_version_known: //td[normalize-space (text()) ='%version_to%']
                              tenant_status: //tr[2]/td[7]
                              sort_reseted: //table[@class='grid']//span[@class='asc' and contains (.,'↑')]
                              sort_descending: //span[@class='asc' and contains (.,'↓')]
                              tenant_row: //tr[td[contains (text(), '%tenantId%')]]
                          links:
                              flush_config: //a[contains(@href,'?action=flushconfig')]
                              edit_group: //tr[2]//a[contains(@href,'?controller=groups&action=edit')]
                              refresh_catalog: //a[contains(@href,'?action=refreshcatalog')]
                              clear_css_js: //a[contains(@href,'?action=clearcssjs')]
                              flush_config: //a[contains(@href,'?action=flushconfig')]
                              add_admin: //a[contains(@href,'?action=addadmin')]
                              tenant_domain: //tr[2]//a[contains(@href,'http://')]
                              tenant_domain_known: //a[contains(@href,'%full_domain%')]
                              tenant_upgrade: //a[contains(@href,'?controller=upgrade&tenantId=%tenantId%')]
                              tenant_delete: //a[contains(@href,'?action=preparedelete')];
                              sort_tenant_id: //a[contains(@href,'tenantId&')]
                              sort_domain: //a[contains(@href,'domains&')]
                              sort_api_client: //a[contains(@href,'api_client&')]
                              sort_region: //a[contains(@href,'region&')]
                              sort_group: //a[contains(@href,'groupId&')]
                              sort_email: //a[contains(@href,'email&')]
                              sort_version: //a[contains(@href,'version&')]
                              sort_status: //a[contains(@href,'status&')]
            buttons:
                add_tenant: //button[@type='button']//span[text()='Add tenant']

            messages:
                tenant_deleted: //ul[@class="msg_success" and contains(.//*,'Tenant removed successfully')]
                flushed_config: //ul[@class="msg_success" and contains(.//*,'Tenant config flushed successfully')]
                cleared_js_css: //ul[@class="msg_success" and contains(.//*,'Cached CSS & JS files deleted')]
                error: //b[normalize-space (text()) ="We couldn't find any records."]
                tenant_upgraded: //ul[@class="msg_success" and contains(.//*,'Tenant %tenantId% has been successfully added to queue for upgrade to version %upgradeVersion%.')]
                tenant_added_queue_upgrade: //ul[@class="msg_success" and contains(.//*,'Tenant %tenantId% has been successfully added to queue for upgrade to version %versionTo%.')]
                admin_created_tmt: //ul[@class="msg_success" and contains(.//*,'Account added successfully')]

manage_tenants_reset:
    mca: ?page=0&order[field]=&order[asc]=
    title: Tenant Management Tool
    uimap:
        form: *tenantsForm

manage_tenants:
    mca: ?controller=tenants
    click_xpath: //a[@href='?controller=tenants']
    title: Tenant Management Tool
    uimap:
        form: *tenantsForm
        messages:
            tenant_deleted: //ul[@class="msg_success" and contains(.//*,'Tenant removed successfully')]
            flushed_config: //ul[@class="msg_success" and contains(.//*,'Tenant config flushed successfully')]
            cleared_js_css: //ul[@class="msg_success" and contains(.//*,'Cached CSS & JS files deleted')]
            error: //b[normalize-space (text()) ="We couldn't find any records."]
            tenant_upgraded: //ul[@class="msg_success" and contains(.,'Tenant %tenantId% has been successfully added to queue for upgrade to version %upgradeVersion%.')]
            tenant_added_queue_upgrade: //ul[@class="msg_success" and contains(.,'Tenant %tenantId% has been successfully added to queue for upgrade to version %versionTo%.')]


edit_tenants:
    mca: ?action=edit&id=%pageId%
    click_xpath: //a[contains(@href,'?action=edit')]
    title: Tenant Management Tool
    uimap:
        form: &tenantsEdit
            fieldsets:
              -
                  edit_tenant:
                          xpath: //fieldset[@class='fieldset']
                          dropdowns:
                              tenant_group: //select[@name='groupId']
                          messages:
                              success_msg: //ul[@class="msg_success"]
                              tenant_created_tmt: //ul[@class="msg_success" and contains(.//*,'Tenant saved successfully')]
                              tenant_backupped: //ul[@class="msg_success" and contains(.//*,'Backup was created successfully.')]
                              admin_unlocked: //ul[@class="msg_success" and contains(.//*,'Specified admin user was successfully unlocked.')]
                              pasword_reseted: //ul[@class="msg_success" and contains(.//*,'Password was reset successfully.')]
                              saved_succeed: //ul[@class="msg_success" and contains(.//*,'Tenant saved successfully')]
                          buttons:
                              back: //div[@align='right']//button[@type='button']
                              save: //div[@align='right']//button[@type='submit']
                              add_domain: //button[@id='add_domain_button']
                          fields:
                              new_domain: //input[@id='new_domain']
                              local_tab: //div[@id='local_tab']/textarea
                          radiobuttons:
                              status_enabled: //input[@type='radio' and @name='status' and @value='0']
                              status_disabled_frontend: //input[@type='radio' and @name='status' and @value='1']
                              status_disabled: //input[@type='radio' and @name='status' and @value='2']
                              status_archived: //input[@type='radio' and @name='status' and @value='3']
