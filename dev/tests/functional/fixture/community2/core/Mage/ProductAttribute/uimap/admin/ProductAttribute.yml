#
# {license_notice}
#
# @category    Magento
# @package     Mage_ProductAttribute
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
# Add New Product Attribute page
new_product_attribute:
    mca: catalog_product_attribute/new/
    title: New Attribute / Manage Attributes / Attributes / Catalog / Magento Admin
    uimap: &newProductAttribute
        form:
            tabs:
                -
                    properties: &attributeProperties
                        xpath: //a[@id='product_attribute_tabs_main']/span
                        fieldsets:
                            -
                                attribute_properties:
                                    xpath: //div[@id='base_fieldset']
                                    dropdowns:
                                        scope: "//tr[not(@style='display: none;')]//select[@id='is_global']"
                                        catalog_input_type_for_store_owner: //select[@id='frontend_input']
                                        default_yesno_value: "//tr[not(@style='display: none;')]//select[@id='default_value_yesno']"
                                        unique_value: "//tr[not(@style='display: none;')]//select[@id='is_unique']"
                                        values_required: "//tr[not(@style='display: none;')]//select[@id='is_required']"
                                        input_validation_for_store_owner: "//tr[not(@style='display: none;')]//select[@id='frontend_class']"
                                        apply_to: "//tr[not(@style='display: none;')]//select[@onchange='toggleApplyVisibility(this)']"
                                        use_to_create_configurable_product: "//tr[not(@style='display: none;')]//select[@id='is_configurable']"
                                    fields:
                                        attribute_code: //input[@id='attribute_code']
                                        default_text_field_value: "//tr[not(@style='display: none;')]//input[@id='default_value_text']"
                                        default_text_area_value: "//tr[not(@style='display: none;')]//textarea[@id='default_value_textarea']"
                                        default_date_value: "//tr[not(@style='display: none;')]//input[@id='default_value_date']"
                                        default_price_value: "//tr[not(@style='display: none;')]//input[@id='default_value_text']"
                                    multiselects:
                                        apply_product_types: "//select[@id='apply_to' and not(contains(@class,'no-display'))]"
                                    required: [attribute_code, apply_product_types]
                            -
                                frontend_properties:
                                    xpath: //div[@id='front_fieldset']
                                    dropdowns:
                                        use_in_quick_search: //select[@id='is_searchable']
                                        use_in_advanced_search: //select[@id='is_visible_in_advanced_search']
                                        comparable_on_frontend: //select[@id='is_comparable']
                                        use_in_layered_navigation: //select[@id='is_filterable' and not(@disabled)]
                                        use_in_search_results_layered_navigation: //select[@id='is_filterable_in_search' and not(@disabled)]
                                        use_for_promo_rule_conditions: //select[@id='is_used_for_promo_rules']
                                        enable_wysiwyg: //select[@id='is_wysiwyg_enabled' and not(@disabled)]
                                        allow_html_tags_on_frontend: //select[@id='is_html_allowed_on_front' and not(@disabled)]
                                        visible_on_product_view_page_on_frontend: //select[@id='is_visible_on_front']
                                        used_in_product_listing: //select[@id='used_in_product_listing']
                                        used_for_sorting_in_product_listing: //select[@id='used_for_sort_by' and not(@disabled)]
                                    fields:
                                        position: //input[@id='position'][not(@disabled)]
                -
                    manage_labels_options:
                        xpath: //a[@id='product_attribute_tabs_labels']/span
                        fieldsets:
                            -
                                manage_titles:
                                    xpath: //div[@class='entity-edit' and contains(.//@id,'attribute-labels-table')]
                                    fields:
                                        admin_title: //input[@name='frontend_label[0]']
                                        titles_by_store_name: //td[%storeViewNumber%]/input
                                    required: [admin_title]
                            -
                                manage_options:
                                    xpath: "//div[@id='matage-options-panel' and not(@style='display: none;')]"
                                    buttons:
                                        add_option: //button[@id='add_new_option_button']
                                        delete_option: //td[contains(input/@name,'option[delete][option_%fieldOptionNumber%]')]/button
                                    checkboxes:
                                        is_default: //input[@name='default[]' and @value='option_%fieldOptionNumber%']
                                    fields:
                                        admin_option_name: //input[@name='option[value][option_%fieldOptionNumber%][0]']
                                        option_position: //input[@name='option[order][option_%fieldOptionNumber%]']
                                        titles_by_store_name: //td[contains(input/@name,'option[value][option_%fieldOptionNumber%]')][%storeViewNumber%]/input
                                    required: [admin_option]
        buttons:
            back: //*[@id='back']
            reset: //*[@id='reset']
            save_attribute: //*[@id='save']
            save_and_continue_edit: //*[@id='save_and_edit_button']
            save_in_new_attribute_set: //button[span='Save in New Attribute Set']
            close_window: //button[span='Close Window']

# Add New Product Attribute from Product page
new_product_attribute_from_product_page:
    mca: catalog_product_attribute/new/group/%tabId%/tab/group_%tabId%/store/0/set/%setId%/type/%productType%/popup/1/
    title: New Attribute / Manage Attributes / Attributes / Catalog / Magento Admin
    uimap: *newProductAttribute

# Add New Product Attribute from Product page and save it in new attribute set
new_product_attribute_from_saved_product_page:
    mca: catalog_product_attribute/new/group/%tabId%/tab/group_%tabId%/store/0/product/%productId%/set/%setId%/type/%productType%/popup/1/
    title: New Attribute / Manage Attributes / Attributes / Catalog / Magento Admin
    uimap: *newProductAttribute

# Edit Product attribute
edit_product_attribute:
    uimap:
        form:
            tabs:
                -
                    manage_labels_options:
                        fieldsets:
                            -
                                manage_options:
                                    checkboxes:
                                        default_value: //tr[contains(@class,'option-row')][%rowNumber%]//input[@class='input-radio']
                                    fields:
                                        admin_option_name_disabled: //tr[contains(@class,'option-row')][%rowNumber%]//input[@class='input-text required-option' and @disabled='disabled']
                -
                    properties: *attributeProperties
