# Magento
#
# {license_notice}
#
# @category    Magento
# @package     Mage_Checkout
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
#Manage Sales Orders and related pages

# 'Orders' page
manage_sales_orders:
    mca: sales_order/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'sales_order/')]
    title: Orders / Sales / Magento Admin
    uimap:
        form: &orderGridMassactionForm
            fieldsets:
                -
                    sales_order_grid:
                        xpath: //div[@id='sales_order_grid']
                        dropdowns:
                            actions: //select[@id='sales_order_grid_massaction-select']
                            filter_status: //*[@id='sales_order_grid_filter_status']
                        buttons:
                            reset_filter: //button[@title='Reset Filter']
                        links:
                            select_visible: //a[text()='Select Visible']
                        pageelements:
                            sales_order_grid_table: //table[@id='sales_order_grid_table']
                            linkcable_orders_ingrid: //*[@id='sales_order_grid_table']/tbody//tr[contains(@title, 'http:')]
                    fields:
                        filter_order_id: //*[@id='sales_order_grid_filter_real_order_id']

# 'New Order' page
create_order_for_new_customer:
    uimap: &create_order_for_new_customer
        form:
            fieldsets: &newOrderForNewCustomerFieldsets
                -
                    order_payment_method: &orderPaymentMethod
                        fields:
                            purchase_order_number: //input[@id='po_number']
                -
                    order_billing_address:
                        fields:
                            billing_vat_number: //input[@id='order-billing_address_vat_id']
                        buttons:
                            billing_validate_vat_number: //button[@title='Validate VAT Number']
            messages:
                #confirmation
                the_same_group: The VAT ID is valid. The current Customer Group will be used.
                zero_payment: //dt[contains(label,'No Payment Information Required')]
                valid_domestic_group_message: |
                 Based on the VAT ID, the customer would belong to the Customer Group %newCustomerGroup%.
                 The customer is currently assigned to Customer Group %currentCustomerGroup%. Would you like to change the Customer Group for this order?
                invalid_vat_id_message: |
                 The VAT ID entered (%vatNumber%) is not a valid VAT ID. The customer would belong to Customer Group %newCustomerGroup%.
                 The customer is currently assigned to Customer Group %currentCustomerGroup%. Would you like to change the Customer Group for this order?
