<?
/**
 *  getId()
 *  getCollection()
 *  getColumns()
 *  getPagerVisibility()
 *  getVarNamePage()
 */
?>
<?if($this->getCollection()):?>
<?if($this->canDisplayContainer()):?>
<div id="<?=$this->getId()?>">
<?endif;?>
<table cellspacing="0">
<tr>
<?if($this->getPagerVisibility()):?>
<td>
<div class="pager">
    Page 
    <select name="<?=$this->getVarNamePage()?>" onchange="<?=$this->getId()?>JsObject.loadByElement(this)">
    <?for($i=1; $i<=$this->getCollection()->getLastPageNumber(); $i++):?>
        <?$_selected = ($i==$this->getCollection()->getCurPage()) ? ' selected' : ''?>
        <option value="<?=$i?>"<?=$_selected?>><?=$i?></option>
    <?endfor;?>
    </select>
    of &nbsp;<b><?=$this->getCollection()->getLastPageNumber()?></b>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    View  
    <select name="<?=$this->getVarNameLimit()?>" onchange="<?=$this->getId()?>JsObject.loadByElement(this)">
        <option value="20"<?if($this->getCollection()->getPageSize()==20):?> selected<?endif;?>>20</option>
        <option value="30"<?if($this->getCollection()->getPageSize()==30):?> selected<?endif;?>>30</option>
        <option value="50"<?if($this->getCollection()->getPageSize()==50):?> selected<?endif;?>>50</option>
        <option value="100"<?if($this->getCollection()->getPageSize()==100):?> selected<?endif;?>>100</option>
        <option value="200"<?if($this->getCollection()->getPageSize()==200):?> selected<?endif;?>>200</option>
    </select>
    per page
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Total <b><?=$this->getCollection()->getSize()?> records</b> found
</div>
</td>
<?endif?>
<?if($this->getExportTypes()):?>
<td>
<div class="export">
    <?=__('Export to')?>:
    <select name="<?=$this->getId()?>_export" id="<?=$this->getId()?>_export">
    <?foreach ($this->getExportTypes() as $_type):?>
        <option value="<?=$_type->getUrl()?>"><?=$_type->getLabel()?></option>
    <?endforeach;?>
    </select>
    <input type="button" value="<?=__('Export')?>" onclick="<?=$this->getId()?>JsObject.doExport('<?=$this->getId()?>_export')">
</div>
</td>
<?endif;?>
<?if($this->getFilterVisibility()):?>
<td>
<div class="filter-buttons">
    <input type="button" value="<?=__('Reset filter')?>" onclick="<?=$this->getId()?>JsObject.resetFilter()">
    <input type="button" value="<?=__('Search')?>" onclick="<?=$this->getId()?>JsObject.doFilter()">
</div>
</td>
<?endif;?>
</tr>
</table>
<div class="grid">
<table cellspacing="0" class="data" id="<?=$this->getId()?>_table">
    <?foreach ($this->getColumns() as $_column):?>
    <col <?=$_column->getHtmlProperty()?>/>
    <?endforeach;?>
    <thead>
        <tr class="header">
        <?foreach ($this->getColumns() as $_column):?>
            <th><?=$_column->getHeaderHtml()?></th>
        <?endforeach;?>
        </tr>
        <?if ($this->getFilterVisibility()):?>
        <tr class="filter">
        <?foreach ($this->getColumns() as $_column):?>
            <th><?=$_column->getFilterHtml()?></th>
        <?endforeach;?>
        </tr>
        <?endif?>
    </thead>
    <tbody>
    <?foreach ($this->getCollection() as $_index=>$_item):?>
        <tr>
        <?foreach ($this->getColumns() as $column):?>
            <td><?=$column->getRowField($_item)?></td>
        <?endforeach;?>
        </tr>
    <?endforeach;?>
    </tbody>
</table>
<?if($this->canDisplayContainer()):?>
</div>
<script type="text/javascript" language="javascript">
    <?=$this->getId()?>JsObject = new varienGrid('<?=$this->getId()?>', '<?=$this->getGridUrl()?>', '<?=$this->getVarNameSort()?>', '<?=$this->getVarNameDir()?>', '<?=$this->getVarNameFilter()?>');
    <?=$this->getId()?>JsObject.useAjax = '<?=$this->getUseAjax()?>';
</script>
<?endif;?>
<?endif?>
