<div class="content-header">
    <table cellspacing="0" class="grid-header"> 
        <tr>
            <td style="width:30%;"><h3><?=$this->getHeader()?></h3></td>
            <td class="a-right">
            <button id="add_address_button" class="scalable" onclick="customerAddresses.addNewAddress()">
                <table cellspacing="0">
                    <tr>
                        <td class="tl"></td>
                        <td class="tr"></td>
                    </tr>
                    <tr>
                        <td class="ml"><?=__('Add New Customer Address')?></td>
                        <td class="mr"></td>
                    </tr>
                    <tr>
                        <td class="bl"></td>
                        <td class="br"></td>
                    </tr>
                </table>
            </button>
            <?if($this->getCustomerId()):?>
            <button class="scalable" onclick="customerDelete();return false;">
                <table cellspacing="0">
                    <tr>
                        <td class="tl"></td>
                        <td class="tr"></td>
                    </tr>
                    <tr>
                        <td class="ml"><?=__('Delete Customer')?></td>
                        <td class="mr"></td>
                    </tr>
                    <tr>
                        <td class="bl"></td>
                        <td class="br"></td>
                    </tr>
                </table>
            </button>
            <?endif;?>
            <button class="scalable" onclick="customerForm.submit();return false;">
                <table cellspacing="0">
                    <tr>
                        <td class="tl"></td>
                        <td class="tr"></td>
                    </tr>
                    <tr>
                        <td class="ml"><?=__('Save Customer')?></td>
                        <td class="mr"></td>
                    </tr>
                    <tr>
                        <td class="bl"></td>
                        <td class="br"></td>
                    </tr>
                </table>
            </button>
            </td>
        </tr>
    </table>
</div>
<form action="<?=$this->getSaveUrl()?>" method="POST" id="customer_edit_form">
</form>
<script type="text/javascript" language="javascript">
    var customerForm = new varienForm('customer_edit_form');
    
    function customerEditShowButtons(data){
        customerForm.initFormElements();
        if(data.tab.id && data.tab.id=='customer_info_tabs_addresses'){
            Element.show($('add_address_button'));
        }
    }
    
    function customerEditHideButtons(data){
        if(data.tab && data.tab.id=='customer_info_tabs_addresses'){
            Element.hide($('add_address_button'));
        }
    }
    
    function customerDelete(){
        if(confirm('<?=__('are you sure?')?>')){
            location.href = '<?=$this->getDeleteUrl()?>'
        }
    }
    
    varienGlobalEvents.attachEventHandler('showTab', customerEditShowButtons);
    varienGlobalEvents.attachEventHandler('hideTab', customerEditHideButtons);
</script>