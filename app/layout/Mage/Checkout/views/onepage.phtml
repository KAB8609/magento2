<script type="text/javascript" src="<?=$baseUrl?>/js/telephone.js"></script>
<script type="text/javascript">
function CVVPopUpWindow(url) { 
    window.open(url, 'popupWindow', 'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,copyhistory=no,width=600,height=233,screenX=150,screenY=150,top=150,left=150');
}
</script>
<script type="text/javascript">
/*    var Addresses = new Array();
    var billingAdrId;
    var shippingAdrId;
    var billingNew = false;
    var shippingNew = false;
    var zone_id = $H({ billing: 0, shipping: 0 });
    var co_step;
    var co_prev_step;
    var CustomerInfo<{if $page.customer_info_json}> = $H( <{$page.customer_info_json}> )<{/if}>;
    var SID = '<{$smarty.const.SID}>';
    var val_shipping;
    var val_billing;
    var val_payment;
    var co_avail = $H( {billing: false, shipping: false, payment: false, review: false} );
    function getAddressBook() {
        new Ajax.Request( 'checkout.php?<{$smarty.const.SID}>', {
            method: 'post',
            parameters: { type: 'json', request: 'addressbook' },
            onSuccess: function( transport, json ) {
                if ( json ) {
                    $('sel-billing').options.length = $('sel-shipping').options.length = 0;
                    Addresses = json;
                    var opt = null;
                    for ( var i = 0, n = json.length; i < n; i++ ) {
                        opt = new Option(); opt.value = json[ i ].address_book_id; opt.text = json[ i ].entry_street_address + ', ' + json[ i ].entry_city + ', ' + json[ i ].zone_code + ' ' + json[ i ].entry_postcode;
                        $('sel-billing').options[ $('sel-billing').options.length ] = opt;
                        opt = new Option(); opt.value = json[ i ].address_book_id; opt.text = json[ i ].entry_street_address + ', ' + json[ i ].entry_city + ', ' + json[ i ].zone_code + ' ' + json[ i ].entry_postcode;
                        $('sel-shipping').options[ $('sel-shipping').options.length ] = opt;
                        if ( json[ i ].address_book_id == CustomerInfo.customer_default_address_id ) {
                            $('sel-billing').selectedIndex = $('sel-shipping').selectedIndex = $('sel-billing').options.length - 1;
                            billingAdrId = shippingAdrId = json[ i ].address_book_id;
                            // co_update('billing'); co_update('shipping');
                        }
                    }
                }
            }
        });
    }
    function co_update( step ) {
        var adr;
        var s = '';
        switch ( step ) {
            case 'billing':
            case 'shipping':
                var idx = $('sel-'+step).selectedIndex;
                adr = Addresses[ idx ];
                if ( 'billing' == step ) { billingAdrId = adr.address_book_id; } else { shippingAdrId = adr.address_book_id; }
                zone_id[ step ] = adr.entry_zone_id;
                s = '<address>'+adr.entry_firstname+' '+adr.entry_lastname+'<br />'+adr.entry_street_address;
                if ( adr.entry_street_address2 ) s += '<br />'+adr.entry_street_address2;
                s += '<br />'+adr.entry_city+', '+adr.zone_code+' '+adr.entry_postcode+'<br />T| '+adr.entry_telephone;
                if ( adr.entry_fax ) s+= '<br />F| '+adr.entry_fax;
                s += '</address>';
                $('cp-'+step+'-sb').innerHTML = s;
                $('cp-'+step).className = 'complete';
                break;
            case 'payment':
                s = 'Credit Card Type:<br/>'+$F('cc_type')+'<br/>Card Number:<br/>xxxx-xxxx-xxxx-'+$F('cc_number').substr(-4,4)+'<br/>Name on Card:<br/>'+$F('cc_owner')+'<br/>Expiration Date:<br/>'+$F('expiration')+'/'+$F('expiration_yr')+'<br/>Card Verification Number:<br/>'+$F('cc_cvv2');
                $('cp-payment-sb').innerHTML = s;
                $('cp-payment').className = 'complete';
                break;
        }
        if ( !co_avail[step] ) co_add_edit( step );
        co_avail[step] = true;
    }
    function co_add_edit( step ) {
        var s = $('cp-'+step+'-h4').innerHTML + ' | <a href="javascript:void(null);" onclick="Element.scrollTo(\'co-billing\');';
        if ( 'shipping' == step )  s += '$(\'ship2bill\').checked=false;';
        s += 'co_process(\''+step+'\');">Edit</a>';
        $('cp-'+step+'-h4').innerHTML = s;
    }
    function co_form_update( step ) {
        var s = '';
        zone_id[ step ] = $F( step + ':zone_id' );
        s = '<address>'+$F(step+':firstname')+' '+$F(step+':lastname')+'<br />'+$F(step+':street_address');
        if ( $F(step+':street_address2') ) s += '<br />'+$F(step+':street_address2');
        s += '<br />'+$F(step+':city')+', '+$F(step+':zone_id')+' '+$F(step+':postcode')+'<br />T| '+$F(step+':telephone');
        if ( $F(step+':fax') ) s+= '<br />F| '+$F(step+':fax');
        s += '</address>';
        $('cp-'+step+'-sb').innerHTML = s;
        $('cp-'+step).className = 'complete';
        if ( !co_avail[step] ) co_add_edit( step );
        co_avail[step] = true;
    }
    function co_login() {
        new Ajax.Request( 'checkout.php?<{$smarty.const.SID}>', {
            method: 'post',
            parameters: { type: 'json', request: 'login', email_address: $F('email'), password: $F('password') },
            onSuccess: function( transport, json ) {
                if ( json ) {
                    if ( json.error ) {
                        alert( json.error );
                    } else {
                        CustomerInfo = json;
                        var s = 'Welcome <strong class="text-bigger">' + CustomerInfo.customer_first_name + '</strong>!&nbsp;|&nbsp;&nbsp;<a href="logoff.php" class="gray-link">Logoff</a>';
                        if ( $('header-welcome') ) $('header-welcome').innerHTML = s; else new Insertion.Top( $('header-links'), '<span id="header-welcome">' + s + '</span>' );
                        if ( 1 == CustomerInfo.can_use_coupons ) { $('co-coupon-box').show(); $('co-coupon-topbox').addClassName('btop'); } else { $('co-coupon-box').hide();  $('co-coupon-topbox').removeClassName('btop'); }
                        co_process( 'billing-select' );
                    }
                }
            }
        });
    }
    var coupon_checked = false;
    function co_check_coupon() {
        coupon_checked = false;
        var code = $F('coupon_code');
        var elm = $('coupon_code');
        elm.removeClassName('validation-failed');
        elm.addClassName('validation-passed');
        var  advice = $('coupon_error');
        if ( advice != null ) advice.hide();
        if ( '' == code ) {
            coupon_checked = true;
            return true;
        }
        new Ajax.Request( 'checkout.php?<{$smarty.const.SID}>', {
            method: 'post',
            asynchronous: false,
            parameters: { type: 'json', request: 'coupon', coupon_code: code },
            onSuccess: function( transport, json ) {
                if ( json ) {
                    if ( json.error ) {
                        // alert( json.error );
                        elm.removeClassName('validation-passed');
                        elm.addClassName('validation-failed');
                        if ( advice == null ) {
                            advice = '<div class="validation-advice" id="coupon_error" style="display:none">' + json.error + '</div>';
                            new Insertion.After( elm, advice );
                            advice = $('coupon_error');
                        } else {
                            advice.innerHTML = json.error;
                        }
                        if ( typeof Effect == 'undefined' ) {
                            advice.style.display = 'block';
                        } else {
                            new Effect.Appear( advice, {duration : 1 });
                        }
                        coupon_checked = false;
                        return false;
                    } else {
                        coupon_checked = true;
                        return true;
                    }
                }
            }
        });
        return coupon_checked;
    }
    function co_process( step ) {
        co_prev_step = co_step;
        co_step = step;
        switch ( step ) {
            case 'login-login':
                new Ajax.Request( 'login.php?action=process&<{$smarty.const.SID}>', { method: 'post', onSuccess: getCustomerId });
                break;
            case 'login-guest':
                break;
            case 'login-register':
                if ( $('checkout_type:register').checked ) {
                    document.location.href='create_account.php?'+SID;
                } else {
                    if ( $('checkout_type:guest').checked ) co_process('billing-new');
                }
                break;
            case 'billing':
            case 'billing-select':
                if ( !CustomerInfo ) { co_process('billing-new'); break; }
                if ( billingNew )  { co_process('billing-new'); break; }
                if ( !Addresses.length ) getAddressBook();
                $('co-login').style.display = 'none';
                $('co-billing').className = 'on';
                $('co-shipping').className = $('co-payment').className = $('co-review').className = '';
                $('co-billing-nb2').style.paddingTop = '0';
                $('co-billing-nb').style.display = 'block'; $('co-billing-db').style.display = 'none';
                break;
            case 'billing-new':
                $('co-login').style.display = 'none';
                $('co-billing').className = 'on';
                $('co-shipping').className = $('co-payment').className = $('co-review').className = '';
                $('co-billing-nb2').style.paddingTop = '10px';
                $('co-billing-nb').style.display = 'none'; $('co-billing-db').style.display = 'block';
                break;
            case 'shipping':
                if ( 'billing-new' == co_prev_step) {
                    if ( !val_billing.validate() ) {
                        co_step = co_prev_step;
                        break;
                    }
                    billingNew = true;
                }
                if ( !CustomerInfo || billingNew ) { 
                    co_form_update('billing');
                    if ( $F('ship2bill') ) {
                        $('shipping:firstname').value = $F('billing:firstname');
                        $('shipping:lastname').value = $F('billing:lastname');
                        $('shipping:company').value = $F('billing:company');
                        $('shipping:email_address').value = $F('billing:email_address');
                        $('shipping:street_address').value = $F('billing:street_address');
                        $('shipping:street_address2').value = $F('billing:street_address2');
                        $('shipping:city').value = $F('billing:city');
                        $('shipping:zone_id').selectedIndex = $('billing:zone_id').selectedIndex;
                        $('shipping:postcode').value = $F('billing:postcode');
                        $('shipping:telephone_p1').value = $F('billing:telephone_p1');
                        $('shipping:telephone_p2').value = $F('billing:telephone_p2');
                        $('shipping:telephone_p3').value = $F('billing:telephone_p3');
                        $('shipping:telephone_p4').value = $F('billing:telephone_p4');
                        $('shipping:telephone').value = $F('billing:telephone');
                        $('shipping:fax_p1').value = $F('billing:fax_p1');
                        $('shipping:fax_p2').value = $F('billing:fax_p2');
                        $('shipping:fax_p3').value = $F('billing:fax_p3');
                        $('shipping:fax').value = $F('billing:fax');
                        co_form_update('shipping');
                        shippingNew = true;
                        co_process('payment');
                    } else {
                        co_process('shipping-new');
                    }
                } else {
                    co_update('billing');
                    if ( $F('ship2bill') ) {
                        $('sel-shipping').selectedIndex = $('sel-billing').selectedIndex;
                        co_update('shipping');
                        co_process( 'payment' );
                    } else {
                        co_process( 'shipping-select' );
                    }
                }
                break;
            case 'shipping-select':
                if ( !CustomerInfo ) { co_process('shipping-new'); break; }
                if ( shippingNew )  { co_process('shipping-new'); break; }
                $('co-login').style.display = 'none';
                $('co-billing').className = $('co-payment').className = $('co-review').className = '';
                $('co-shipping').className = 'on';
                $('co-shipping-nb').style.display = 'block'; $('co-shipping-db').style.display = 'none';
                break;
            case 'shipping-new':
                $('co-login').style.display = 'none';
                $('co-billing').className = $('co-payment').className = $('co-review').className = '';
                $('co-shipping').className = 'on';
                $('co-shipping-nb').style.display = 'none'; $('co-shipping-db').style.display = 'block';
                break;
            case 'payment':
                if ( 'shipping-new' == co_prev_step ) {
                    if ( !val_shipping.validate() ) {
                        co_step = co_prev_step;
                        break;
                    }
                    shippingNew = true;
                    co_form_update('shipping');
                }
                if ( 'shipping-select' == co_prev_step ) { co_update('shipping'); }
                $('co-login').style.display = 'none';
                $('co-billing').className = $('co-shipping').className = $('co-review').className = '';
                $('co-payment').className = 'on';
                break;
            case 'review':
                if ( !val_payment.validate() || !co_check_coupon() ) {
                    co_step = 'payment';
                    break;
                }
                co_update('payment');
                $('co-login').style.display = 'none';
                $('co-billing').className = $('co-shipping').className = $('co-payment').className = '';
                $('co-review-cont').innerHTML = '<br /><br /><center>processing...</center><br /><br />';
                $('co-review').className = 'on';
                co_avail.review = true;
                new Ajax.Updater( 'co-review-cont', 'checkout.php?<{$smarty.const.SID}>', { parameters: { type: 'html', request: 'cart', shipping_zone: zone_id.shipping, billing_zone: zone_id.billing, coupon_code:$F('coupon_code') }, onSuccess: function(transport) {} });
                break;
            case 'submit':
                break;
            default:
                $('co-login').style.display = 'block';
                $('co-billing').className = $('co-shipping').className = $('co-payment').className = $('co-review').className = '';
                break;
        }
    }
    function co_place_order() {
    
        if ( billingNew ) {
            $('billing[address_book_id]').value = 0;
            $('billing[firstname]').value = $F('billing:firstname');
            $('billing[lastname]').value = $F('billing:lastname');
            $('billing[email_address]').value = $F('billing:email_address');
            $('billing[street_address]').value = $F('billing:street_address');
            $('billing[street_address2]').value = $F('billing:street_address2');
            $('billing[telephone]').value = $F('billing:telephone');
            $('billing[fax]').value = $F('billing:fax');
            $('billing[postcode]').value = $F('billing:postcode');
            $('billing[city]').value = $F('billing:city');
            $('billing[country_id]').value = $F('billing:country_id');
            $('billing[company]').value = $F('billing:company');
            $('billing[zone_id]').value = $F('billing:zone_id');
        } else {
            $('billing[address_book_id]').value = billingAdrId;
        }
        if ( shippingNew ) {
            $('shipping[address_book_id]').value = 0;
            $('shipping[firstname]').value = $F('shipping:firstname');
            $('shipping[lastname]').value = $F('shipping:lastname');
            $('shipping[email_address]').value = $F('shipping:email_address');
            $('shipping[street_address]').value = $F('shipping:street_address');
            $('shipping[street_address2]').value = $F('shipping:street_address2');
            $('shipping[telephone]').value = $F('shipping:telephone');
            $('shipping[fax]').value = $F('shipping:fax');
            $('shipping[postcode]').value = $F('shipping:postcode');
            $('shipping[city]').value = $F('shipping:city');
            $('shipping[country_id]').value = $F('shipping:country_id');
            $('shipping[company]').value = $F('shipping:company');
            $('shipping[zone_id]').value = $F('shipping:zone_id');
        } else {
            $('shipping[address_book_id]').value = shippingAdrId;
        }
        
        $('payment[cc_type]').value = $F('cc_type');
        $('payment[cc_owner]').value = $F('cc_owner');
        $('payment[cc_number]').value = $F('cc_number');
        $('payment[cc_expires]').value = $F('expiration') + $F('expiration_yr');
        $('payment[cc_cvv2]').value = $F('cc_cvv2');
        $('payment[coupon_code]').value = $F('coupon_code');
        
        $('co-form-place').submit();
    }
*/
</script>
<div class="content page-checkout">
    <ol id="one-pg-co">
        <!-- ----------------------------------------------------------------------------------------- -->
        <li id="co-login" class="on"><form id="co-select-form">
            <h3>Login</h3>
            <div class="step-body">
                <div class="note-box">
                    <fieldset>
                        <p><strong>Already Registered?</strong><br/>
                            Log in below to take advantage of Express Checkout:</p>
                        <ul>
                            <li><div class="left">
                                    <label for="email">Email Address</label></br>
                                    <input type="text" class="input-text" id="email" name="email_address" /></div>
                            </li>
                            <li><div class="left"><label for="password">Password</label></br><input type="password" class="input-text" id="password" name="password" /></div>
                                    <div class="right" style="padding-top:20px;"><a href="password_forgotten.php">Forgot your password?</a></div></li>
                        </ul>
                    </fieldset>
                    <div class="buttons"><input type="button" class="input-button" value="Login" onclick="co_login();"/></div>
                </div>
            </div>
            <h3 style="border:0;">Checkout as a Guest or Register</h3>
            <div class="step-body">
                <div class="note-box">
                    <fieldset>
                        <p>You may check out as a guest or register with us for future convenience:</p>
                        <p><input type="radio" name="checkout_type" id="checkout_type:guest" value="1" /> <label for="checkout_type:guest"><strong>Checkout as Guest</strong></label><br/>
                            <input type="radio" name="checkout_type" id="checkout_type:register" value="2" /> <label for="checkout_type:register"><strong>Register</strong></label></p>
                        <strong>Register and save time!</strong><br/>
                        <ul class="disc">
                            <li>Fast and easy check out</li>
                            <li>Easy access to your order history and status</li>
                        </ul>
                    </fieldset>
                    <div class="buttons"><input type="button" class="input-button" value="Continue" onclick="co_process('login-register');"/></div>
                </div>
            </div>
        </form></li>
        <!-- ----------------------------------------------------------------------------------------- -->
        <li id="co-billing">
            <h3 onclick="if(co_avail.billing)co_process('billing-select');"><span class="step-number">1</span>Billing Information</h3>
            <div class="step-body">
                <div id="co-billing-nb" class="note-box" style="display:block;">
                    <p class="option">Select a billing address from your address book or enter a &nbsp;<a href="javascript:void(null);" onclick="co_process('billing-new');">new address</a></p>
                    <select id="sel-billing" name="" style="width:100%;"></select>
                </div>
                <div id="co-billing-db" class="default-box" style="display:block;">
                    <p class="option">Enter new billing information</p>
                    <form id="co-billing-form"><fieldset>
                        <ul>
                            <li><div class="left">
                                    <label for="billing:firstname">First Name <span class="required">*</span></label><br/><input type="text" id="billing:firstname" title="First Name" class="required-entry input-text"/>
                                </div>
                                <div class="right">
                                    <label for="billing:lastname">Last Name <span class="required">*</span></label><br/>
                                    <input type="text" id="billing:lastname" title="Last Name" class="required-entry input-text"/>
                                </div>
                            </li>
                            <li><div class="left">
                                    <label for="billing:company">Company</label><br/>
                                    <input type="text" id="billing:company" title="Company" class="input-text"/>
                                </div>
                                <div class="right">
                                    <label for="billing:email_address">Email <span class="required">*</span></label><br/>
                                    <input type="text" id="billing:email_address" title="Email Address" class="validate-email required-entry input-text"/>
                                </div>
                            </li>
                            <li><label for="billing:street_address">Street Address <span class="required">*</span></label><br/>
                                <input type="text" title="Street Address" id="billing:street_address" class="required-entry input-text"/></li>
                            <li><input type="text" title="Street Address 2" id="billing:street_address2" class="input-text"/></li>
                            <li><label for="billing:city">City <span class="required">*</span></label><br/>
                                <input type="text" title="City" class="required-entry input-text" id="billing:city"/></li>
                            <li>
                                <div class="left">
                                    <label for="billing:zone_id">State / Province <span class="required">*</span></label><br/>
                                    <select title="State/Province" id="billing:zone_id" class="validate-select required-entry">
                                        <{foreach item=zone from=$page.form.states}>
                                            <option value="<{$zone.zone_id}>"><{$zone.zone_name}></option>
                                        <{/foreach}>
                                    </select></div>
                                <div class="right">
                                    <label for="billing:postcode">Zip <span class="required">*</span></label><br/>
                                    <input type="text" title="ZIP/Post Code" id="billing:postcode" class="validate-zip required-entry input-text"/>
                                </div>
                            </li>
                            <{*<li><label for="billing:country_id">Country <span class="required">*</span></label><br/>
                                <select id="billing:country_id" title="Country" disabled><option value="223" selected="selected">United zone_ids</option></select></li>*}>
                                <input type="hidden" id="billing:country_id" value="223">
                            <li>
                                <div class="left"><label for="billing:telephone">Telephone <span class="required">*</span></label><br/>
                                    (<input type="text" value="" title="Telephone" class="required-entry input-text input-size3" id="billing:telephone_p1" size="3" maxlength="3" style="width: 35px;" />)
            <input type="text" value="" title="Telephone" class="required-entry input-text input-size3" id="billing:telephone_p2" size="3" maxlength="3" style="width: 35px;" />
            - <input type="text" value="" title="Telephone" class="required-entry input-text input-size4" id="billing:telephone_p3" size="4" maxlength="4" style="width: 50px;" />
            x <input type="text" value="" title="Telephone" class="input-text input-size4" id="billing:telephone_p4" size="3" maxlength="4" style="width: 50px;" />
            <input type="hidden" name="billing:telephone" value="" class="validate-telephone" id="billing:telephone" />
            <script type="text/javascript">phone = new telephoneElem('billing:telephone', 'billing:telephone_p1', 'billing:telephone_p2', 'billing:telephone_p3', 'billing:telephone_p4');</script></div>
                                <div class="right"><label for="billing:fax">Fax</label><br/>
                                    (<input type="text" value="" title="Fax" class="input-text input-size3" id="billing:fax_p1" size="3" maxlength="3" style="width: 35px;" />)
            <input type="text" value="" title="Fax" class="input-text input-size3" id="billing:fax_p2" size="3" maxlength="3" style="width: 35px;" />
            - <input type="text" value="" title="Fax" class="input-text input-size4" id="billing:fax_p3" size="4" maxlength="4" style="width: 50px;" />
            <input type="hidden" value="" class="validate-fax" id="billing:fax"/>
            <script type="text/javascript">fax = new telephoneElem('billing:fax', 'billing:fax_p1', 'billing:fax_p2', 'billing:fax_p3', false);</script></div></li>
                        </ul>
                    </fieldset></form>
                </div>
                <div id="co-billing-nb2" class="note-box" style="padding-top:0;">
                    <input type="checkbox" id="ship2bill" /><label for="ship2bill"><strong>Ship to this address</strong></label>
                    <p class="a-right"><span class="required">* Required Fields</span></p>
                    <div class="note-box buttons"><input type="button" class="input-button" value="Continue" onclick="co_process('shipping');" /></div>
                </div>
            </div>
        </li>
        <!-- ----------------------------------------------------------------------------------------- -->
        <li id="co-shipping">
            <h3 onclick="if(co_avail.shipping)co_process('shipping-select');"><span class="step-number">2</span>Shipping Information</h3>
            <div class="step-body">
                <div id="co-shipping-nb" class="note-box" style="display:block;">
                    <p class="option">Select a shipping address from your address book or enter a &nbsp;<a href="javascript:void(null);" onclick="co_process('shipping-new')">new address</a></p>
                    <select id="sel-shipping" name="" style="width:100%;"></select>
                </div>
                <div id="co-shipping-db" class="default-box" style="display:block;">
                    <p class="option">Enter new shipping information</p>
                    <form id="co-shipping-form"><fieldset>
                        <ul>
                            <li><div class="left">
                                    <label for="shipping:firstname">First Name <span class="required">*</span></label><br/><input type="text" id="shipping:firstname" title="First Name" class="required-entry input-text"/>
                                </div>
                                <div class="right">
                                    <label for="shipping:lastname">Last Name <span class="required">*</span></label><br/>
                                    <input type="text" id="shipping:lastname" title="Last Name" class="required-entry input-text"/>
                                </div>
                            </li>
                            <li><div class="left">
                                    <label for="shipping:company">Company</label><br/>
                                    <input type="text" id="shipping:company" title="Company" class="input-text"/>
                                </div>
                                <div class="right">
                                    <label for="shipping:email_address">Email <span class="required">*</span></label><br/>
                                    <input type="text" id="shipping:email_address" title="Email Address" class="validate-email required-entry input-text"/>
                                </div>
                            </li>
                            <li><label for="shipping:street_address">Street Address <span class="required">*</span></label><br/>
                                <input type="text" name="street_address" title="Street Address" id="shipping:street_address" class="required-entry input-text"/></li>
                            <li><input type="text" name="street_address2" title="Street Address 2" id="shipping:street_address2" class="input-text"/></li>
                            <li><label for="shipping:city">City <span class="required">*</span></label><br/>
                                <input type="text" title="City" class="required-entry input-text" id="shipping:city"/></li>
                            <li>
                                <div class="left">
                                    <label for="shipping:zone_id">State / Province <span class="required">*</span></label><br/>
                                    <select title="State/Province" id="shipping:zone_id" class="validate-select required-entry">
                                        <{foreach item=zone from=$page.form.states}>
                                            <option value="<{$zone.zone_id}>"><{$zone.zone_name}></option>
                                        <{/foreach}>
                                    </select></div>
                                <div class="right">
                                    <label for="shipping:postcode">Zip <span class="required">*</span></label><br/>
                                    <input type="text" title="ZIP/Post Code" id="shipping:postcode" class="validate-zip required-entry input-text"/></div>
                            </li>
                            <{*<li><label for="shipping:country_id">Country <span class="required">*</span></label><br/>
                                <select id="shipping:country_id" title="Country" disabled><option value="223" selected="selected">United zone_ids</option></select></li>*}>
                                <input type="hidden" id="shipping:country_id" value="223">
                            <li><div class="left"><label for="shipping:telephone">Telephone <span class="required">*</span></label><br/>
                                    (<input type="text" value="" title="Telephone" class="required-entry input-text input-size3" id="shipping:telephone_p1" size="3" maxlength="3" style="width: 35px;" />)
            <input type="text" value="" title="Telephone" class="required-entry input-text input-size3" id="shipping:telephone_p2" size="3" maxlength="3" style="width: 35px;" />
            - <input type="text" value="" title="Telephone" class="required-entry input-text input-size4" id="shipping:telephone_p3" size="4" maxlength="4" style="width: 50px;" />
            x <input type="text" value="" title="Telephone" class="input-text input-size4" id="shipping:telephone_p4" size="3" maxlength="4" style="width: 50px;" />
            <input type="hidden" name="shipping:telephone" value="" class="validate-telephone" id="shipping:telephone" />
            <script type="text/javascript">phone = new telephoneElem('shipping:telephone', 'shipping:telephone_p1', 'shipping:telephone_p2', 'shipping:telephone_p3', 'shipping:telephone_p4');</script></div>
                                <div class="right"><label for="shipping:fax">Fax</label><br/>
                                    (<input type="text" value="" title="Telephone" class="input-text input-size3" id="shipping:fax_p1" size="3" maxlength="3" style="width: 35px;" />)
            <input type="text" value="" title="Telephone" class="input-text input-size3" id="shipping:fax_p2" size="3" maxlength="3" style="width: 35px;" />
            - <input type="text" value="" title="Telephone" class="input-text input-size4" id="shipping:fax_p3" size="4" maxlength="4" style="width: 50px;" />
            <input type="hidden" value="" class="validate-fax" id="shipping:fax"/>
            <script type="text/javascript">fax = new telephoneElem('shipping:fax', 'shipping:fax_p1', 'shipping:fax_p2', 'shipping:fax_p3', false);</script></div></li>
                            <li class="a-right"><span class="required">* Required Fields</span></li>
                        </ul>
                    </fieldset></form>
                </div>
                <div class="note-box buttons"><input type="button" class="input-button" value="Continue" onclick="co_process('payment');" /></div>
            </div>
        </li>
        <!-- ----------------------------------------------------------------------------------------- -->
        <li id="co-payment">
            <h3 onclick="if(co_avail.payment)co_process('payment');"><span class="step-number">3</span>Payment Information</h3>
            <div class="step-body">
                <div class="default-box">
                    <form id="co-payment-form"><fieldset>
                        <ul>
                            <li><div class="left">
                                    <label for="cc_type">Credit Card Type <span class="required">*</span></label><br/>
                                    <select id="cc_type">
                                        <option value="Visa">Visa</option>
                                        <option value="Mastercard">Mastercard</option>
                                        <option value="American Express">American Express</option>
                                    </select>
                                </div>
                            </li>
                            <li><div class="left">
                                    <label for="cc_number">Card Number <span class="required">*</span></label><br/>
                                    <input type="text" id="cc_number" title="Card Number" class="required-entry input-text" />
                                </div>
                            </li>
                            <li><div class="left">
                                    <label for="cc_owner">Name on Card <span class="required">*</span></label><br/>
                                    <input type="text" title="Name on Card" class="required-entry input-text" id="cc_owner" /></div></li>
                            <li>
                                <label for="expiration">Expiration Date <span class="required">*</span></label><br/>
                                <select id="expiration" style="width:140px;">
                                    <option value="01">01-January</option>
                                    <option value="02">02-February</option>
                                    <option value="03">03-March</option>
                                    <option value="04">04-April</option>
                                    <option value="05">05-May</option>
                                    <option value="06">06-June</option>
                                    <option value="07">07-July</option>
                                    <option value="08">08-August</option>
                                    <option value="09">09-September</option>
                                    <option value="10">10-October</option>
                                    <option value="11">11-November</option>
                                    <option value="12">12-December</option>
                                </select> 
                                <select id="expiration_yr" style="width:103px;">
                                    <{foreach item=eyear from=$page.form.expires_year}>
                                        <option value="<{$eyear.id}>"><{$eyear.text}></option>
                                    <{/foreach}>
                                </select>
                            </li>
                            <li><label for="cvn">Card Verification Number <span class="required">*</span> | <a href="javascript:CVVPopUpWindow('cvv.html')" >What is this?</a></label> <br/>
                                <input type="text" title="Card Verification Number" class="required-entry input-text" id="cc_cvv2" style="width:3em;" /> </li>
                            <{*<li><input type="checkbox" name="save_credict" value="yes"><strong>Save the credit card for future use.</strong></li>*}>
                        </ul>
                        <ul  id="co-coupon-topbox" style="margin-top:10px; padding-top:10px;"<{if !$page.customer_info || $page.customer_info.can_use_coupons}> class="btop"<{/if}>><li  id="co-coupon-box"<{if $page.customer_info && !$page.customer_info.can_use_coupons}> style="display: none;"<{/if}>>
                                <p><strong>Do you have a coupon code? Please enter it below.</strong></p>
                                <label for="coupon_code">Coupon Code</label><br/>
                                <input type="text" name="coupon_code" id="coupon_code" title="Coupon Code" class="input-text" style="width:240px;"/></li>
                            <li class="a-right"><span class="required">* Required Fields</span></li>
                        </ul>
                    </fieldset></form>
                </div>
                <div class="note-box buttons"><input type="button" class="input-button" value="Continue" onclick="co_process('review');" /></div>
            </div>
        </li>
        <!-- ----------------------------------------------------------------------------------------- -->
        <li id="co-review">
            <h3 onclick="if(co_avail.review)co_process('review');"><span class="step-number">4</span>Order Review</h3>
            <form action="<{$page.links.checkout_process}>" method="POST" id="co-form-place">
                <div class="step-body" id="co-review-cont">&nbsp;</div>
                <input type="hidden" name="billing[address_book_id]" id="billing[address_book_id]" value="" />
                <input type="hidden" name="billing[firstname]" id="billing[firstname]" value="" />
                <input type="hidden" name="billing[lastname]" id="billing[lastname]" value="" />
                <input type="hidden" name="billing[email_address]" id="billing[email_address]" value="" />
                <input type="hidden" name="billing[street_address]" id="billing[street_address]" value="" />
                <input type="hidden" name="billing[street_address2]" id="billing[street_address2]" value="" />
                <input type="hidden" name="billing[telephone]" id="billing[telephone]" value="" />
                <input type="hidden" name="billing[fax]" id="billing[fax]" value="" />
                <input type="hidden" name="billing[postcode]" id="billing[postcode]" value="" />
                <input type="hidden" name="billing[city]" id="billing[city]" value="" />
                <input type="hidden" name="billing[country_id]" id="billing[country_id]" value="" />
                <input type="hidden" name="billing[company]" id="billing[company]" value="" />
                <input type="hidden" name="billing[zone_id]" id="billing[zone_id]" value="" />
                <input type="hidden" name="shipping[address_book_id]" id="shipping[address_book_id]" value="" />
                <input type="hidden" name="shipping[firstname]" id="shipping[firstname]" value="" />
                <input type="hidden" name="shipping[lastname]" id="shipping[lastname]" value="" />
                <input type="hidden" name="shipping[email_address]" id="shipping[email_address]" value="" />
                <input type="hidden" name="shipping[street_address]" id="shipping[street_address]" value="" />
                <input type="hidden" name="shipping[street_address2]" id="shipping[street_address2]" value="" />
                <input type="hidden" name="shipping[telephone]" id="shipping[telephone]" value="" />
                <input type="hidden" name="shipping[fax]" id="shipping[fax]" value="" />
                <input type="hidden" name="shipping[postcode]" id="shipping[postcode]" value="" />
                <input type="hidden" name="shipping[city]" id="shipping[city]" value="" />
                <input type="hidden" name="shipping[country_id]" id="shipping[country_id]" value="" />
                <input type="hidden" name="shipping[company]" id="shipping[company]" value="" />
                <input type="hidden" name="shipping[zone_id]" id="shipping[zone_id]" value="" />
                <input type="hidden" name="payment[cc_type]" id="payment[cc_type]" value="" />
                <input type="hidden" name="payment[cc_owner]" id="payment[cc_owner]" value="" />
                <input type="hidden" name="payment[cc_number]" id="payment[cc_number]" value="" />
                <input type="hidden" name="payment[cc_expires]" id="payment[cc_expires]" value="" />
                <input type="hidden" name="payment[cc_cvv2]" id="payment[cc_cvv2]" value="" />
                <input type="hidden" name="payment[coupon_code]" id="payment[coupon_code]" value="" />
            </form>
        </li>
        <!-- ----------------------------------------------------------------------------------------- -->
    </ol>
</div>
<script type="text/javascript">if ( CustomerInfo ) co_process('billing-select');</script>
<script type="text/javascript">
    val_billing = new Validation('co-billing-form');
    val_shipping = new Validation('co-shipping-form');
    val_payment = new Validation('co-payment-form');
</script>
