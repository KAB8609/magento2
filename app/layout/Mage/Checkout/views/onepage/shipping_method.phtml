<script type="text/javascript">
var ShippingMethod = Class.create();
ShippingMethod.prototype = {
    initialize: function(form){
        this.form = form;
        this.onSave = this.continue.bindAsEventListener(this);
    },

    save: function(){
        var validator = new Validation(this.form);
        if (validator.validate()) {
            var request = new Ajax.Request(
                '<?=$moduleBaseUrl?>/onepage/saveShippingMethod/',
                {
                    method:'post',
                    onSuccess: this.onSave,
                    parameters: Form.serialize(this.form)
                }
            );
        }
    },

    continue: function(){
        checkout.setReview();
    }
}
</script>
<div id="checkout-shipping-method-wait" class="step-body">
  	<div class="default-box" style="display:block;">
  	     Please wait, retrieving the shipping quotes...
  	</div>
</div>

<div id="checkout-shipping-method" class="step-body">

    <?include "shipping_method/box.phtml"?>

</div>

<script type="text/javascript">
    var shippingMethod = new ShippingMethod('co-shipping-method-form');
</script>
