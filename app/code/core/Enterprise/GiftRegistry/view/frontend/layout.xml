<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    design
 * @package     enterprise_default
 * @copyright   {copyright}
 * @license     {license_link}
 */

-->
<layout version="0.1.0">
    <checkout_cart_index>
        <reference name="checkout.cart.methods">
            <block type="Enterprise_GiftRegistry_Block_Cart_Link" name="giftregistry.cart.link" template="cart/link.phtml"/>
        </reference>
        <reference name="additional.product.info">
            <block type="Enterprise_GiftRegistry_Block_Cart_Product_Mark" name="giftregistry.product.mark" template="cart/product/mark.phtml"/>
        </reference>
    </checkout_cart_index>

    <wishlist_index_index>
        <reference name="customer.wishlist.item.info">
            <block type="Enterprise_GiftRegistry_Block_Wishlist_Item_Column_Registry" name="customer.wishlist.item.giftregistry" template="wishlist/item/column/registry.phtml"></block>
        </reference>
    </wishlist_index_index>

    <enterprise_giftregistry_index_index translate="label" type="page" parent="customer_account_index">
        <label>Customer GiftRegistry</label>
        <update handle="customer_account"/>
        <reference name="my.account.wrapper">
            <block type="Enterprise_GiftRegistry_Block_Customer_List" name="giftregistry.customer.list" template="customer/list.phtml"></block>
        </reference>
    </enterprise_giftregistry_index_index>

    <enterprise_giftregistry_index_share translate="label" type="page" parent="enterprise_giftregistry_index_index">
        <label>Customer GiftRegistry Share</label>
        <update handle="customer_account"/>
        <reference name="customer_account_navigation">
            <action method="setActive"><path>enterprise_giftregistry/index/index</path></action>
        </reference>
        <reference name="my.account.wrapper">
            <block type="Enterprise_GiftRegistry_Block_Customer_Share" name="giftregistry.customer.share" template="customer/share.phtml"></block>
        </reference>
    </enterprise_giftregistry_index_share>

    <enterprise_giftregistry_index_items translate="label" type="page" parent="enterprise_giftregistry_index_share">
        <label>Customer GiftRegistry Items List</label>
        <update handle="customer_account"/>
        <reference name="customer_account_navigation">
            <action method="setActive"><path>enterprise_giftregistry/index/index</path></action>
        </reference>
        <reference name="my.account.wrapper">
            <block type="Enterprise_GiftRegistry_Block_Items" name="giftregistry.customer.items" template="customer/items.phtml">
                <action method="addItemRender"><type>default</type><block>Mage_Checkout_Block_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template></action>
                <action method="addItemRender"><type>simple</type><block>Mage_Checkout_Block_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template></action>
                <action method="addItemRender"><type>grouped</type><block>Mage_Checkout_Block_Cart_Item_Renderer_Grouped</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template></action>
                <action method="addItemRender"><type>configurable</type><block>Mage_Checkout_Block_Cart_Item_Renderer_Configurable</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template></action>
                <action method="addItemRender"><type>bundle</type><block>Mage_Bundle_Block_Checkout_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template></action>
                <action method="addItemRender"><type>giftcard</type><block>Enterprise_GiftCard_Block_Checkout_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::customer/items/default.phtml</template>
            </action>
            </block>
        </reference>
    </enterprise_giftregistry_index_items>

     <customer_account>
        <block type="Enterprise_GiftRegistry_Block_Link" name="giftregistry_link_dashboard">
            <action method="addDashboardLink" translate="label" module="Enterprise_GiftRegistry">
                <block>customer_account_navigation</block><name>giftregistry</name><path>enterprise_giftregistry/</path><label>Gift Registry</label>
            </action>
        </block>
    </customer_account>

    <enterprise_giftregistry_search_index translate="label" type="page" parent="enterprise_giftregistry_index_index">
        <label>Customer GiftRegistry Search Form</label>
        <update handle="page_calendar"/>
        <reference name="content">
            <block type="Enterprise_GiftRegistry_Block_Search_Form" name="giftregistry.search.form" template="search/form.phtml"></block>
        </reference>
    </enterprise_giftregistry_search_index>

    <enterprise_giftregistry_search_results translate="label" type="page" parent="enterprise_giftregistry_search_index">
        <label>Customer GiftRegistry Search Results List</label>
        <update handle="page_calendar"/>
        <reference name="content">
            <block type="Enterprise_GiftRegistry_Block_Search_Form" name="giftregistry.search.form" template="search/form.phtml"></block>
            <block type="Enterprise_GiftRegistry_Block_Search_Results" name="giftregistry.search.results" template="search/results.phtml"></block>
        </reference>
    </enterprise_giftregistry_search_results>


    <enterprise_giftregistry_search_advanced translate="label" type="page" parent="enterprise_giftregistry_search_index">
        <label>Customer GiftRegistry Advanced Search Form</label>
        <block type="Enterprise_GiftRegistry_Block_Search_Advanced" name="root" template="search/advanced.phtml"></block>
    </enterprise_giftregistry_search_advanced>

    <enterprise_giftregistry_view_index translate="label" type="page" parent="enterprise_giftregistry_index_share">
        <label>Customer GiftRegistry Gift View</label>
        <reference name="root">
            <action method="setTemplate"><template>1column.phtml</template></action>
        </reference>
        <reference name="content">
            <block type="Enterprise_GiftRegistry_Block_View" name="enterprise.giftregistry.view" template="view.phtml">
                <block type="Enterprise_GiftRegistry_Block_Items" name="giftregistry_items" template="view/items.phtml">
                    <block type="Mage_Catalog_Block_Product_Price" template="product/price_msrp_item.phtml" name="enterprise.giftregistry.item.price" />

                    <action method="addItemRender"><type>default</type><block>Mage_Checkout_Block_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                    <action method="addItemRender"><type>simple</type><block>Mage_Checkout_Block_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                    <action method="addItemRender"><type>grouped</type><block>Mage_Checkout_Block_Cart_Item_Renderer_Grouped</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                    <action method="addItemRender"><type>configurable</type><block>Mage_Checkout_Block_Cart_Item_Renderer_Configurable</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                    <action method="addItemRender"><type>bundle</type><block>Mage_Bundle_Block_Checkout_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                    <action method="addItemRender"><type>giftcard</type><block>Enterprise_GiftCard_Block_Checkout_Cart_Item_Renderer</block><template>Enterprise_GiftRegistry::view/items/default.phtml</template></action>
                </block>
                <block type="Enterprise_GiftRegistry_Block_Customer_Items" name="giftregistry.view.items" template="view/items.phtml"/>
            </block>
        </reference>
        <update handle="MAP_popup" />
        <reference name="product.tooltip">
            <container name="product.info.addtocart.paypal.wrapper" label="PayPal Express Checkout Shortcut Wrapper" htmlTag="div">
                <block type="Mage_Paypal_Block_Express_Shortcut" name="product.info.addtocart.paypal" template="express/shortcut.phtml" module="Mage_Paypal">
                    <action method="setIsInCatalogProduct"><value>1</value></action>
                    <action method="setShowOrPosition"><value>after</value></action>
                </block>
            </container>
        </reference>
    </enterprise_giftregistry_view_index>

    <catalog_product_view>
        <reference name="product.info">
            <block type="Enterprise_GiftRegistry_Block_Product_View" name="product.view.block"></block>
        </reference>
    </catalog_product_view>

    <calendar>
        <reference name="head">
            <action method="addCss"><file>calendar/calendar-win2k-1.css</file><params/></action>
            <action method="addJs"><file>calendar/calendar.js</file></action>
            <action method="addJs"><file>calendar/calendar-setup.js</file></action>
        </reference>
        <reference name="content">
            <block type="Mage_Core_Block_Html_Calendar" name="html_calendar" as="html_calendar" template="Mage_Page::js/calendar.phtml"/>
        </reference>
    </calendar>

    <checkout_onepage_index>
        <reference name="content">
            <block type="Enterprise_GiftRegistry_Block_Customer_Checkout" name="giftregistry.customer.checkout" template="customer/checkout/onepage.phtml"/>
        </reference>
    </checkout_onepage_index>

    <checkout_multishipping_addresses>
        <reference name="content">
            <block type="Enterprise_GiftRegistry_Block_Customer_Checkout" name="giftregistry.customer.checkout" template="customer/checkout/multishipping.phtml"/>
        </reference>
        <reference name="additional.product.info">
            <block type="Enterprise_GiftRegistry_Block_Cart_Product_Mark" name="giftregistry.product.mark" template="cart/product/mark.phtml"/>
        </reference>
    </checkout_multishipping_addresses>

    <checkout_multishipping_shipping>
        <reference name="additional.product.info">
            <block type="Enterprise_GiftRegistry_Block_Cart_Product_Mark" name="giftregistry.product.mark" template="cart/product/mark.phtml"/>
        </reference>
    </checkout_multishipping_shipping>
    <checkout_multishipping_overview>
        <reference name="additional.product.info">
            <block type="Enterprise_GiftRegistry_Block_Cart_Product_Mark" name="giftregistry.product.mark" template="cart/product/mark.phtml"/>
        </reference>
    </checkout_multishipping_overview>

    <enterprise_giftregistry_index_addselect translate="label" module="Enterprise_GiftRegistry" type="page" parent="enterprise_giftregistry_view_index">
        <label>Customer My Account GiftRegistry Add</label>
        <update handle="customer_account"/>
        <reference name="customer_account_navigation">
            <action method="setActive"><path>enterprise_giftregistry/index/index</path></action>
        </reference>
        <reference name="my.account.wrapper">
            <block type="Enterprise_GiftRegistry_Block_Customer_Edit" name="giftregistry_addselect" template="edit/addselect.phtml"></block>
        </reference>
    </enterprise_giftregistry_index_addselect>

    <enterprise_giftregistry_index_edit translate="label" module="Enterprise_GiftRegistry" type="page" parent="enterprise_giftregistry_view_index">
        <label>Customer My Account GiftRegistry Edit</label>
        <update handle="customer_account"/>
        <update handle="calendar"/>
        <reference name="customer_account_navigation">
            <action method="setActive"><path>enterprise_giftregistry/index/index</path></action>
        </reference>
        <reference name="my.account.wrapper">
            <block type="Enterprise_GiftRegistry_Block_Customer_Edit" name="giftregistry_edit" template="edit/edit.phtml">
                <action method="addInputTypeTemplate"><type>text</type><template>Enterprise_GiftRegistry::attributes/text.phtml</template></action>
                <action method="addInputTypeTemplate"><type>region</type><template>Enterprise_GiftRegistry::attributes/region.phtml</template></action>
                <block type="Enterprise_GiftRegistry_Block_Customer_Edit_Registry" name="giftregistry_edit_registry" template="edit/registry.phtml"/>
                <block type="Enterprise_GiftRegistry_Block_Customer_Edit_Registrants" name="giftregistry_edit_registrants" template="edit/registrants.phtml"/>
                <block type="Enterprise_GiftRegistry_Block_Customer_Address_Edit" name="giftregistry_address_edit" template="address/edit.phtml"/>
            </block>
        </reference>
    </enterprise_giftregistry_index_edit>

    <checkout_onepage_review>
        <reference name="additional.product.info">
            <block type="Enterprise_GiftRegistry_Block_Cart_Product_Mark" name="giftregistry.product.mark" template="cart/product/mark.phtml"/>
        </reference>
    </checkout_onepage_review>

    <enterprise_giftregistry_email_entity_items translate="label" type="page" parent="enterprise_giftregistry_index_items">
        <label>Customer GiftRegistry Email Items List</label>
        <block type="Enterprise_GiftRegistry_Block_Email_Items" name="giftregistry.email.items" template="email/items.phtml"></block>
    </enterprise_giftregistry_email_entity_items>
</layout>
