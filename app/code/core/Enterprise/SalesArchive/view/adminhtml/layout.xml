<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    design
 * @package     default_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->

<layout>
    <adminhtml_sales_order_index>
        <reference name="sales.order.grid.massaction">
            <arguments>
                <options>
                    <updater>Enterprise_SalesArchive_Model_Order_Grid_Massaction_ItemsUpdater</updater>
                    <add_order_to_archive>
                        <label>Move to Archive</label>
                        <url>*/sales_archive/massAdd</url>
                    </add_order_to_archive>
                </options>
            </arguments>
        </reference>
        <reference name="sales_order.grid.container">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Order_Grid_Button" name="sales_order.grid.archive.button"></block>
        </reference>
    </adminhtml_sales_order_index>
    
    <adminhtml_sales_order_grid>
        <reference name="sales.order.grid.massaction">
            <arguments>
                <options>
                    <updater>Enterprise_SalesArchive_Model_Order_Grid_Massaction_ItemsUpdater</updater>
                    <add_order_to_archive>
                        <label>Move to Archive</label>
                        <url>*/sales_archive/massAdd</url>
                    </add_order_to_archive>
                </options>
            </arguments>
        </reference>
    </adminhtml_sales_order_grid>

    <adminhtml_sales_archive_orders_grid_block>
        <update handle="adminhtml_sales_order_grid_block"/>
        <reference name="sales.order.grid">
            <arguments>
                <id>sales_order_grid_archive</id>
                <dataSource type="object">Enterprise_SalesArchive_Model_Resource_Order_Collection</dataSource>
                <default_sort>0</default_sort>
                <grid_url type="url">
                    <path>*/*/ordersgrid</path>
                </grid_url>
            </arguments>
            <reference name="sales.order.grid.massaction">
                <arguments>
                    <options>
                        <updater>Enterprise_SalesArchive_Model_Order_Archive_Grid_Massaction_ItemsUpdater</updater>
                        <cancel_order>
                            <url>*/sales_archive/massCancel</url>
                        </cancel_order>
                        <hold_order>
                            <url>*/sales_archive/massHold</url>
                        </hold_order>
                        <unhold_order>
                            <url>*/sales_archive/massUnhold</url>
                        </unhold_order>
                        <remove_order_from_archive>
                            <label>Move to Orders Management</label>
                            <url>*/sales_archive/massRemove</url>
                        </remove_order_from_archive>
                        <pdfinvoices_order>
                            <url>*/sales_archive/massPrintInvoices</url>
                        </pdfinvoices_order>
                        <pdfshipments_order>
                            <url>*/sales_archive/massPrintPackingSlips</url>
                        </pdfshipments_order>
                        <pdfcreditmemos_order>
                            <url>*/sales_archive/massPrintCreditMemos</url>
                        </pdfcreditmemos_order>
                        <pdfdocs_order>
                            <url>*/sales_archive/massPrintAllDocuments</url>
                        </pdfdocs_order>
                        <print_shipping_label>
                            <url>*/sales_archive/massPrintShippingLabel</url>
                        </print_shipping_label>
                    </options>
                </arguments>
            </reference>
            <reference name="sales.order.grid.columnSet">
                <arguments>
                    <id>sales_order_grid_archive</id>
                    <rowUrl>
                        <generatorClass>Enterprise_SalesArchive_Model_Order_Archive_Grid_Row_UrlGenerator</generatorClass>
                    </rowUrl>
                </arguments>
            </reference>
        </reference>
    </adminhtml_sales_archive_orders_grid_block>

    <adminhtml_sales_archive_orders>
        <update handle="adminhtml_sales_archive_orders_grid_block"/>
        <reference name="content">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order" name="sales_order.grid.container"/>
        </reference>
    </adminhtml_sales_archive_orders>

    <adminhtml_sales_archive_ordersgrid>
        <update handle="formkey"/>
        <update handle="adminhtml_sales_archive_orders_grid_block"/>
        <container name="sales_order.grid.container" label="Sales Archive Grid Container" output="1"/>
    </adminhtml_sales_archive_ordersgrid>

    <adminhtml_sales_archive_exportexcel>
        <update handle="adminhtml_sales_archive_orders_grid_block" />
        <container name="sales_order.grid.container" label="Sales Archive Order Grid Container"/>
    </adminhtml_sales_archive_exportexcel>

    <adminhtml_sales_archive_exportcsv>
        <update handle="adminhtml_sales_archive_orders_grid_block" />
        <container name="sales_order.grid.container" label="Sales Archive Order Grid Container" />
    </adminhtml_sales_archive_exportcsv>

    <adminhtml_sales_archive_invoices>
        <reference name="content">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Invoice" name="archive">
                <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Invoice_Grid" name="archive.grid" as="grid" />
            </block>
        </reference>
    </adminhtml_sales_archive_invoices>

    <adminhtml_sales_archive_invoicesgrid>
        <update handle="formkey"/>
        <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Invoice_Grid" name="archive.grid" as="grid" output="1"/>
    </adminhtml_sales_archive_invoicesgrid>

    <adminhtml_sales_archive_shipments>
        <reference name="content">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Shipment" name="archive">
                <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Shipment_Grid" name="archive.grid" as="grid" />
            </block>
        </reference>
    </adminhtml_sales_archive_shipments>

    <adminhtml_sales_archive_shipmentsgrid>
        <update handle="formkey"/>
        <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Shipment_Grid" name="archive.grid" as="grid" output="1"/>
    </adminhtml_sales_archive_shipmentsgrid>

    <adminhtml_sales_archive_creditmemos>
        <reference name="content">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Creditmemo" name="archive">
                <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Creditmemo_Grid" name="archive.grid" as="grid" />
            </block>
        </reference>
    </adminhtml_sales_archive_creditmemos>

    <adminhtml_sales_archive_creditmemosgrid>
        <update handle="formkey"/>
        <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Archive_Order_Creditmemo_Grid" name="archive.grid" as="grid" output="1"/>
    </adminhtml_sales_archive_creditmemosgrid>
    
    <adminhtml_sales_order_view>
        <reference name="left">
            <block type="Enterprise_SalesArchive_Block_Adminhtml_Sales_Order_View_Replacer" name="archive.replacer" />
        </reference>
    </adminhtml_sales_order_view>

</layout>
