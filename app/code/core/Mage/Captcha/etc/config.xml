<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    Mage
 * @package     Mage_Captcha
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<config>
    <modules>
        <Mage_Captcha>
            <version>1.7.0.0.0</version>
        </Mage_Captcha>
    </modules>
    <default>
        <admin>
            <captcha>
                <type>zend</type>
                <enable>0</enable>
                <font>dejavu</font>
                <mode>after_fail</mode>
                <forms>backend_forgotpassword</forms>
                <failed_attempts>3</failed_attempts>
                <timeout>7</timeout>
                <length>4-5</length>
                <symbols>ABCDEFGHJKMnpqrstuvwxyz23456789</symbols>
                <case_sensitive>0</case_sensitive>
                <always_for>
                    <backend_forgotpassword>1</backend_forgotpassword>
                </always_for>
            </captcha>
        </admin>
        <customer>
            <captcha>
                <type>zend</type>
                <enable>0</enable>
                <font>dejavu</font>
                <mode>after_fail</mode>
                <forms>user_forgotpassword</forms>
                <failed_attempts>3</failed_attempts>
                <timeout>7</timeout>
                <length>4-5</length>
                <symbols>ABCDEFGHJKMnpqrstuvwxyz23456789</symbols>
                <case_sensitive>0</case_sensitive>
                <always_for>
                    <user_create>1</user_create>
                    <user_forgotpassword>1</user_forgotpassword>
                    <guest_checkout>1</guest_checkout>
                    <register_during_checkout>1</register_during_checkout>
                </always_for>
            </captcha>
        </customer>
        <captcha  translate="label">
            <fonts>
                <belligerent>
                    <label>Belligerent Madness</label>
                    <path>fonts/Belligerent-Madness/belligerent.ttf</path>
                </belligerent>
                <bitstream>
                    <label>Bitstream</label>
                    <path>fonts/Bitstream-Vera-Sans-Mono/VeraMono.ttf</path>
                </bitstream>
                <dejavu>
                    <label>DejaVu</label>
                    <path>fonts/DejaVu-Serif/DejaVuSerif.ttf</path>
                </dejavu>
            </fonts>
            <frontend>
                <areas>
                    <user_create>
                        <label>Create user</label>
                    </user_create>
                    <user_login>
                        <label>Login</label>
                    </user_login>
                    <user_forgotpassword>
                        <label>Forgot password</label>
                    </user_forgotpassword>
                    <guest_checkout>
                        <label>Checkout as Guest</label>
                    </guest_checkout>
                    <register_during_checkout>
                        <label>Register during Checkout</label>
                    </register_during_checkout>
                </areas>
            </frontend>
            <backend>
                <areas>
                    <backend_login>
                        <label>Admin Login</label>
                    </backend_login>
                    <backend_forgotpassword>
                        <label>Admin Forgot Password</label>
                    </backend_forgotpassword>
                </areas>
            </backend>
        </captcha>
    </default>
    <frontend>
        <routers>
            <captcha>
                <use>standard</use>
                <args>
                    <module>Mage_Captcha</module>
                    <frontName>captcha</frontName>
                </args>
            </captcha>
        </routers>
        <layout>
            <updates>
                <captcha module="Mage_Captcha">
                    <file>layout.xml</file>
                </captcha>
            </updates>
        </layout>
    </frontend>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <captcha>Mage_Captcha_Adminhtml</captcha>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <captcha module="Mage_Captcha">
                    <file>layout.xml</file>
                </captcha>
            </updates>
        </layout>
    </adminhtml>
    <global>
        <events>
            <controller_action_predispatch_customer_account_loginPost>
                <observers>
                    <captcha>
                        <class>Mage_Captcha_Model_Observer_UserLogin</class>
                        <method>checkCaptcha</method>
                    </captcha>
                </observers>
            </controller_action_predispatch_customer_account_loginPost>
            <controller_action_predispatch_customer_account_forgotpasswordpost>
                <observers>
                    <captcha>
                        <class>Mage_Captcha_Model_Observer_ForgotPassword</class>
                        <method>checkCaptcha</method>
                    </captcha>
                </observers>
            </controller_action_predispatch_customer_account_forgotpasswordpost>
            <controller_action_predispatch_customer_account_createpost>
                <observers>
                    <captcha>
                        <class>Mage_Captcha_Model_Observer_CreateUser</class>
                        <method>checkCaptcha</method>
                    </captcha>
                </observers>
            </controller_action_predispatch_customer_account_createpost>
            <controller_action_predispatch_adminhtml_index_forgotpassword>
                <observers>
                    <captcha>
                        <class>Mage_Captcha_Model_Observer_ForgotPasswordBackend</class>
                        <method>checkCaptcha</method>
                    </captcha>
                </observers>
            </controller_action_predispatch_adminhtml_index_forgotpassword>
            <admin_user_authenticate_before>
                <observers>
                    <captcha>
                        <class>Mage_Captcha_Model_Observer_UserLoginBackend</class>
                        <method>checkCaptcha</method>
                    </captcha>
                </observers>
            </admin_user_authenticate_before>
            <controller_action_predispatch_checkout_onepage_saveBilling>
                <observers>
                    <captcha_guest>
                        <class>Mage_Captcha_Model_Observer_GuestCheckout</class>
                        <method>checkCaptcha</method>
                    </captcha_guest>
                    <captcha_register>
                        <class>Mage_Captcha_Model_Observer_RegisterCheckout</class>
                        <method>checkCaptcha</method>
                    </captcha_register>
                </observers>
            </controller_action_predispatch_checkout_onepage_saveBilling>
        </events>
    </global>
</config>
