<?xml version="1.0"?>
<config>
   <modules>
      <Mage_Catalog>
         <version>0.6.4</version> 
         <depends>
            <Mage_Customer />
         </depends>
      </Mage_Catalog>
   </modules>
   <global>
      <models>
         <catalog>
            <class>Mage_Catalog_Model</class>
            <!--resourceModel>catalog_mysql4</resourceModel-->
            <resourceModel>catalog_entity</resourceModel>
         </catalog>
         <catalog_entity>
            <class>Mage_Catalog_Model_Entity</class>
            <entities>
              <product>
                <table>catalog_product_entity</table>
              </product>
              
              <category>
                <table>catalog_category_entity</table>
              </category>
              
              <category_tree>
                <table>catalog_category_tree</table>
              </category_tree>
              
              <category_product>
                <table>catalog_category_product</table>
              </category_product>
              
              <compare_item>
                <table>catalog_compare_item</table>
              </compare_item>
              
              <category_attribute_image>
                  <table>catalog_category_entity_gallery</table>
              </category_attribute_image>

              <product_store>
                <table>catalog_product_store</table>
              </product_store>
              
              <product_link>
                <table>catalog_product_link</table>
              </product_link>
              
              <product_type>
                <table>catalog_product_type</table>
              </product_type>

              <product_link_type>
                <table>catalog_product_link_type</table>
              </product_link_type>
              
              <product_bundle_option>
                <table>catalog_product_bundle_option</table>
              </product_bundle_option>
              
              <product_bundle_option_value>
                <table>catalog_product_bundle_option_value</table>
              </product_bundle_option_value>
              
              <product_bundle_option_link>
                <table>catalog_product_bundle_option_link</table>
              </product_bundle_option_link>
              
              
              
              <product_link_attribute>
                <table>catalog_product_link_attribute</table>
              </product_link_attribute>
              
              <product_link_attribute_decimal>
                <table>catalog_product_link_attribute_decimal</table>
              </product_link_attribute_decimal>
              
              
              <product_link_attribute_int>
                <table>catalog_product_link_attribute_int</table>
              </product_link_attribute_int>
              
              <product_link_attribute_varchar>
                <table>catalog_product_link_attribute_varchar</table>
              </product_link_attribute_varchar>
              
              <product_attribute_tier_price>
                  <table>catalog_product_entity_tier_price</table>
              </product_attribute_tier_price>
            </entities>
         </catalog_entity>
         <catalog_mysql4>
            <class>Mage_Catalog_Model_Mysql4</class>
            <entities>
               <category>
                  <table>catalog_category</table>
               </category>
               <category_attribute>
                  <table>catalog_category_attribute</table>
               </category_attribute>
               <category_attribute_value>
                  <table>catalog_category_attribute_value</table>
               </category_attribute_value>
               <category_attribute_set>
                  <table>catalog_category_attribute_set</table>
               </category_attribute_set>
               <category_attribute_in_set>
                  <table>catalog_category_attribute_in_set</table>
               </category_attribute_in_set>
               <category_filter>
                  <table>catalog_category_filter</table>
               </category_filter>
               <category_filter_value>
                  <table>catalog_category_filter_value</table>
               </category_filter_value>
               <category_product>
                  <table>catalog_category_product</table>
               </category_product>
               <product>
                  <table>catalog_product</table>
               </product>
               <product_attribute>
                  <table>catalog_product_attribute</table>
               </product_attribute>
               <product_attribute_set>
                  <table>catalog_product_attribute_set</table>
               </product_attribute_set>
               <product_attribute_in_set>
                  <table>catalog_product_attribute_in_set</table>
               </product_attribute_in_set>
               <product_attribute_group>
                  <table>catalog_product_attribute_group</table>
               </product_attribute_group>
               <product_attribute_in_group>
                  <table>catalog_product_attribute_in_group</table>
               </product_attribute_in_group>
               <product_attribute_int>
                  <table>catalog_product_attribute_int</table>
               </product_attribute_int>
               <product_attribute_decimal>
                  <table>catalog_product_attribute_decimal</table>
               </product_attribute_decimal>
               <product_attribute_varchar>
                  <table>catalog_product_attribute_varchar</table>
               </product_attribute_varchar>
               <product_attribute_text>
                  <table>catalog_product_attribute_text</table>
               </product_attribute_text>
               <product_attribute_date>
                  <table>catalog_product_attribute_date</table>
               </product_attribute_date>
               <product_attribute_option>
                  <table>catalog_product_attribute_option</table>
               </product_attribute_option>
               
               <product_link>
                  <table>catalog_product_link</table>
               </product_link>
               <product_link_type>
                  <table>catalog_product_link_type</table>
               </product_link_type>
               <product_link_attribute>
                  <table>catalog_product_link_attribute</table>
               </product_link_attribute>
               <product_link_attribute_decimal>
                  <table>catalog_product_link_attribute_decimal</table>
               </product_link_attribute_decimal>
               <product_link_attribute_varchar>
                  <table>catalog_product_link_attribute_varchar</table>
               </product_link_attribute_varchar>
               <product_rule>
                  <table>catalog_product_rule</table>
               </product_rule>
               <search>
                  <table>catalog_search</table>
               </search>
            </entities>
         </catalog_mysql4>
      </models>
      <catalog>
         <product>
            <types>
               <default />
               <bundle />
               <super />
            </types>
            <attribute>
               <inputs>
                  <text />
                  <textarea />
                  <select />
                  <imagefile />
                  <hidden />
               </inputs>
               <sources>
                  <type>
                     <class>catalog/product_attribute_source</class>
                  </type>
                  <status>
                     <class>catalog/product_attribute_source</class>
                  </status>
                  <manufacturer>
                     <class>catalog/product_attribute_source</class>
                  </manufacturer>
                  <category>
                     <class>catalog/product_attribute_source_category</class>
                  </category>
               </sources>
               <types>
                  <!-- define table names as XPATH -->
                  <varchar>
                     <table>catalog_product_attribute_varchar</table>
                  </varchar>
                  <decimal>
                     <table>catalog_product_attribute_decimal</table>
                  </decimal>
                  <date>
                     <table>catalog_product_attribute_date</table>
                  </date>
                  <text>
                     <table>catalog_product_attribute_text</table>
                  </text>
                  <int>
                     <table>catalog_product_attribute_int</table>
                  </int>
               </types>
               <savers>
                  <default>
                     <class>catalog/product_attribute_saver</class>
                  </default>
                  <image>
                     <class>catalog/product_attribute_saver_image</class>
                  </image>
                  <date>
                     <class>catalog/product_attribute_saver_date</class>
                  </date>
               </savers>
            </attribute>
            <rule>
              <conditions>
                <combine>
                  <class>rule/condition_combine</class>
                </combine>
                <system>
                  <class>rule/condition_system</class>
                </system>
                <product>
                  <class>catalog/product_rule_condition_product</class>
                </product>
              </conditions>
              <actions>
                <product>
                  <class>catalog/product_rule_action_product</class>
                </product>
                <stop>
                  <class>rule/action_stop</class>
                </stop>
              </actions>
            </rule>
         </product>
         <!-- TODO: move atributes in this section -->
         <category>
            <attribute>
               <inputs>
                  <text />
                  <textarea />
                  <imagefile />
               </inputs>
               <savers>
                  <default>
                     <name>Default</name>
                     <class>catalog/category_attribute_saver</class>
                  </default>
                  <upload>
                     <name>upload</name>
                     <class>catalog/category_attribute_saver_upload</class>
                  </upload>
               </savers>
            </attribute>
         </category>
      </catalog>
      <resources>
         <catalog_setup>
            <setup>
               <module>Mage_Catalog</module>
            </setup>
            <connection>
               <use>core_setup</use>
            </connection>
         </catalog_setup>
         <catalog_write>
            <connection>
               <use>core_write</use>
            </connection>
         </catalog_write>
         <catalog_read>
            <connection>
               <use>core_read</use>
            </connection>
         </catalog_read>
      </resources>
      <block>
         <groups><catalog><class>Mage_Catalog_Block</class></catalog></groups>
      </block>
   </global>
   <frontend>
      <layouts>
         <default>
            <updates>
               <catalog>
                  <file>catalog/initLayout.xml</file>
               </catalog>
            </updates>
         </default>
         <catalog_compare>
            <updates>
                <default>
                    <file>catalog/compare.xml</file>
                </default>
            </updates>
         </catalog_compare>
      </layouts>
      <routers>
         <catalog>
            <use>standard</use>
            <args>
               <module>Mage_Catalog</module>
               <frontName>catalog</frontName>
            </args>
         </catalog>
      </routers>
      <default>
         <router>catalog</router>
      </default>
      <events>
         <customerLogin>
             <observers>
                 <catalog>
                      <type>model</type>
                      <class>catalog/product_compare_item</class>
                      <method>bindCustomerLogin</method>
                 </catalog>
             </observers>
          </customerLogin>
      </events>
   </frontend>
</config>
