<?xml version="1.0"?>
<!--
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Mage
 * @package    Mage_AmazonPayments
 * @copyright  Copyright (c) 2008 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
-->
<config>
    <modules>
        <Mage_AmazonPayments>
            <version>0.1.1</version>
        </Mage_AmazonPayments>
    </modules>
    <global>
        <!--<sales>
	        <quote>
		        <item>
			        <product_attributes>
                        <disable_amazonpayments/>
			        </product_attributes>
		        </item>
	        </quote>
        </sales>-->
        <models>
            <amazonpayments>
                <class>Mage_AmazonPayments_Model</class>
                <resourceModel>amazonpayments_mysql4</resourceModel>
            </amazonpayments>
            <amazonpayments_mysql4>
                <class>Mage_AmazonPayments_Model_Mysql4</class>
                <entities>
                    <api_debug><table>amazonpayments_api_debug</table></api_debug>
                </entities>
            </amazonpayments_mysql4>
        </models>
        <helpers>
            <amazonpayments>
                <class>Mage_AmazonPayments_Helper</class>
            </amazonpayments>
        </helpers>
        <resources>
            <amazonpayments_setup>
                <setup>
                    <module>Mage_AmazonPayments</module>
                    <class>Mage_AmazonPayments_Model_Mysql4_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </amazonpayments_setup>
            <amazonpayments_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </amazonpayments_write>
            <amazonpayments_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </amazonpayments_read>
        </resources>
        <blocks>
            <amazonpayments><class>Mage_AmazonPayments_Block</class></amazonpayments>
        </blocks>
    </global>
<!--
Something like this is to be added to resolve bug #4890
<global>
        <rewrite>
            <amazonpayments>
                <core>
                <from>/^.*?amazonpayments\/api/</from>
                <to>amazonpayments/api</to>
            </amazonpayments>
        </rewrite>
</global>
-->
    <frontend>
        <!--<secure_url>
            <amazonpayments_redirect>/amazonpayments/redirect/</amazonpayments_redirect>
            <amazonpayments_beacon>/amazonpayments/api/beacon/</amazonpayments_beacon>
        </secure_url>-->
        <translate>
            <modules>
                <Mage_AmazonPayments>
                    <files>
                        <default>Mage_AmazonPayments.csv</default>
                    </files>
                </Mage_AmazonPayments>
            </modules>
        </translate>
        <routers>
            <amazonpayments>
                <use>standard</use>
                <args>
                    <module>Mage_AmazonPayments</module>
                    <frontName>amazonpayments</frontName>
                </args>
            </amazonpayments>
        </routers>
        <layout>
            <updates>
                <amazonpayments>
                    <file>amazonpayments.xml</file>
                </amazonpayments>
            </updates>
        </layout>
    </frontend>

    <adminhtml>
        <translate>
            <modules>
                <Mage_AmazonPayments>
                    <files>
                        <default>Mage_AmazonPayments.csv</default>
                    </files>
                </Mage_AmazonPayments>
            </modules>
        </translate>
    </adminhtml>

    <default>
        <payment>

            <amazonpayments_cba>
                <payment_action>Authorization</payment_action>
                <active>1</active>
                <model>amazonpayments/payment_cba</model>
                <title>Checkout by Amazon</title>
                <order_status>pending</order_status>
                <allowspecific>0</allowspecific>
                <payment_action>Authorization</payment_action>
                <merchant_id>A2ZZYWSJ0WMID8</merchant_id>
                <integrator_id>A2ZZYWSJ0WMID8</integrator_id>
                <merchant_name>Varien</merchant_name>
                <sandbox_flag>1</sandbox_flag>
                <accesskey_id>0RE4EZZ3H1P6ZHMK79G2</accesskey_id>
                <secretkey_id>naE7t1vI6PwrAPUgprm7tYf3pl8V6mCkJqOoXg/H</secretkey_id>
                <pay_service_url>https://payments.amazon.com/checkout/</pay_service_url>
                <sandbox_pay_service_url>https://payments-sandbox.amazon.com/checkout/</sandbox_pay_service_url>
                <button_url>http://g-ecx.images-amazon.com/images/G/01/cba/images/buttons/btn_Chkout-orange-medium.gif</button_url>
                <wsdl>https://merchant-api.amazon.com/gateway/merchant-interface-mime/</wsdl>
            </amazonpayments_cba>

            <amazonpayments_asp>
                <model>amazonpayments/payment_asp</model>
                <title>Amazon Simple Pay</title>
                <active>1</active>

                <types>IPN</types>
                <allowspecific>0</allowspecific>
                <order_status>pending</order_status>
                <merchant_name>Varien</merchant_name>
                <wsdl>/media/wsdl/amazon_cba_merchant-interface-mime.wsdl</wsdl>
                <payment_action>Authorization</payment_action>

                <sandbox_flag>1</sandbox_flag>
                <pay_service_url>https://authorize.payments.amazon.com/pba/paypipeline</pay_service_url>
                <sandbox_pay_service_url>https://authorize.payments-sandbox.amazon.com/pba/paypipeline</sandbox_pay_service_url>
                <access_key>1VZ8ZAV29R24E44ZMX82</access_key>
                <secret_key>DkY4MYLYX2359/7Wo8ILdN1GHc2lK77goDQGS64R</secret_key>
                <service_button_image_url>http://g-ecx.images-amazon.com/images/G/01/cba/images/buttons/btn_Chkout-orange-medium.gif</service_button_image_url>
                <request_signature_param_name>signature</request_signature_param_name>
                <immediate_return>1</immediate_return>
                <process_immediate>1</process_immediate>
                <collect_shipping_address>0</collect_shipping_address>
                <payment_description>MAGENTO ASP PAYMANT</payment_description>


            </amazonpayments_asp>

        </payment>
    </default>
</config>
