<?xml version="1.0"?>
<config>
    <modules>
        <Mage_Core>
            <version>0.1.3</version>
            <load>
                <all>
                    <resourceTypes>
                        <mysql>
                            <class>Mage_Core_Resource_Db_Mysql</class>
                        </mysql>
                
                        <mysqli>
                            <class>Mage_Core_Resource_Db_Mysqli</class>
                        </mysqli>
                    </resourceTypes>
            
                    <models>
                        <core>
                            <class>Mage_Core_Model_Mysql4</class>
                        </core>
                    </models>

                    <blocks>
                        <text><class>Mage_Core_Block_Text</class></text>
                        <tag><class>Mage_Core_Block_Text_Tag</class></tag>
                        <tag_css><class>Mage_Core_Block_Text_Tag_Css</class></tag_css>
                        <tag_js><class>Mage_Core_Block_Text_Tag_Js</class></tag_js>
                        <debug><class>Mage_Core_Block_Text_Tag_Debug</class></debug>
                        <tpl><class>Mage_Core_Block_Template</class></tpl>
                        <list><class>Mage_Core_Block_Text_List</class></list>
                        <list_link><class>Mage_Core_Block_Text_List_Link</class></list_link>
                        <form><class>Mage_Core_Block_Form</class></form>
                    </blocks>
            
                    <resources>
                        <core_setup>
                            
                            <entities>
                                <website><table>core_website</table></website>
                                <language><table>core_language</table></language>
                                <module><table>core_module</table></module>
                                <table><table>core_table</table></table>
                                <block_group><table>core_block_group</table></block_group>
                                <block><table>core_block</table></block>
                    
                                <domain><table>core_domain</table></domain>
                                <domain_website><table>core_domain_website</table></domain_website>
                                <setting><table>core_setting</table></setting>
                                <domain_setting><table>core_domain_setting</table></domain_setting>

                                <data_change><table>core_data_change</table></data_change>
                                <data_change_type><table>core_data_change_type</table></data_change_type>
                                <data_change_info><table>core_data_change_info</table></data_change_info>
                            </entities>
                        </core_setup>
                
                        <core_write>
                            <entities extends="//core_setup/entities"/>
                        </core_write>
                
                        <core_read>
                            <entities extends="//core_setup/entities"/>
                        </core_read>
                    </resources>
                </all>
                
                <front>
                    <events>
                        <action_postDispatch>
                            <observers>
                                <renderLayout>
                                    <class>Mage_Core_Controller_Front_Action</class>
                                    <method>renderLayoutStatic</method>
                                </renderLayout>
                            </observers>
                        </action_postDispatch>
                
                        <action_noRoute>
                            <observers>
                                <noRoute>
                                    <class>Mage_Core_Block</class>
                                    <method>loadJsonFile</method>
                                    <args>
                                        <file>Mage/Core/noRoute.json</file>
                                    </args>
                                </noRoute>
                            </observers>
                        </action_noRoute>
                    </events>
                </front>
            
                <admin>
                    <blocks>
                        <toolbar><class>Mage_Core_Block_Admin_Js_Toolbar</class></toolbar>
                        <menu><class>Mage_Core_Block_Admin_Js_Menu</class></menu>
                        <tag_css_theme><class>Mage_Core_Block_Text_Tag_Css_Admin</class></tag_css_theme>
                        <layout_border><class>Mage_Core_Block_Admin_Js_Layout_Border</class></layout_border>
                        <layout_panel><class>Mage_Core_Block_Admin_Js_Layout_Panel</class></layout_panel>
                        <layout_panel_grid><class>Mage_Core_Block_Admin_Js_Layout_Panel_Grid</class></layout_panel_grid>
                        <layout_panel_nested><class>Mage_Core_Block_Admin_Js_Layout_Panel_Nested</class></layout_panel_nested>
                        <tree><class>Mage_Core_Block_Admin_Js_Tree</class></tree>
                    </blocks>

                    <data_input>
                        <text><code>Simple text</code><class>Mage_Core_Block_Form_Element_Text</class></text>
                        <textarea><code>Big text</code><class>Mage_Core_Block_Form_Element_Textarea</class></textarea>
                        <select><code>Dropdown</code><class>Mage_Core_Block_Form_Element_Select</class></select>
                        <file><code>Upload file</code><class>Mage_Core_Block_Form_Element_File</class></file>
                    </data_input>

                    <events>
                        <action_preDispatch_default_index_index>
                            <observers>
                                <core_init>
                                    <class>Mage_Core_Block</class>
                                    <method>loadJsonFile</method>
                                    <args>
                                        <file>Mage/Core/Admin/init.json</file>
                                    </args>
                                </core_init>
                            </observers>
                        </action_preDispatch_default_index_index>
                
                        <action_preDispatch_default_block_loadPanel>
                            <observers>
                                <core_main>
                                    <class>Mage_Core_Block</class>
                                    <method>loadJsonFile</method>
                                    <args>
                                        <file>Mage/Core/Admin/Block/loadMainPanel.json</file>
                                    </args>
                                </core_main>
                            </observers>
                        </action_preDispatch_default_block_loadPanel>
                
                        <action_postDispatch>
                            <observers>
                                <renderLayout>
                                    <class>Mage_Core_Controller_Zend_Action</class>
                                    <method>renderLayoutStatic</method>
                                </renderLayout>
                            </observers>
                        </action_postDispatch>
                    </events>
                </admin>
            </load>
        </Mage_Core>
    </modules>

    <global>
        <resourceTypes extends="/config/modules/*/load/*/resourceTypes"/>
        <resources extends="/config/modules/*/load/*/resources"/>
        <models extends="/config/modules/*/load/*/models"/>
        <blockTypes extends="/config/modules/*/load/*/blocks"/>

        <front>
            <events extends="/config/modules/*/load/all/events | /config/modules/*/load/front/events"/>
        </front>

        <admin>
            <events extends="/config/modules/*/load/all/events | /config/modules/*/load/admin/events"/>
        </admin>
    </global>
</config>