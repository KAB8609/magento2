<?xml version="1.0"?>
<config>
    <modules>
        <Mage_Cart>
            <version>0.1.4</version>
            
            <depends>
                <Mage_Catalog/>
                <Mage_Customer/>
            </depends>

            <load>
                <all>
                    <models>
                        <cart><class>Mage_Cart_Model_Mysql4</class></cart>
                    </models>
                    
                    <resources>
                        <cart_setup>
                            <connection extends="//core_setup/connection"/>
                            
                            <entities>
                                <cart><table>cart</table></cart>
                                <item><table>cart_product</table></item>
                            </entities>
                        </cart_setup>

                        <cart_write>
                            <connection extends="//core_write/connection"/>
                        </cart_write>

                        <cart_read>
                            <connection extends="//core_read/connection"/>
                        </cart_read>
                    </resources>
                    
                    <cartTotals>
                        <subtotal><class>Mage_Cart_Total_Subtotal</class><sortOrder>10</sortOrder></subtotal>
                        <discount><class>Mage_Cart_Total_Discount</class><sortOrder>20</sortOrder></discount>
                        <shipping><class>Mage_Cart_Total_Shipping</class><sortOrder>30</sortOrder></shipping>
                        <tax><class>Mage_Cart_Total_Tax</class><sortOrder>40</sortOrder></tax>
                        <grand><class>Mage_Cart_Total_Grand</class><sortOrder>100</sortOrder></grand>
                    </cartTotals>
                </all>

                <front>
                    <events>
                        <customer_login>
                            <observers>
                                <auth><class>Mage_Cart_Front</class><method>registerCustomer</method></auth>
                            </observers>
                        </customer_login>
                    </events>

                    <controller>
                        <active>true</active>
                        <frontName>cart</frontName>
                    </controller>
                    
                    <layouts>
                        <default><updates><cart><module>Mage_Cart</module><file>initLayout.xml</file></cart></updates></default>
                    </layouts>
                </front>
            </load>

        </Mage_Cart>
    </modules>
    
    <global>
        <cartTotals extends="/config/modules/*/load/all/cartTotals"/>
    </global>
</config>