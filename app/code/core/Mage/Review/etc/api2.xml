<?xml version="1.0"?>
<!--
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Mage
 * @package     Mage_Review
 * @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
-->
<config>
    <api2>
        <resources>
            <review>
                <group>catalog_product</group>
                <model>review/api2_review</model>
                <working_model>review/review</working_model>
                <title>Product Review</title>
                <sort_order>100</sort_order>
                <privileges>
                    <guest>
                        <create>1</create>
                        <retrieve>1</retrieve>
                    </guest>
                    <customer>
                        <create>1</create>
                        <retrieve>1</retrieve>
                    </customer>
                    <admin>
                        <create>1</create>
                        <retrieve>1</retrieve>
                        <update>1</update>
                        <delete>1</delete>
                    </admin>
                </privileges>
                <attributes>
                    <review_id>Review ID</review_id>
                    <created_at>Created On</created_at>
                    <entity_pk_value>Product ID</entity_pk_value>
                    <status>Review Status</status>
                    <posted_by>Posted By</posted_by>
                    <stores>Visible in Store ID</stores>
                    <user_type>User Type</user_type>
                    <nickname>Nickname</nickname>
                    <title>Summary of Review </title>
                    <detail>Review Text</detail>
                    <rating_summary>Summary Rating</rating_summary>
                    <detailed_rating>Detailed Rating</detailed_rating>
                </attributes>
                <exclude_attributes>
                    <admin>
                        <read>
                            <entity_code>1</entity_code>
                            <customer_id>1</customer_id>
                            <entity_id>1</entity_id>
                            <detail_id>1</detail_id>
                            <status_id>1</status_id>
                            <store_id>1</store_id>
                            <rating_votes>1</rating_votes>
                        </read>
                        <write>
                            <review_id>1</review_id>
                            <created_at>1</created_at>
                            <status_id>1</status_id>
                            <user_type>1</user_type>
                            <posted_by>1</posted_by>
                            <rating_summary>1</rating_summary>
                            <entity_pk_value>1</entity_pk_value>
                        </write>
                    </admin>
                    <customer>
                        <read>
                            <entity_code>1</entity_code>
                            <customer_id>1</customer_id>
                            <entity_id>1</entity_id>
                            <detail_id>1</detail_id>
                            <status_id>1</status_id>
                            <status>1</status>
                            <store_id>1</store_id>
                            <rating_votes>1</rating_votes>
                            <entity_pk_value>1</entity_pk_value>
                            <user_type>1</user_type>
                            <posted_by>1</posted_by>
                        </read>
                        <write>
                            <review_id>1</review_id>
                            <created_at>1</created_at>
                            <status_id>1</status_id>
                            <status>1</status>
                            <user_type>1</user_type>
                            <posted_by>1</posted_by>
                            <rating_summary>1</rating_summary>
                            <entity_pk_value>1</entity_pk_value>
                        </write>
                    </customer>
                    <guest>
                        <read>
                            <status>1</status>
                            <entity_code>1</entity_code>
                            <customer_id>1</customer_id>
                            <entity_id>1</entity_id>
                            <detail_id>1</detail_id>
                            <status_id>1</status_id>
                            <status>1</status>
                            <store_id>1</store_id>
                            <rating_votes>1</rating_votes>
                            <entity_pk_value>1</entity_pk_value>
                            <user_type>1</user_type>
                            <posted_by>1</posted_by>
                        </read>
                        <write>
                            <review_id>1</review_id>
                            <created_at>1</created_at>
                            <status_id>1</status_id>
                            <status>1</status>
                            <user_type>1</user_type>
                            <posted_by>1</posted_by>
                            <rating_summary>1</rating_summary>
                            <entity_pk_value>1</entity_pk_value>
                        </write>
                    </guest>
                </exclude_attributes>
                <routes>
                    <route_entity>
                        <route>/products/:product_id/reviews/:id</route>
                        <action_type>entity</action_type>
                    </route_entity>
                    <route_collection>
                        <route>/products/:product_id/reviews</route>
                        <action_type>collection</action_type>
                    </route_collection>
                </routes>
                <validators>
                    <fields>
                        <status>
                            <required>1</required>
                            <stringlength>
                                <type>StringLength</type>
                                <options><min>1</min></options>
                            </stringlength>
                        </status>
                        <nickname>
                            <required>1</required>
                            <stringlength>
                                <type>StringLength</type>
                                <options><min>1</min></options>
                            </stringlength>
                        </nickname>
                        <title>
                            <required>1</required>
                            <stringlength>
                                <type>StringLength</type>
                                <options><min>1</min></options>
                            </stringlength>
                        </title>
                        <detail>
                            <required>1</required>
                            <stringlength>
                                <type>StringLength</type>
                                <options><min>1</min></options>
                            </stringlength>
                        </detail>
                    </fields>
                </validators>
                <versions>1</versions>
            </review>
        </resources>
    </api2>
</config>
