<?xml version="1.0"?>
<config>
    <modules>
        <Mage_Customer>
            <version>0.2.3</version>
            <depends>
                <Mage_Eav />
            </depends>
            <crypt>
                <key><![CDATA[h$$@j>21#Nn 34{}~|][fksn2)*@H NdfM99f+<lml1(23nR_JN]]></key>
            </crypt>
            <wishlistActive>true</wishlistActive>
        </Mage_Customer>
    </modules>
    <global>
        <entity>
            <types>
                <customer extends="//global/entity/types/default"/>
                <address extends="//global/entity/types/default"/>
            </types>
        </entity>
        
        <block>
            <groups><customer><class>Mage_Customer_Block</class></customer></groups>
        </block>
        
        <models>
            <customer>
                <class>Mage_Customer_Model</class>
                <resourceModel>customer_entity</resourceModel>
            </customer>
            
            <customer_entity>
                <class>Mage_Customer_Model_Entity</class>
                <entities>
                    <entity>
                        <table>customer_entity</table>
                    </entity>
                    <value_prefix>
                        <table>customer_entity</table>
                    </value_prefix>
                    <customer_group>
                        <table>customer_group</table>
                    </customer_group>
                </entities>
                <classes>
                    <wishlist><class>Mage_Customer_Model_Mysql4_Wishlist</class></wishlist>
                    <wishlist_collection><class>Mage_Customer_Model_Mysql4_Wishlist_Collection</class></wishlist_collection>
                </classes>
            </customer_entity>
            
            <customer_mysql4>
                <class>Mage_Customer_Model_Mysql4</class>
                <entities>
                    <customer>
                        <table>customer</table>
                    </customer>
                    <entity>
                        <table>customer_entity</table>
                    </entity>
                    <value_prefix>
                        <table>customer_value</table>
                    </value_prefix>
                    <customer_group>
                        <table>customer_group</table>
                    </customer_group>
                    <address>
                        <table>customer_address</table>
                    </address>
                    <address_type>
                        <table>customer_address_type</table>
                    </address_type>
                    <address_type_language>
                        <table>customer_address_type_language</table>
                    </address_type_language>
                    <address_type_link>
                        <table>customer_address_type_link</table>
                    </address_type_link>
                    <payment>
                        <table>customer_payment</table>
                    </payment>
                    <payment_method>
                        <table>customer_payment_method</table>
                    </payment_method>
                    <wishlist>
                        <table>customer_wishlist</table>
                    </wishlist>
                    <customer_log>
                        <table>customer_log</table>
                    </customer_log>
                </entities>
            </customer_mysql4>
        </models>
        
        <entities>
            <customer>
              <id>1</id>
              <use_data_sharing>true</use_data_sharing>
              
              <backend>
                <entity_table>customer/entity</entity_table>
              </backend>
              
              <attributes>              
                <firstname>
                  <id>101</id>
                  <backend><type>varchar</type></backend>
                  <frontend>
                    <input>text</input>
                    <label>First name</label>
                    <class>required-entry</class>
                  </frontend>
                </firstname>
                
                <lastname>
                  <id>102</id>
                  <backend><type>varchar</type></backend>
                  <frontend>
                    <input>text</input>
                    <label>Last name</label>
                    <class>required-entry</class>
                  </frontend>
                </lastname>
                
                <email>
                  <id>103</id>
                  <backend><type>varchar</type></backend>
                  <frontend>
                    <input>text</input>
                    <label>Email</label>
                    <class>required-entry validate-email</class>
                  </frontend>
                </email>
                
                <password_hash>
                  <id>104</id>
                  <backend><type>varchar</type></backend>
                </password_hash>
                
                <customer_group>
                  <id>105</id>
                  <backend><type>int</type></backend>
                  <frontend>
                    <input>select</input>
                    <label>Customer group</label>
                    <class>required-entry</class>
                  </frontend>
                  <source>
                    <options>
                        <option><value>1</value><label>Regular</label></option>
                        <option><value>2</value><label>Wholesale</label></option>
                    </options>
                  </source>
                </customer_group>
                
                <store_balance>
                  <id>106</id>
                  <backend><type>decimal</type></backend>
                  <frontend>
                    <input>text</input>
                    <label>Customer store balance</label>
                    <class>required-entry validate-number</class>
                  </frontend>
                </store_balance>
                
              </attributes>
            </customer>
            
            <customer_address>
                <id>2</id>
                <use_data_sharing>true</use_data_sharing>
                <parent>customer</parent>
                <backend extends="//global/entities/customer/backend"/>
                <attributes>
                    <firstname>
                      <id>201</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>First name</label>
                        <class>required-entry</class>
                      </frontend>
                    </firstname>
                    
                    <lastname>
                      <id>202</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>Last name</label>
                        <class>required-entry</class>
                      </frontend>
                    </lastname>
                    
                    <postcode>
                      <id>203</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>Zip code</label>
                        <class>required-entry</class>
                      </frontend>
                    </postcode>
                    
                    <street>
                      <id>204</id>
                      <backend><type>text</type></backend>
                      <frontend>
                        <input>textarea</input>
                        <label>Street address</label>
                        <class>required-entry</class>
                      </frontend>
                    </street>
                    
                    <city>
                      <id>205</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>City</label>
                        <class>required-entry</class>
                      </frontend>
                    </city>
                    
                    <region>
                      <id>206</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>Province</label>
                      </frontend>
                    </region>
                    
                    <region_id>
                      <id>207</id>
                      <backend><type>int</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>State</label>
                      </frontend>
                    </region_id>
                    
                    <country_id>
                      <id>208</id>
                      <backend><type>int</type></backend>
                      <frontend>
                        <input>select</input>
                        <label>Country</label>
                        <class>required-entry</class>
                      </frontend>
                      <source>
                        <model>customer/entity_attribute_source_country</model>
                      </source>
                    </country_id>
                    
                    <telephone>
                      <id>209</id>
                      <backend><type>varchar</type></backend>
                      <frontend>
                        <input>text</input>
                        <label>Telephone</label>
                        <class>required-entry</class>
                      </frontend>
                    </telephone>
                    
                    <fax>
                      <id>210</id>
                      <backend><type>varchar</type></backend>
                      <frontend><input>text</input><label>Fax</label></frontend>
                    </fax>
                    
                </attributes>
            </customer_address>
            
            <customer_payment>
                <id>3</id>
                <use_data_sharing>true</use_data_sharing>
                <parent>customer</parent>
                <backend extends="//global/entities/customer/backend"/>
                <attributes>
                    <method_type>
                        <id>301</id>
                        <backend><type>int</type></backend>
                        <frontend><type>select</type><label>Payment method</label></frontend>
                        <source><options><option><value>1</value><text>Credit card</text></option></options></source>
                    </method_type>
                </attributes>
            </customer_payment>
        </entities>
        
        <resources>
            <customer_setup>
                <setup>
                    <module>Mage_Customer</module>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </customer_setup>
            <customer_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </customer_write>
            <customer_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </customer_read>
        </resources>
    </global>
    
    <front>
        <layouts>
            <default>
                <updates>
                    <customer>
                        <file>customer/initLayout.xml</file>
                    </customer>
                </updates>
            </default>
        </layouts>
        <events>
            <beforeRenderLayout>
                <observers>
                    <auth>
                        <type>singleton</type>
                        <class>customer/observer</class>
                        <method>beforeRenderLayout</method>
                    </auth>
                </observers>
            </beforeRenderLayout>
        </events>
        <routers>
            <customer>
                <use>standard</use>
                <args>
                    <module>Mage_Customer</module>
                    <frontName>customer</frontName>
                </args>
            </customer>
        </routers>
    </front>
    <domains>
        <base>
            <defaultCountry>223</defaultCountry>
            <allowCountries>223,220</allowCountries>
            <currency>1</currency>
        </base>
    </domains>
    <translate>
        <customer>customer/messages.csv</customer>
    </translate>
</config>
