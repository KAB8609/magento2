<?xml version="1.0"?>
<!--
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Mage
 * @package     Mage_Customer
 * @copyright   Copyright (c) 2011 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
-->
<config>
    <api2>
        <resource_groups>
            <customer translate="title" module="customer">
                <title>Customer</title>
                <sort_order>130</sort_order>
            </customer>
        </resource_groups>
        <resources>
            <customer>
                <group>customer</group>
                <sort_order>90</sort_order>
                <model>customer/api2_customer</model>
                <working_model>customer/customer</working_model>
                <title>Customer</title>
                <privileges>
                    <admin>
                        <retrieve>1</retrieve>
                        <update>1</update>
                        <delete>1</delete>
                    </admin>
                    <customer>
                        <retrieve>1</retrieve>
                        <update>1</update>
                    </customer>
                </privileges>
                <attributes>
                    <entity_id>Customer ID</entity_id>
                    <last_logged_in>Last Logged In</last_logged_in>
                    <password>Password</password>
                </attributes>
                <exclude_attributes>
                    <admin>
                        <read>
                            <password>1</password>
                            <password_hash>1</password_hash>
                            <reward_warning_notification>1</reward_warning_notification>
                            <reward_update_notification>1</reward_update_notification>
                            <default_billing>1</default_billing>
                            <default_shipping>1</default_shipping>
                            <rp_token>1</rp_token>
                            <rp_token_created_at>1</rp_token_created_at>
                            <store_id>1</store_id>
                        </read>
                        <write>
                            <entity_id>1</entity_id>
                            <password_hash>1</password_hash>
                            <confirmation>1</confirmation>
                            <created_at>1</created_at>
                            <created_in>1</created_in>
                            <reward_warning_notification>1</reward_warning_notification>
                            <reward_update_notification>1</reward_update_notification>
                            <default_billing>1</default_billing>
                            <default_shipping>1</default_shipping>
                            <rp_token>1</rp_token>
                            <rp_token_created_at>1</rp_token_created_at>
                            <store_id>1</store_id>
                            <last_logged_in>1</last_logged_in>
                        </write>
                    </admin>
                    <customer>
                        <read>
                            <entity_id>1</entity_id>
                            <password>1</password>
                            <password_hash>1</password_hash>
                            <confirmation>1</confirmation>
                            <created_at>1</created_at>
                            <created_in>1</created_in>
                            <reward_warning_notification>1</reward_warning_notification>
                            <reward_update_notification>1</reward_update_notification>
                            <default_billing>1</default_billing>
                            <default_shipping>1</default_shipping>
                            <disable_auto_group_change>1</disable_auto_group_change>
                            <group_id>1</group_id>
                            <rp_token>1</rp_token>
                            <rp_token_created_at>1</rp_token_created_at>
                            <store_id>1</store_id>
                            <website_id>1</website_id>
                        </read>
                        <write>
                            <entity_id>1</entity_id>
                            <password_hash>1</password_hash>
                            <confirmation>1</confirmation>
                            <created_at>1</created_at>
                            <created_in>1</created_in>
                            <reward_warning_notification>1</reward_warning_notification>
                            <reward_update_notification>1</reward_update_notification>
                            <default_billing>1</default_billing>
                            <default_shipping>1</default_shipping>
                            <disable_auto_group_change>1</disable_auto_group_change>
                            <group_id>1</group_id>
                            <rp_token>1</rp_token>
                            <rp_token_created_at>1</rp_token_created_at>
                            <store_id>1</store_id>
                            <website_id>1</website_id>
                            <last_logged_in>1</last_logged_in>
                        </write>
                    </customer>
                </exclude_attributes>
                <validators>
                    <eav>
                        <admin>
                            <entity_model>customer/customer</entity_model>
                            <form_model>customer/form</form_model>
                            <form_code>
                                <update>adminhtml_customer</update>
                            </form_code>
                        </admin>
                        <customer>
                            <entity_model>customer/customer</entity_model>
                            <form_model>customer/form</form_model>
                            <form_code>
                                <update>customer_account_edit</update>
                            </form_code>
                        </customer>
                    </eav>
                </validators>
                <routes>
                    <route_entity>
                        <route>/customers/:id</route>
                        <action_type>entity</action_type>
                    </route_entity>
                    <route_collection>
                        <route>/customers</route>
                        <action_type>collection</action_type>
                    </route_collection>
                </routes>
                <versions>1</versions>
            </customer>
            <customer_address>
                <group>customer</group>
                <sort_order>110</sort_order>
                <model>customer/api2_customer_address</model>
                <working_model>customer/address</working_model>
                <title>Customer Address</title>
                <privileges>
                    <admin>
                        <create>1</create>
                        <retrieve>1</retrieve>
                        <update>1</update>
                        <delete>1</delete>
                    </admin>
                    <customer>
                        <create>1</create>
                        <retrieve>1</retrieve>
                        <update>1</update>
                        <delete>1</delete>
                    </customer>
                </privileges>
                <attributes>
                    <entity_id>Customer Address ID</entity_id>
                </attributes>
                <include_attributes>
                    <admin>
                        <read>
                            <entity_id>1</entity_id>
                            <firstname>1</firstname>
                            <lastname>1</lastname>
                            <company>1</company>
                            <telephone>1</telephone>
                            <fax>1</fax>
                            <street>1</street>
                            <city>1</city>
                            <region>1</region>
                            <postcode>1</postcode>
                            <country_id>1</country_id>
                            <vat_id>1</vat_id>
                        </read>
                        <write>
                            <firstname>1</firstname>
                            <lastname>1</lastname>
                            <company>1</company>
                            <telephone>1</telephone>
                            <fax>1</fax>
                            <street>1</street>
                            <city>1</city>
                            <region>1</region>
                            <postcode>1</postcode>
                            <country_id>1</country_id>
                            <vat_id>1</vat_id>
                        </write>
                    </admin>
                    <customer>
                        <read>
                            <entity_id>1</entity_id>
                            <firstname>1</firstname>
                            <lastname>1</lastname>
                            <company>1</company>
                            <telephone>1</telephone>
                            <fax>1</fax>
                            <street>1</street>
                            <city>1</city>
                            <region>1</region>
                            <postcode>1</postcode>
                            <country_id>1</country_id>
                            <vat_id>1</vat_id>
                        </read>
                        <write>
                            <firstname>1</firstname>
                            <lastname>1</lastname>
                            <company>1</company>
                            <telephone>1</telephone>
                            <fax>1</fax>
                            <street>1</street>
                            <city>1</city>
                            <region>1</region>
                            <postcode>1</postcode>
                            <country_id>1</country_id>
                            <vat_id>1</vat_id>
                        </write>
                    </customer>
                </include_attributes>
                <validators>
                    <eav>
                        <admin>
                            <entity_model>customer/address</entity_model>
                            <form_model>customer/form</form_model>
                            <form_code>
                                <update>adminhtml_customer_address</update>
                            </form_code>
                        </admin>
                        <customer>
                            <entity_model>customer/address</entity_model>
                            <form_model>customer/form</form_model>
                            <form_code>
                                <update>customer_address_edit</update>
                            </form_code>
                        </customer>
                    </eav>
                </validators>
                <routes>
                    <route_entity>
                        <route>/customers/addresses/:id</route>
                        <action_type>entity</action_type>
                    </route_entity>
                    <route_collection>
                        <route>/customers/:id/addresses</route>
                        <action_type>collection</action_type>
                    </route_collection>
                </routes>
                <versions>1</versions>
            </customer_address>
        </resources>
    </api2>
</config>
