<!--@name Modèle d'avoir Français @-->
<!--@header_height 0 @-->
<!--@footer_height 0 @-->

<style type="text/css">
    .printed-creditmemo {font-family: arial,helvetica,sans-serif;}

    .header-table {width: 100%; border-collapse: collapse; border: 1px solid #808080;}
    .header-table .header {color: #FFFFFF; background-color: #737373; padding: 10px 15px; font-size: 10pt; font-weight: normal;}
    .header-table .addresses-header {background-color: #EDEBEB;}
    .header-table .addresses-header td {border: 1px solid #808080; padding: 10px 15px; font-weight: bold; font-size: 12pt; width: 50%;}
    .header-table .addresses td {padding: 10px 15px; font-size: 10pt; line-height: 1.5;}

    .payment-shipping-table {width: 100%; border-collapse: collapse; border: 1px solid #808080; margin-top: 10px;}
    .payment-shipping-table .header {background-color: #EDEBEB;}
    .payment-shipping-table .header td {border: 1px solid #808080; padding: 10px 15px; font-weight: bold; font-size: 12pt; width: 50%;}
    .payment-shipping-table .content td {padding: 10px 15px; font-size: 10pt; line-height: 1.5;}

    .totals {margin-top: 20px; float: right; font-size: 10pt; font-weight: bold; page-break-inside: avoid;}
    .totals th {text-align: right; padding: 2px;}
    .totals td {text-align: right; width: 105px; padding-right: 15px;}
    
    .items-block {margin-top: 20px;}
    .items-block .widget-items-grid {width: 100%; border-collapse: collapse;}
    .items-block .widget-items-grid .heading-row {border: 1px solid #808080; background-color: #EDEBEB;}
    .items-block .widget-items-grid th,
    .items-block .widget-items-grid td {padding: 2px 5px; vertical-align: top;}
    .items-block .widget-items-grid tr .first {padding-left: 15px;}
    .items-block .widget-items-grid tr .last {padding-right: 15px;}
    .items-block .widget-items-grid .column-heading-name,
    .items-block .widget-items-grid .column-heading-sku,
    .items-block .widget-items-grid .column-value-name,
    .items-block .widget-items-grid .column-value-sku {text-align: left;}
    .items-block .widget-items-grid .column-heading-qty,
    .items-block .widget-items-grid .column-value-qty {text-align: center;}
    .items-block .widget-items-grid .column-heading-tax_amount,
    .items-block .widget-items-grid .column-heading-row_total,
    .items-block .widget-items-grid .column-heading-discount_amount,
    .items-block .widget-items-grid .column-heading-row_total_inc,
    .items-block .widget-items-grid .column-value-tax_amount,
    .items-block .widget-items-grid .column-value-row_total,
    .items-block .widget-items-grid .column-value-discount_amount,
    .items-block .widget-items-grid .column-value-row_total_inc {text-align: right;}
    .items-block .widget-items-grid .column-value-tax_amount,
    .items-block .widget-items-grid .column-value-qty,
    .items-block .widget-items-grid .column-value-row_total,
    .items-block .widget-items-grid .column-value-discount_amount,
    .items-block .widget-items-grid .column-value-row_total_inc {font-weight: bold !important;}
    .items-block .widget-items-grid .product-row td {padding-top: 10px;}
    .items-block .widget-items-grid .option-value-row .column-value-name {padding-left: 20px;}
    .items-block .widget-items-grid .product-row .column-value-name .item-option-label,
    .items-block .widget-items-grid .product-row .column-value-name .item-option-value {padding: 4px 0 0 0;}
    .items-block .widget-items-grid .product-row .column-value-name .item-option-value {padding-left: 5px;}
    
    /* Conditional styles  */
    .totals .subtotal_incl_tax {display: {{if config.display_subtotal_incl_tax}}table-row{{else}}none{{/if}};}
    .totals .subtotal_excl_tax {display: {{if config.display_subtotal_excl_tax}}table-row{{else}}none{{/if}};}
    .totals .subtotal_both {display: {{if config.display_subtotal_both}}table-row{{else}}none{{/if}};}
    .totals .discount {display: {{if creditmemo.discount_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .adjustment_positive {display: {{if creditmemo.adjustment_positive_raw}}table-row{{else}}none{{/if}};}
    .totals .gift_cards {display: {{if creditmemo.gift_cards_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .customer_balance {display: {{if creditmemo.customer_balance_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .adjustment_negative {display: {{if creditmemo.adjustment_negative_raw}}table-row{{else}}none{{/if}};}
    .totals .customer_balance_total_refunded {display: {{if creditmemo.customer_balance_total_refunded_raw}}table-row{{else}}none{{/if}};}
    
    .totals .shipping_excl_tax,
    .totals .shipping_incl_tax,
    .totals .shipping_both {display: none}
    {{depend creditmemo.shipping_amount_raw}}
        .totals .shipping_excl_tax {display: {{if config.display_shipping_excl_tax}}table-row{{else}}none{{/if}};}
        .totals .shipping_incl_tax {display: {{if config.display_shipping_incl_tax}}table-row{{else}}none{{/if}};}
        .totals .shipping_both {display: {{if config.display_shipping_both}}table-row{{else}}none{{/if}};}
    {{/depend}}
    {{if config.display_tax_with_grand_total}}
        .totals .grand_total {display: none}
    {{else}}
        .totals .tax_with_grand_total {display: none}
    {{/if}}    
</style>

<div class="printed-creditmemo">
{{if order.is_virtual_raw}}
<table class="header-table">
    <tr>
        <td colspan="2" class="header">
            Avoir # {{var creditmemo.increment_id}}<br />
            Commande # {{var order.increment_id}}<br />
            Date de la Commande : {{var order.created_at}}<br />
        </td>
    </tr>
    <tr class="addresses-header">
        <td>Vendu à :</td>
        <td>Méthode de Paiement :</td>
    </tr>
    <tr class="addresses">
        <td>
            {{var address_billing.prefix}} {{var address_billing.firstname}} {{var address_billing.middlename}} {{var address_billing.lastname}} {{var address_billing.suffix}}<br/>
            {{depend address_billing.company}}{{var address_billing.company}}<br/>{{/depend}}
            {{var address_billing.street_multiline}}<br/>
            {{var address_billing.city}}{{depend address_billing.region}}, {{var address_billing.region}}{{/depend}}{{depend address_billing.postcode}}, {{var address_billing.postcode}}{{/depend}}<br/>
            {{var address_billing.country}}<br/>
            Tél.: {{var address_billing.telephone}}
            {{depend address_billing.fax}}<br/>F: {{var address_billing.fax}}{{/depend}}
        </td>
        <td>{{var payment.info}}</td>
    </tr>
</table>
{{else}}
<table class="header-table">
    <tr>
        <td colspan="2" class="header">
            Avoir # {{var creditmemo.increment_id}}<br />
            Commande # {{var order.increment_id}}<br />
            Date de la Commande : {{var order.created_at}}<br />
        </td>
    </tr>
    <tr class="addresses-header">
        <td>Vendu à :</td>
        <td>Envoyer à :</td>
    </tr>
    <tr class="addresses">
        <td>
            {{var address_billing.prefix}} {{var address_billing.firstname}} {{var address_billing.middlename}} {{var address_billing.lastname}} {{var address_billing.suffix}}<br/>
            {{depend address_billing.company}}{{var address_billing.company}}<br/>{{/depend}}
            {{var address_billing.street_multiline}}<br/>
            {{var address_billing.city}}{{depend address_billing.region}}, {{var address_billing.region}}{{/depend}}{{depend address_billing.postcode}}, {{var address_billing.postcode}}{{/depend}}<br/>
            {{var address_billing.country}}<br/>
            Tél.: {{var address_billing.telephone}}
            {{depend address_billing.fax}}<br/>F: {{var address_billing.fax}}{{/depend}}
        </td>
        <td>
            {{var address_shipping.prefix}} {{var address_shipping.firstname}} {{var address_shipping.middlename}} {{var address_shipping.lastname}} {{var address_shipping.suffix}}<br/>
            {{depend address_shipping.company}}{{var address_shipping.company}}<br/>{{/depend}}
            {{var address_shipping.street_multiline}}<br/>
            {{var address_shipping.city}}{{depend address_shipping.region}}, {{var address_shipping.region}}{{/depend}}{{depend address_shipping.postcode}}, {{var address_shipping.postcode}}{{/depend}}<br/>
            {{var address_shipping.country}}<br/>
            Tél.: {{var address_shipping.telephone}}
            {{depend address_shipping.fax}}<br/>F: {{var address_shipping.fax}}{{/depend}}
        </td>
    </tr>
</table>
{{/if}}

{{if order.is_virtual_raw}}{{else}}
<table class="payment-shipping-table">
    <tr class="header">
        <td>Méthode de Paiement :</td>
        <td>Méthode d'expédition :</td>
    </tr>
    <tr class="content">
        <td>{{var payment.info}}</td>
        <td>{{var order.shipping_description}}<br />(Charges totales expédition {{var order.shipping_amount}})</td>
    </tr>
</table>
{{/if}}

<div class="items-block">
    {{widget type="saas_printedtemplate/widget_itemsGrid" header_font_family="sans_serif" header_font_size="10" row_font_family="sans_serif" row_font_size="10" columns_editor="cGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYxNDgyNTBfMjUwJTVEJTVCcHJvcGVydHklNUQ9bmFtZSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjE0ODI1MF8yNTAlNUQlNUJ0aXRsZSU1RD1Qcm9kdWl0cyZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjE0ODI1MF8yNTAlNUQlNUJ3aWR0aCU1RD0zNDkmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYxNDgyNTBfMjUwJTVEJTVCc29ydF9vcmRlciU1RD0xJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MTcxMjEwXzIxMCU1RCU1QnByb3BlcnR5JTVEPXNrdSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjE3MTIxMF8yMTAlNUQlNUJ0aXRsZSU1RD1VR1MmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYxNzEyMTBfMjEwJTVEJTVCd2lkdGglNUQ9MTA5JnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MTcxMjEwXzIxMCU1RCU1QnNvcnRfb3JkZXIlNUQ9MiZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjE5MjM1N18zNTclNUQlNUJwcm9wZXJ0eSU1RD1yb3dfdG90YWwmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYxOTIzNTdfMzU3JTVEJTVCdGl0bGUlNUQ9VG90YWwlMjAoSFQpJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MTkyMzU3XzM1NyU1RCU1QndpZHRoJTVEPTcwJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MTkyMzU3XzM1NyU1RCU1QnNvcnRfb3JkZXIlNUQ9MyZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjIxNDE5OF8xOTglNUQlNUJwcm9wZXJ0eSU1RD1kaXNjb3VudF9hbW91bnQmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYyMTQxOThfMTk4JTVEJTVCdGl0bGUlNUQ9UiVDMyVBOWR1Y3Rpb24mcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYyMTQxOThfMTk4JTVEJTVCd2lkdGglNUQ9NjAmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYyMTQxOThfMTk4JTVEJTVCc29ydF9vcmRlciU1RD00JnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MjQ3MjQyXzI0MiU1RCU1QnByb3BlcnR5JTVEPXF0eSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjI0NzI0Ml8yNDIlNUQlNUJ0aXRsZSU1RD1RdCVDMyVBOSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjI0NzI0Ml8yNDIlNUQlNUJ3aWR0aCU1RD0zMCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjI0NzI0Ml8yNDIlNUQlNUJzb3J0X29yZGVyJTVEPTUmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjA2NjYyNTg5NTZfOTU2JTVEJTVCcHJvcGVydHklNUQ9dGF4X2Ftb3VudCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMDY2NjI1ODk1Nl85NTYlNUQlNUJ0aXRsZSU1RD1UYXhlJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MjU4OTU2Xzk1NiU1RCU1QndpZHRoJTVEPTU1JnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIwNjY2MjU4OTU2Xzk1NiU1RCU1QnNvcnRfb3JkZXIlNUQ9NiZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyMTYzMTgwNjg3Nl84NzYlNUQlNUJwcm9wZXJ0eSU1RD1yb3dfdG90YWxfaW5jJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzIxNjMxODA2ODc2Xzg3NiU1RCU1QnRpdGxlJTVEPVRvdGFsJTIwKFRUQykmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjE2MzE4MDY4NzZfODc2JTVEJTVCd2lkdGglNUQ9NzAmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjE2MzE4MDY4NzZfODc2JTVEJTVCc29ydF9vcmRlciU1RD03" entity="$creditmemo"}}
</div>

<table class="totals">
    <tr class="subtotal_incl_tax">
        <th>Sous-total:</th>
        <td>{{var creditmemo.subtotal_incl_tax}}</td>
    </tr>
    <tr class="subtotal_excl_tax">
        <th>Sous-total:</th>
        <td>{{var creditmemo.subtotal}}</td>
    </tr>
    <tr class="subtotal_both">
        <th>Sous-total (HT):</th>
        <td>{{var creditmemo.subtotal}}</td>
    </tr>
    <tr class="subtotal_both">
        <th>Sous-total (TTC):</th>
        <td>{{var creditmemo.subtotal_incl_tax}}</td>
    </tr>
    <tr class="discount">
        <th>Réduction:</th>
        <td>–{{var creditmemo.discount_amount}}</td>
    </tr>
    <tr class="adjustment_positive">
        <th>Remboursement d'ajustement:</th>
        <td>{{var creditmemo.adjustment_positive}}</td>
    </tr>
    <tr class="gift_cards">
        <th>Cartes Cadeau:</th>
        <td>–{{var creditmemo.gift_cards_amount}}</td>
    </tr>
    <tr class="customer_balance">
        <th>Avoir du magasin:</th>
        <td>–{{var creditmemo.customer_balance_amount}}</td>
    </tr>
    <tr class="adjustment_negative">
        <th>Ajustement des taxes:</th>
        <td>{{var creditmemo.adjustment_negative}}</td>
    </tr>
    <tr class="customer_balance_total_refunded">
        <th>Crédité sur l'avoir magasin:</th>
        <td>{{var creditmemo.customer_balance_total_refunded}}</td>
    </tr>
    <tr class="shipping_excl_tax">
        <th>Expédition et traitement:</th>
        <td>{{var creditmemo.shipping_amount}}</td>
    </tr>
    <tr class="shipping_incl_tax">
        <th>Expédition et traitement:</th>
        <td>{{var creditmemo.shipping_incl_tax}}</td>
    </tr>
    <tr class="shipping_both">
        <th>Expédition (HT):</th>
        <td>{{var creditmemo.shipping_amount}}</td>
    </tr>
    <tr class="shipping_both">
        <th>Expédition (TTC):</th>
        <td>{{var creditmemo.shipping_incl_tax}}</td>
    </tr>
    <tr class="tax_with_grand_total">
        <th>Total général (HT):</th>
        <td>{{var creditmemo.grand_total_excl_tax}}</td>
    </tr>
    <tr class="tax">
        <th>Taxe:</th>
        <td>{{var creditmemo.tax_amount}}</td>
    </tr>
    <tr class="tax_with_grand_total">
        <th>Total général (TTC):</th>
        <td>{{var creditmemo.grand_total}}</td>
    </tr>
    <tr class="grand_total">
        <th>Total général:</th>
        <td>{{var creditmemo.grand_total}}</td>
    </tr>
</table>

</div>

<style type="text/css">
    .widget-items-grid,
    .widget-items-grid .product-row {border: none;}
</style>