<!--@name Rechnung @-->
<!--@footer_height 45 @-->
<!--@header_height 0 @-->

<style type="text/css">
    .printed-invoice {font-size: 10pt; font-family: arial,helvetica,sans-serif;}
    .printed-invoice table {font-weight: normal; font-size: 10pt;}

    .billing-address {float: left; padding-bottom: 2em;}

    table.ids {float: right; clear: both; padding-bottom: 2em;}
    table.ids th {text-align: left; font-weight: normal;}
    table.ids td {width: 27mm; text-align: right;}

    h1 {clear: both;}

    .info {font-size: 120%; margin: 1em; float: left; page-break-inside: avoid;}

    .totals {margin: 1em 0; float: right; text-align: right; clear: right; page-break-inside: avoid;}
    .totals th {font-weight: normal;}
    .totals td {width: 27mm;}

    .totals .grand {font-size: 120%;}

    /* Conditional styles  */
    .totals .subtotal_incl_tax {display: {{if config.display_subtotal_incl_tax}}table-row{{else}}none{{/if}};}
    .totals .subtotal_excl_tax {display: {{if config.display_subtotal_excl_tax}}table-row{{else}}none{{/if}};}
    .totals .subtotal_both {display: {{if config.display_subtotal_both}}table-row{{else}}none{{/if}};}
    .totals .discount {display:  {{if invoice.discount_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .gift_cards {display: {{if invoice.gift_cards_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .customer_balance {display: {{if invoice.customer_balance_amount_raw}}table-row{{else}}none{{/if}};}
    .totals .shipping_excl_tax,
    .totals .shipping_incl_tax,
    .totals .shipping_both {display: none}
    {{if invoice.shipping_amount_raw}}
        {{depend config.display_shipping_excl_tax}}.totals .shipping_excl_tax {display: table-row}{{/depend}}
        {{depend config.display_shipping_incl_tax}}.totals .shipping_incl_tax {display: table-row}{{/depend}}
        {{depend config.display_shipping_both}}.totals .shipping_both {display: table-row}{{/depend}}
    {{/if}}
    {{if config.display_tax_with_grand_total}}
        .totals .tax_with_grand_total {display: table-row}
        .totals .grand_total {display: none}
    {{else}}
        .totals .tax_with_grand_total {display: none}
        .totals .grand_total {display: table-row}
    {{/if}}
</style>

<div class="printed-invoice">

<div class="billing-address">
    {{var address_billing.prefix}} {{var address_billing.firstname}} {{var address_billing.middlename}} {{var address_billing.lastname}} {{var address_billing.suffix}}<br/>
    {{depend address_billing.company}}{{var address_billing.company}}<br/>{{/depend}}
    {{var address_billing.street_multiline}}<br/>
    {{var address_billing.city}}{{depend address_billing.region}}, {{var address_billing.region}}{{/depend}}{{depend address_billing.postcode}}, {{var address_billing.postcode}}{{/depend}}<br/>
    {{var address_billing.country}}<br/>
    T: {{var address_billing.telephone}}
    {{depend address_billing.fax}}<br/>F: {{var address_billing.fax}}{{/depend}}
    {{depend customer.customer_taxvat}}<br/>Steuernummer:&nbsp;{{var customer.customer_taxvat}}{{/depend}}
</div>

<table class="ids">
    <tr>
        <th>Rechnungsnummer:</th>
        <td>{{var invoice.increment_id}}</td>
    </tr>
    <tr>
        <th>Bestellnummer:</th>
        <td>{{var order.increment_id}}</td>
    </tr>
    <tr>
        <th>Kundennummer:</th>
        <td>{{var order.customer_id}}</td>
    </tr>
    <tr>
        <th>Bestelldatum:</th>
        <td>{{var order.created_at}}</td>
    </tr>
</table>

<h1>Rechnung</h1>

{{widget type="Saas_PrintedTemplate_Block_Widget_ItemsGrid" header_font_family="sans_serif" header_font_size="10" row_font_family="sans_serif" row_font_size="10" columns_editor="cGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI4Njg3OTNfNzkzJTVEJTVCcHJvcGVydHklNUQ9cG9zaXRpb24mcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI4Njg3OTNfNzkzJTVEJTVCdGl0bGUlNUQ9UG9zLiZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0Mjg2ODc5M183OTMlNUQlNUJ3aWR0aCU1RD01MCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0Mjg2ODc5M183OTMlNUQlNUJzb3J0X29yZGVyJTVEPSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0Mjg4OTU2MV81NjElNUQlNUJwcm9wZXJ0eSU1RD1za3UmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI4ODk1NjFfNTYxJTVEJTVCdGl0bGUlNUQ9QXJ0aWtlbG5yLiZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0Mjg4OTU2MV81NjElNUQlNUJ3aWR0aCU1RD0xMDAmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI4ODk1NjFfNTYxJTVEJTVCc29ydF9vcmRlciU1RD0mcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI5MTgxODlfMTg5JTVEJTVCcHJvcGVydHklNUQ9bmFtZSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MjkxODE4OV8xODklNUQlNUJ0aXRsZSU1RD1BcnRpa2VsYmVzY2hyZWlidW5nJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQyOTE4MTg5XzE4OSU1RCU1QndpZHRoJTVEPTMwMCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MjkxODE4OV8xODklNUQlNUJzb3J0X29yZGVyJTVEPSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MjkzNjEwMF8xMDAlNUQlNUJwcm9wZXJ0eSU1RD1wcmljZV9pbmNsX3RheCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MjkzNjEwMF8xMDAlNUQlNUJ0aXRsZSU1RD1QcmVpcyZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MjkzNjEwMF8xMDAlNUQlNUJ3aWR0aCU1RD0xMDAmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDI5MzYxMDBfMTAwJTVEJTVCc29ydF9vcmRlciU1RD0mcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDM0ODE3NDFfNzQxJTVEJTVCcHJvcGVydHklNUQ9cXR5JnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQzNDgxNzQxXzc0MSU1RCU1QnRpdGxlJTVEPU1lbmdlJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQzNDgxNzQxXzc0MSU1RCU1QndpZHRoJTVEPTEwMCZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MzQ4MTc0MV83NDElNUQlNUJzb3J0X29yZGVyJTVEPSZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MzU0NzU3MV81NzElNUQlNUJwcm9wZXJ0eSU1RD10YXhfYW1vdW50JnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQzNTQ3NTcxXzU3MSU1RCU1QnRpdGxlJTVEPVN0ZXVlcmJldHJhZyZwYXJhbWV0ZXJzJTVCY29sdW1uc19lZGl0b3IlNUQlNUJfMTMyOTI0MzU0NzU3MV81NzElNUQlNUJ3aWR0aCU1RD0xMDAmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDM1NDc1NzFfNTcxJTVEJTVCc29ydF9vcmRlciU1RD0mcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDM1NzU3NjhfNzY4JTVEJTVCcHJvcGVydHklNUQ9cm93X3RvdGFsJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQzNTc1NzY4Xzc2OCU1RCU1QnRpdGxlJTVEPVp3aXNjaGVuc3VtbWUmcGFyYW1ldGVycyU1QmNvbHVtbnNfZWRpdG9yJTVEJTVCXzEzMjkyNDM1NzU3NjhfNzY4JTVEJTVCd2lkdGglNUQ9MTAwJnBhcmFtZXRlcnMlNUJjb2x1bW5zX2VkaXRvciU1RCU1Ql8xMzI5MjQzNTc1NzY4Xzc2OCU1RCU1QnNvcnRfb3JkZXIlNUQ9" entity="$invoice"}}

<style type="text/css">
    .widget-items-grid,
    .widget-items-grid .heading-row,
    .widget-items-grid .product-row {border: none}

    .widget-items-grid .heading-row .column-heading-price_incl_tax,
    .widget-items-grid .heading-row .column-heading-qty,
    .widget-items-grid .heading-row .column-heading-tax_amount,
    .widget-items-grid .heading-row .column-heading-row_total,
    .widget-items-grid .column-value-price_incl_tax,
    .widget-items-grid .column-value-qty,
    .widget-items-grid .column-value-tax_amount,
    .widget-items-grid .column-value-row_total {text-align: right}

    .widget-items-grid {width: 100%}
    .widget-items-grid .column-heading-name {width: auto}
</style>

<div class="info">
    Zahlbar innerhalb 14 Tagen.<br/>
    Lieferung erfolgt mit Rechnungslegung.<br/>
    Vielen Dank für Ihren Auftrag!<br/>
</div>

<table class="totals">
    <tr class="subtotal_incl_tax">
        <th>Zwischensumme:</th>
        <td>{{var invoice.subtotal_incl_tax}}</td>
    </tr>
    <tr class="subtotal_excl_tax">
        <th>Subtotal:</th>
        <td>{{var invoice.subtotal}}</td>
    </tr>
    <tr class="subtotal_both">
        <th>Zwischensumme (exkl. MwSt.):</th>
        <td>{{var invoice.subtotal}}</td>
    </tr>
    <tr class="subtotal_both">
        <th>Zwischensumme (inkl. MwSt.):</th>
        <td>{{var invoice.subtotal_incl_tax}}</td>
    </tr>
    <tr class="discount">
        <th>Ermäßigung:</th>
        <td>–{{var invoice.discount_amount}}</td>
    </tr>
    <tr class="gift_cards">
        <th>Geschenkgutscheine:</th>
        <td>–{{var invoice.gift_cards_amount}}</td>
    </tr>
    <tr class="customer_balance">
        <th>Shopguthaben:</th>
        <td>–{{var invoice.customer_balance_amount}}</td>
    </tr>
    <tr class="shipping_excl_tax">
        <th>Versandkosten:</th>
        <td>{{var invoice.shipping_amount}}</td>
    </tr>
    <tr class="shipping_incl_tax">
        <th>Versandkosten:</th>
        <td>{{var invoice.shipping_incl_tax}}</td>
    </tr>
    <tr class="shipping_both">
        <th>Versandkosten (exkl. MwSt.):</th>
        <td>{{var invoice.shipping_amount}}</td>
    </tr>
    <tr class="shipping_both">
        <th>Versandkosten (inkl. MwSt.):</th>
        <td>{{var invoice.shipping_incl_tax}}</td>
    </tr>
    <tr class="grand tax_with_grand_total">
        <th>Gesamtsumme (zzgl. Steuern):</th>
        <td>{{var invoice.grand_total_excl_tax}}</td>
    </tr>
    <tr>
        <th>Steuern gesamt:</th>
        <td>{{var invoice.tax_amount}}</td>
    </tr>
    <tr class="grand tax_with_grand_total">
        <th>Gesamtsumme (inkl. Steuern):</th>
        <td>{{var invoice.grand_total}}</td>
    </tr>
    <tr class="grand grand_total">
        <th>Rechnungsbetrag:</th>
        <td>{{var invoice.grand_total}}</td>
    </tr>
</table>
</div>

<!-- FOOTER SEPARATOR -->

<style type="text/css">
    .footer {font-size: 10pt; clear: both; font-family: arial,helvetica,sans-serif; padding-bottom: 15mm}
    .footer .page {float: right;}
    .footer table {font-size: 60%; clear: both; text-align: left;}
    .footer table th {font-weight: normal;}
    .footer table th,
    .footer table td {padding-right: 1em}
</style>

<div class="footer">

    <div class="page">Seite&nbsp;{{var pagination.page_number}} von&nbsp;{{var pagination.page_total}}</div>

    <table>
        <tr>
            <th>Shop Name:</th>        <td>[Beispielshop]</td>
            <th>Telephone:</th>        <td>[+49 511 123456]</td>
            <th>Register court:</th>   <td>[Amtsgericht Hannover]</td>
            <th>Bank name:</th>        <td>[Musterbank]</td>
        </tr>
        <tr>
            <th>Company 1:</th>        <td>[Musterfirma GmbH]</td>
            <th>Fax:</th>              <td>[+49 511 654321]</td>
            <th>Financial office:</th> <td>[Finanzamt]</td>
            <th>SWIFT:</th>            <td>[1234567890]</td>
        </tr>
        <tr>
            <th>Company 2:</th>        <td>[Inh. Max Mustermann]</td>
            <th>E-Mail:</th>           <td>[info@musterdomain.de]</td>
            <th>CEO:</th>              <td>[Max Mustermann]</td>
            <th>IBAN:</th>             <td>[0987654321]</td>
        </tr>
        <tr>
            <th>Zip:</th>              <td>[30123]</td>
            <th>Website:</th>          <td>[www.musterdomain.de]</td>
            <th>Register number:</th>  <td>[123456]</td>
            <th>Account owner:</th>    <td>[Max Muster]</td>
        </tr>
        <tr>
            <th>Street:</th>           <td>[Musterstr. 1]</td>
            <th>Tax number:</th>       <td>[12/123/123456]</td>
            <th>Account:</th>          <td>[123456789]</td>

        </tr>
        <tr>
            <th>City:</th>             <td>[Hannover]</td>
            <th>USt.Nr.:</th>          <td>[DE123456789]</td>
            <th>Bank number:</th>      <td>[100200300]</td>
        </tr>
    </table>
</div>

</div>

