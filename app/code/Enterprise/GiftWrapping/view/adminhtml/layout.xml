<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    design
 * @package     default_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->

<layout>
    <adminhtml_giftwrapping_index>
        <reference name="content">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Giftwrapping" name="enterprise_giftwrapping" >
                <block type="Mage_Backend_Block_Widget_Grid" name="adminhtml.block.giftwrapping.grid" as="grid">
                    <arguments>
                        <id>giftwrappingGrid</id>
                        <dataSource type="object">Enterprise_GiftWrapping_Model_Resource_Wrapping_Grid_Collection</dataSource>
                        <default_sort>wrapping_id</default_sort>
                        <default_dir>ASC</default_dir>
                    </arguments>
                    <block type="Mage_Backend_Block_Widget_Grid_Massaction" name="adminhtml.block.giftwrapping.massactions" as="grid.massaction">
                        <arguments>
                            <massaction_id_field>wrapping_id</massaction_id_field>
                            <form_field_name>wrapping_ids</form_field_name>
                            <use_select_all>1</use_select_all>
                            <options>
                                <delete>
                                    <label translate="true" module="Enterprise_GiftWrapping">Delete</label>
                                    <url>*/*/massDelete</url>
                                    <confirm translate="true" module="Enterprise_GiftWrapping">Are you sure you want to delete the selected gift wrappings?</confirm>
                                </delete>
                                <status>
                                    <label translate="true" module="Enterprise_GiftWrapping">Change status</label>
                                    <url>*/*/changeStatus</url>
                                    <block_name>status</block_name>
                                </status>
                            </options>
                        </arguments>
                        <block type="Mage_Backend_Block_Widget_Grid_Massaction_Additional" name="adminhtml.block.giftwrapping.massactions.status" as="status">
                            <arguments>
                                <fields>
                                    <visibility>
                                        <name>status</name>
                                        <type>select</type>
                                        <class>required-entry</class>
                                        <label translate="true" module="Enterprise_GiftWrapping">Status</label>
                                        <values>Enterprise_GiftWrapping_Model_MassOptions</values>
                                    </visibility>
                                </fields>
                            </arguments>
                        </block>
                    </block>
                    <block type="Mage_Backend_Block_Widget_Grid_ColumnSet" as="grid.columnSet">
                        <arguments>
                            <id>giftwrappingGrid</id>
                            <rowUrl>
                                <path>*/*/edit</path>
                                <extraParamsTemplate>
                                    <id>getId</id>
                                </extraParamsTemplate>
                            </rowUrl>
                        </arguments>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="wrapping_id">
                            <arguments>
                                <header translate="true" module="Enterprise_GiftWrapping">ID</header>
                                <type>number</type>
                                <index>wrapping_id</index>
                                <header_css_class>col-id</header_css_class>
                                <column_css_class>col-id</column_css_class>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="design">
                            <arguments>
                                <header translate="true" module="Enterprise_GiftWrapping">Gift Wrap Design</header>
                                <index>design</index>
                                <header_css_class>col-design</header_css_class>
                                <column_css_class>col-design</column_css_class>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column_Multistore" as="websites">
                            <arguments>
                                <header translate="true" module="Enterprise_GiftWrapping">Websites</header>
                                <type>options</type>
                                <sortable>0</sortable>
                                <index>website_ids</index>
                                <id>websites</id>
                                <options type="options">Enterprise_GiftWrapping_Model_Website</options>
                                <header_css_class>col-websites</header_css_class>
                                <column_css_class>col-websites</column_css_class>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="status">
                            <arguments>
                                <header translate="true" module="Enterprise_GiftWrapping">Status</header>
                                <type>options</type>
                                <sortable>0</sortable>
                                <index>status</index>
                                <id>status</id>
                                <options type="options">Enterprise_GiftWrapping_Model_StatusOptions</options>
                                <header_css_class>col-status</header_css_class>
                                <column_css_class>col-status</column_css_class>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="base_price">
                            <arguments>
                                <header translate="true" module="Enterprise_GiftWrapping">Price</header>
                                <index>base_price</index>
                                <type>price</type>
                                <id>base_price</id>
                                <header_css_class>col-price</header_css_class>
                                <column_css_class>col-price</column_css_class>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="action">
                            <arguments>
                                <id>action</id>
                                <header translate="true" module="Enterprise_GiftWrapping">Action</header>
                                <type>action</type>
                                <getter>getId</getter>
                                <filter>0</filter>
                                <sortable>0</sortable>
                                <is_system>1</is_system>
                                <actions>
                                    <edit_action>
                                        <caption translate="true" module="Enterprise_GiftWrapping">Edit</caption>
                                        <url>
                                            <base>*/*/edit</base>
                                        </url>
                                        <field>id</field>
                                    </edit_action>
                                </actions>
                                <header_css_class>col-actions</header_css_class>
                                <column_css_class>col-actions</column_css_class>
                            </arguments>
                        </block>
                    </block>
                </block>
            </block>
        </reference>
    </adminhtml_giftwrapping_index>
    
    <adminhtml_giftwrapping_new>
        <reference name="content">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Giftwrapping_Edit" name="giftwrapping_edit" />
        </reference>
    </adminhtml_giftwrapping_new>

    <adminhtml_giftwrapping_edit>
        <reference name="content">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Giftwrapping_Edit" name="giftwrapping_edit" />
            <block type="Mage_Backend_Block_Store_Switcher" name="store_switcher" before="-" />
        </reference>
    </adminhtml_giftwrapping_edit>

    <adminhtml_sales_order_view>
        <reference name="gift_options">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_View_Info" name="wrapping_order_view_info" template="order/view/info.phtml" />
        </reference>
        <reference name="popup_window">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_View_Items" name="wrapping_order_view_items" template="order/view/items.phtml" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/order/view/renderer.phtml" before="-" />
        </reference>
        <reference name="gift_options_link">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Link" name="giftwrapping_item_info" template="sales/order/link.phtml" />
        </reference>
        <reference name="order_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping_totals" />
        </reference>
    </adminhtml_sales_order_view>

    <adminhtml_sales_order_create_index>
        <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Totals" name="giftwrapping_total_renderer" template="order/create/totals.phtml" />
        <reference name="gift_options">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Info" name="wrapping_order_create_info" template="order/create/info.phtml">
                <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Info_Content" name="wrapping.order.create.info.content" template="order/create/info/content.phtml" />
            </block>
        </reference>
        <reference name="popup_window">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Items" name="wrapping_order_create_items" template="order/create/items.phtml" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Items" name="giftwrapping_extra_info" template="sales/order/create/renderer.phtml" before="-" />
        </reference>
        <reference name="gift_options_link">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Link" name="giftwrapping_item_info" template="sales/order/link.phtml" />
        </reference>
    </adminhtml_sales_order_create_index>

    <adminhtml_sales_order_shipment_new>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/shipment/create/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_shipment_new>

    <adminhtml_sales_order_shipment_view>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/shipment/view/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_shipment_view>

    <adminhtml_sales_order_create_load_block_totals>
        <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Totals" name="giftwrapping_total_renderer" template="order/create/totals.phtml" />
    </adminhtml_sales_order_create_load_block_totals>

    <adminhtml_sales_order_create_load_block_data>
        <reference name="gift_options">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Info" name="wrapping_order_create_info" template="order/create/info.phtml" />
        </reference>
        <reference name="popup_window">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Items" name="wrapping_order_create_items" template="order/create/items.phtml" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Items" name="giftwrapping_extra_info" template="sales/order/create/renderer.phtml" before="-" />
        </reference>
        <reference name="gift_options_link">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Link" name="giftwrapping_item_info" template="sales/order/link.phtml" />
        </reference>
    </adminhtml_sales_order_create_load_block_data>

    <adminhtml_sales_order_create_load_block_items>
        <reference name="popup_window">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Items" name="wrapping_order_create_items" template="order/create/items.phtml" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Items" name="giftwrapping_extra_info" template="sales/order/create/renderer.phtml" before="-" />
        </reference>
        <reference name="gift_options_link">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_Create_Link" name="giftwrapping_item_info" template="sales/order/link.phtml" />
        </reference>
    </adminhtml_sales_order_create_load_block_items>

    <adminhtml_sales_order_create_load_block_giftwrapping>
        <reference name="content">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Order_Create_Info_Content" name="giftwrapping" template="order/create/info/content.phtml" />
        </reference>
    </adminhtml_sales_order_create_load_block_giftwrapping>

    <adminhtml_sales_order_invoice_new>
        <reference name="invoice_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/invoice/create/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_invoice_new>

    <adminhtml_sales_order_invoice_updateqty>
        <reference name="invoice_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/invoice/create/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_invoice_updateqty>

    <adminhtml_sales_order_invoice_view>
        <reference name="invoice_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/invoice/view/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_invoice_view>

    <adminhtml_sales_order_creditmemo_new>
        <reference name="creditmemo_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/creditmemo/create/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_creditmemo_new>

    <adminhtml_sales_order_creditmemo_updateqty>
        <reference name="creditmemo_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/creditmemo/create/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_creditmemo_updateqty>

    <adminhtml_sales_order_creditmemo_view>
        <reference name="creditmemo_totals">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Totals" name="giftwrapping" />
        </reference>
        <reference name="order_item_extra_info">
            <block type="Enterprise_GiftWrapping_Block_Adminhtml_Sales_Order_View_Items" name="giftwrapping_extra_info" template="sales/creditmemo/view/renderer.phtml" before="-" />
        </reference>
    </adminhtml_sales_order_creditmemo_view>
</layout>
