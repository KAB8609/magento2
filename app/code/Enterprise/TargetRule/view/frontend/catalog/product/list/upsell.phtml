<?php
/**
 * {license_notice}
 *
 * @category    design
 * @package     enterprise_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
/** @var $this Enterprise_TargetRule_Block_Catalog_Product_List_Upsell */
?>
<?php if ($this->hasItems()): ?>
<div class="box-collateral box-up-sell">
    <div class="box-title">
        <h2><?php echo __('You may also be interested in the following product(s):') ?></h2>
    </div>
    <?php $i=0; foreach ($this->getItemCollection() as $_item): ?>
        <?php if ($i++ % $this->getColumnCount() == 0): ?>
            <ul class="products-grid">
        <?php endif ?>
                <li class="item<?php if (($i - 1) % $this->getColumnCount() == 0):?> first<?php elseif ($i % $this->getColumnCount() == 0):?> last<?php endif;?>">
                    <?php
                        $itemBlock = $this->getChildBlock('catalog.product.upsell.item')->setItem($_item)->setPosition($i);
                        echo $itemBlock->toHtml();
                    ?>
                </li>
        <?php if ($i % $this->getColumnCount() == 0 || $i == $this->getItemsCount()): ?>
            </ul>
        <?php endif ?>
    <?php endforeach; ?>
    <script type="text/javascript">(function($) {$('ul.products-grid li').decorate('generic', ['odd','even','first','last'])})(jQuery)</script>
</div>
<?php endif ?>
