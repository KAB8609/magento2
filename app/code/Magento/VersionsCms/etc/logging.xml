<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    Magento
 * @package     Magento_VersionsCms
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<logging xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="../../../Magento/Logging/etc/logging.xsd">
    <action id="preview">
        <label translate="true">Preview</label>
    </action>
    <action id="publish">
        <label translate="true">Publish</label>
    </action>
    <log name="magento_versionscms_hierarchy">
        <label translate="true">CMS Hierarchy</label>
        <expected_model class="Magento_VersionsCms_Model_Hierarchy_Node" />
        <event controller_action="adminhtml_cms_hierarchy_index"
               action_alias="view"
               post_dispatch="Magento_VersionsCms_Model_Observer::postDispatchCmsHierachyView" />
        <event controller_action="adminhtml_cms_hierarchy_save" action_alias="save">
            <skip_on_back controller_action="adminhtml_cms_hierarchy_index" />
        </event>
    </log>
    <log name="magento_versionscms_page_versioning">
        <label translate="true">CMS Versioning</label>
        <event controller_action="adminhtml_cms_page_massDeleteVersions"
               action_alias="massDelete">
            <expected_model class="Magento_VersionsCms_Model_Page_Version" />
        </event>
        <event controller_action="adminhtml_cms_page_version_edit" action_alias="view">
            <expected_model class="Magento_VersionsCms_Model_Page_Version" />
        </event>
        <event controller_action="adminhtml_cms_page_version_save" action_alias="save">
            <expected_model class="Magento_VersionsCms_Model_Page_Version" />
            <skip_on_back controller_action="adminhtml_cms_page_version_edit" />
        </event>
        <event controller_action="adminhtml_cms_page_version_new" action_alias="save">
            <expected_model class="Magento_VersionsCms_Model_Page_Version" />
            <skip_on_back controller_action="adminhtml_cms_page_revision_edit" />
        </event>
        <event controller_action="adminhtml_cms_page_version_delete"
               action_alias="delete">
            <expected_model class="Magento_VersionsCms_Model_Page_Version" />
        </event>
        <event controller_action="adminhtml_cms_page_version_massDeleteRevisions"
               action_alias="massDelete">
            <expected_model class="Magento_VersionsCms_Model_Page_Revision" />
        </event>
        <event controller_action="adminhtml_cms_page_revision_edit"
               action_alias="view">
            <expected_model class="Magento_VersionsCms_Model_Page_Revision" />
        </event>
        <event controller_action="adminhtml_cms_page_revision_preview"
               action_alias="preview"
               post_dispatch="Magento_VersionsCms_Model_Observer::postDispatchCmsRevisionPreview" />
        <event controller_action="adminhtml_cms_page_revision_save"
               action_alias="save">
            <expected_model class="Magento_VersionsCms_Model_Page_Revision" />
            <skip_on_back controller_action="adminhtml_cms_page_revision_edit" />
        </event>
        <event controller_action="adminhtml_cms_page_revision_delete"
               action_alias="delete">
            <expected_model class="Magento_VersionsCms_Model_Page_Revision" />
        </event>
        <event controller_action="adminhtml_cms_page_revision_publish"
               action_alias="publish"
               post_dispatch="Magento_VersionsCms_Model_Observer::postDispatchCmsRevisionPublish">
            <skip_on_back controller_action="adminhtml_cms_page_revision_edit" />
        </event>
    </log>
</logging>
