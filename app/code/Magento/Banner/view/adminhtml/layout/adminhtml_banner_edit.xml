<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<layout xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <handle id="adminhtml_banner_edit">
        <update handle="editor"/>
        <reference name="head">
            <action method="addCss">
                <file>jquery/fileUploader/css/jquery.fileupload-ui.css</file>
            </action>
            <action method="addJs">
                <file>jquery/fileUploader/jquery.iframe-transport.js</file>
            </action>
            <action method="addJs">
                <file>jquery/fileUploader/jquery.fileupload.js</file>
            </action>
            <action method="addJs">
                <file>jquery/fileUploader/load-image.min.js</file>
            </action>
            <action method="addJs">
                <file>jquery/fileUploader/canvas-to-blob.min.js</file>
            </action>
            <action method="addJs">
                <file>jquery/fileUploader/jquery.fileupload-fp.js</file>
            </action>
        </reference>
        <reference name="left">
            <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tabs" name="banner_edit_tabs">
                <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tab_Properties" name="banner_edit_tab_properties"/>
                <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tab_Content" name="banner_edit_tab_content"/>
                <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tab_Promotions" name="banner_edit_tab_promotions" template="edit/tab/promotions.phtml">
                    <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tab_Promotions_Salesrule" name="banner_salesrule_grid"/>
                    <block class="Magento_Adminhtml_Block_Widget_Grid_Serializer" name="salesrule_grid_serializer">
                        <reference name="salesrule_grid_serializer">
                            <action method="initSerializerBlock">
                                <grid_block_name>banner_salesrule_grid</grid_block_name>
                                <data_callback>getRelatedSalesRule</data_callback>
                                <hidden_input_name>banner_sales_rules</hidden_input_name>
                                <reload_param_name>selected_salesrules</reload_param_name>
                            </action>
                        </reference>
                    </block>
                    <block class="Magento_Banner_Block_Adminhtml_Banner_Edit_Tab_Promotions_Catalogrule" name="banner_catalogrule_grid"/>
                    <block class="Magento_Adminhtml_Block_Widget_Grid_Serializer" name="catalogrule_grid_serializer">
                        <reference name="catalogrule_grid_serializer">
                            <action method="initSerializerBlock">
                                <grid_block_name>banner_catalogrule_grid</grid_block_name>
                                <data_callback>getRelatedCatalogRule</data_callback>
                                <hidden_input_name>banner_catalog_rules</hidden_input_name>
                                <reload_param_name>selected_catalogrules</reload_param_name>
                            </action>
                        </reference>
                    </block>
                </block>
                <action method="addTab">
                    <name>properties_section</name>
                    <block>banner_edit_tab_properties</block>
                </action>
                <action method="addTab">
                    <name>content_section</name>
                    <block>banner_edit_tab_content</block>
                </action>
                <action method="addTab">
                    <name>promotions_section</name>
                    <block>banner_edit_tab_promotions</block>
                </action>
            </block>
        </reference>
        <reference name="content">
            <block class="Magento_Banner_Block_Adminhtml_Banner_Edit" name="banner_edit_content"/>
        </reference>
    </handle>
</layout>
