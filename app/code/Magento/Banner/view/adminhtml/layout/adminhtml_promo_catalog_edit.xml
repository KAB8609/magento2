<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<layout xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <reference name="promo_catalog_edit_tabs">
        <block class="Magento_Banner_Block_Adminhtml_Promo_Catalogrule_Edit_Tab_Banners" name="catalogrule.related.banners">
            <block class="Magento_Banner_Block_Adminhtml_Promo_Catalogrule_Edit_Tab_Banners_Grid" name="related_catalogrule_banners_grid"/>
            <block class="Magento_Adminhtml_Block_Widget_Grid_Serializer" name="banners_grid_serializer">
                <reference name="banners_grid_serializer">
                    <action method="initSerializerBlock">
                        <argument name="grid_block_name" xsi:type="string">related_catalogrule_banners_grid</argument>
                        <argument name="data_callback" xsi:type="string">getRelatedBannersByRule</argument>
                        <argument name="hidden_input_name" xsi:type="string">related_banners</argument>
                        <argument name="reload_param_name" xsi:type="string">selected_catalogrule_banners</argument>
                    </action>
                </reference>
            </block>
        </block>
        <action method="addTab">
            <argument name="name" xsi:type="string">banners_section</argument>
            <argument name="block" xsi:type="string">catalogrule.related.banners</argument>
        </action>
        <block class="Magento_Banner_Block_Adminhtml_Permission_Monitor" name="bannner.permission.monitor"/>
    </reference>
</layout>
