<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<config>
    <type name="Magento_SalesRule_Model_Resource_Rule_Collection" shared="false" />
    <type name="Magento_Sales_Model_Quote_Config">
        <plugin name="append_sales_rule_keys_to_quote" type="Magento_SalesRule_Model_Plugin_QuoteConfigProductAttributes"/>
    </type>
    <type name="Magento_SalesRule_Model_Quote_Discount">
        <param name="eventManager">
            <instance type="Magento_Core_Model_Event_Manager_Proxy" />
        </param>
    </type>
    <type name="Magento_SalesRule_Model_Rule_Condition_Combine">
        <param name="eventManager">
            <instance type="Magento_Core_Model_Event_Manager_Proxy" />
        </param>
    </type>
    <type name="Magento_SalesRule_Model_Rule">
        <param name="eventManager">
            <instance type="Magento_Core_Model_Event_Manager_Proxy" />
        </param>
    </type>
    <type name="Magento_SalesRule_Model_Validator">
        <param name="eventManager">
            <instance type="Magento_Core_Model_Event_Manager_Proxy" />
        </param>
    </type>
    <type name="Magento_SalesRule_Model_Observer">
        <param name="backendSession">
            <instance type="Magento_Backend_Model_Session_Proxy" />
        </param>
    </type>
    <type name="Magento_Core_Model_Db_Updater">
        <param name="resourceList">
            <value>
                <salesrule_setup>Magento_SalesRule_Model_Resource_Setup</salesrule_setup>
            </value>
        </param>
    </type>
</config>
