<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    design
 * @package     default_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->

<layout>
    <adminhtml_customer_edit>
        <reference name="content">
            <block type="Mage_Adminhtml_Block_Customer_Edit" name="customer_edit"/>
        </reference>
        <reference name="head">
            <block type="Mage_Adminhtml_Block_Template" name="optional_zip_countries" as="optional_zip_countries" template="Mage_Directory::js/optional_zip_countries.phtml" />
            <action method="addJs"><file>Mage_Adminhtml::catalog/product/composite/configure.js</file></action>
            <action method="addJs"><file>varien/configurable.js</file></action>
        </reference>
        <reference name="left">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tabs" name="customer_edit_tabs">
                <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View" name="customer_edit_tab_view" template="customer/tab/view.phtml">
                    <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View_Sales" name="sales" template="customer/tab/view/sales.phtml" before="-" />
                    <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View_Accordion" name="accordion" />
                </block>
                <action method="addTab"><name>customer_edit_tab_view</name><block>customer_edit_tab_view</block></action>
            </block>
        </reference>
        <reference name="js">
            <block type="Mage_Adminhtml_Block_Template" template="customer/edit/js.phtml" name="customer.edit.js" as="customer_edit_js"></block>
        </reference>
    </adminhtml_customer_edit>
    <adminhtml_customer_group_index>
        <reference name="content">
            <block type="Mage_Adminhtml_Block_Customer_Group" name="adminhtml.block.customer.group.grid.container">
                <block type="Mage_Backend_Block_Widget_Grid" name="adminhtml.block.customer.group.grid" as="grid">
                    <arguments>
                        <id>customerGroupGrid</id>
                        <dataSource type="object">Mage_Customer_Model_Resource_Group_Grid_Collection</dataSource>
                        <default_sort>type</default_sort>
                        <default_dir>asc</default_dir>
                        <save_parameters_in_session>1</save_parameters_in_session>
                    </arguments>
                    <block type="Mage_Backend_Block_Widget_Grid_ColumnSet" as="grid.columnSet"
                           name="adminhtml.customer.group.grid.columnSet">
                        <arguments>
                            <rowUrl>
                                <path>*/*/edit</path>
                                <extraParamsTemplate>
                                    <id>getId</id>
                                </extraParamsTemplate>
                            </rowUrl>
                        </arguments>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="time">
                            <arguments>
                                <header translate="true" module="Mage_Customer">ID</header>
                                <width>50px</width>
                                <id>customer_group_id</id>
                                <align>right</align>
                                <index>customer_group_id</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="type">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Group</header>
                                <index>customer_group_code</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="class_name">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Tax Class</header>
                                <width>200px</width>
                                <index>class_name</index>
                            </arguments>
                        </block>
                    </block>
                </block>
            </block>
        </reference>
    </adminhtml_customer_group_index>

    <adminhtml_customer_orders>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_Orders" name="adminhtml.customer.edit.tab.orders"/>
        </container>
    </adminhtml_customer_orders>

    <adminhtml_customer_carts>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_Carts" name="admin.customer.carts"/>
        </container>
    </adminhtml_customer_carts>

    <adminhtml_customer_viewcart>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View_Cart" name="admin.customer.view.cart"/>
        </container>
    </adminhtml_customer_viewcart>

    <adminhtml_customer_viewwishlist>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View_Wishlist" name="admin.customer.view.wishlist"/>
        </container>
    </adminhtml_customer_viewwishlist>

    <adminhtml_customer_lastorders>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_View_Orders" name="admin.customer.lastorders"/>
        </container>
    </adminhtml_customer_lastorders>

    <adminhtml_customer_productreviews>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_Reviews" name="admin.customer.reviews"/>
        </container>
    </adminhtml_customer_productreviews>

    <adminhtml_customer_newsletter>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_Newsletter_Grid" name="admin.customer.newsletter.grid"/>
        </container>
    </adminhtml_customer_newsletter>

    <adminhtml_customer_grid>
        <update handle="formkey"/>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Grid" name="admin.customer.grid"/>
        </container>
    </adminhtml_customer_grid>

    <adminhtml_customer_cart>
        <container name="root" label="Root" output="1">
            <block type="Mage_Adminhtml_Block_Customer_Edit_Tab_Cart" name="admin.customer.view.edit.cart" />
        </container>
    </adminhtml_customer_cart>

    <adminhtml_customer_online_index>
        <reference name="content">
            <block type="Mage_Adminhtml_Block_Customer_Online" name="adminhtml.block.customer.online.grid.container">
                <block type="Mage_Backend_Block_Widget_Grid" name="adminhtml.block.customer.online.grid" as="grid">
                    <arguments>
                        <id>onlineGrid</id>
                        <dataSource type="object">Mage_Log_Model_Resource_Visitor_Online_Grid_Collection</dataSource>
                        <default_sort>last_activity</default_sort>
                        <default_dir>DESC</default_dir>
                        <save_parameters_in_session>1</save_parameters_in_session>
                    </arguments>
                    <block type="Mage_Backend_Block_Widget_Grid_ColumnSet" as="grid.columnSet" name="adminhtml.customer.online.grid.columnSet">
                        <arguments>
                            <generatorClass>Mage_Backend_Model_Widget_Grid_Row_UrlGeneratorCustomerOnline</generatorClass>
                        </arguments>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="customer_id">
                            <arguments>
                                <header translate="true" module="Mage_Customer">ID</header>
                                <width>50px</width>
                                <align>right</align>
                                <type>number</type>
                                <default translate="true">n/a</default>
                                <index>customer_id</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="firstname">
                            <arguments>
                                <header translate="true" module="Mage_Customer">First Name</header>
                                <default>Guest</default>
                                <index>customer_firstname</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="lastname">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Last Name</header>
                                <default>n/a</default>
                                <index>customer_lastname</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="email">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Email</header>
                                <default>n/a</default>
                                <index>customer_email</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="ip_address">
                            <arguments>
                                <header translate="true" module="Mage_Customer">IP Address</header>
                                <default>n/a</default>
                                <filter>0</filter>
                                <renderer>Mage_Adminhtml_Block_Customer_Online_Grid_Renderer_Ip</renderer>
                                <index>remote_addr</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="session_start_time">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Session Start Time</header>
                                <default>n/a</default>
                                <align>left</align>
                                <width>200px</width>
                                <type>datetime</type>
                                <index>first_visit_at</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="last_activity">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Last Activity</header>
                                <default>n/a</default>
                                <align>left</align>
                                <width>200px</width>
                                <type>datetime</type>
                                <index>last_visit_at</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="type">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Type</header>
                                <type>options</type>
                                <options type="options">Mage_Customer_Model_Resource_Customer_CustomersTypeOptions</options>
                                <index>visitor_type</index>
                            </arguments>
                        </block>
                        <block type="Mage_Backend_Block_Widget_Grid_Column" as="last_url">
                            <arguments>
                                <header translate="true" module="Mage_Customer">Last URL</header>
                                <default>n/a</default>
                                <linelength>60</linelength>
                                <type>wrapline</type>
                                <index>last_url</index>
                                <renderer>Mage_Adminhtml_Block_Customer_Online_Grid_Renderer_Url</renderer>
                            </arguments>
                        </block>
                    </block>
                </block>
            </block>
        </reference>
    </adminhtml_customer_online_index>
</layout>
