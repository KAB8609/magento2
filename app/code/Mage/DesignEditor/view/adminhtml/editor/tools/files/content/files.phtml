<?php
/**
 * {license_notice}
 *
 * @category    design
 * @package     Mage_DesignEditor
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>

<?php
/** @var $this Mage_DesignEditor_Block_Adminhtml_Editor_Tools_Files_Content_Files */
?>

<?php if ($this->getFilesCount() > 0): ?>

    <div name="css-editor">
        <?php if ($this->getStorageType() == 'font'): ?>
            <table cellspacing="0">
                <?php foreach ($this->getFiles() as $file): ?>
                    <tr>
                        <td>
                            <?php echo $file['text'] ?>
                        </td>
                        <td>
                            <a href="#" class="action-add" onclick="MediabrowserInstance.insert('<?php echo $file['id'] ?>')" title="<?php echo $this->__('Insert file'); ?>" data-id="<?php echo $file['id'] ?>">
                                <span><?php echo $this->__('Insert file'); ?></span>
                            </a>
                        </td>
                        <td>
                            <a href="#" class="action-delete" onclick="MediabrowserInstance.deleteFiles('<?php echo $file['id'] ?>')" title="<?php echo $this->__('Delete file'); ?>" data-id="<?php echo $file['id'] ?>">
                                <span><?php echo $this->__('Delete file'); ?></span>
                            </a>
                        </td>
                    </tr>
                <?php endforeach; ?>
            </table>
        <?php else: ?>
            <?php foreach ($this->getFiles() as $file): ?>
                <div class="image base-image asset-image css-editor-image">
                    <?php if (isset($file['thumbnailParams'])): ?>
                        <img class="spacer" src="<?php echo Mage::getDesign()->getViewFileUrl('images/spacer.gif') ?>"/>
                        <img src="<?php echo $this->getUrl('*/*/previewImage', $file['thumbnailParams']) ?>">
                    <?php endif; ?>
                    <p>
                        <?php echo $file['width'] ?>x<?php echo $file['height'] ?> px.
                        <?php echo $file['text'] ?>
                    </p>
                    <div class="actions">
                        <a href="#" class="action-delete" onclick="MediabrowserInstance.deleteFiles('<?php echo $file['id'] ?>')" title="<?php echo $this->__('Delete file'); ?>" data-id="<?php echo $file['id'] ?>">
                            <span><?php echo $this->__('Delete file'); ?></span>
                        </a>
                        <a href="#" class="action-add" onclick="MediabrowserInstance.insert('<?php echo $file['id'] ?>')" title="<?php echo $this->__('Insert file'); ?>" data-id="<?php echo $file['id'] ?>">
                            <span><?php echo $this->__('Insert file'); ?></span>
                        </a>
                    </div>
                </div>
            <?php endforeach; ?>
        <?php endif; ?>
    </div>

<?php else: ?>
    <?php echo $this->__('No files found') ?>
<?php endif; ?>
