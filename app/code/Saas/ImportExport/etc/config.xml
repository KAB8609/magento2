<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<config>
    <modules>
        <Saas_ImportExport>
            <version>2.0.0.0</version>
            <active>false</active>
            <depends>
                <Mage_ImportExport/>
            </depends>
        </Saas_ImportExport>
    </modules>
    <global>
        <importexport module="Saas_ImportExport">
            <export_entities>
                <catalog_product translate="label">
                    <model_token>Saas_ImportExport_Model_Export_Entity_Product</model_token>
                    <label>Products</label>
                </catalog_product>
            </export_entities>
            <import_entities>
                <catalog_product translate="label">
                    <model_token>Saas_ImportExport_Model_Import_Entity_Product</model_token>
                    <label>Products</label>
                </catalog_product>
            </import_entities>
            <export_file_formats>
                <csv translate="label">
                    <model_token>Saas_ImportExport_Model_Export_Adapter_Csv</model_token>
                    <label>CSV</label>
                </csv>
            </export_file_formats>
        </importexport>
        <events>
            <process_export_catalog_product>
                <observers>
                    <saas_importexport>
                        <asynchronous>true</asynchronous>
                        <class>Saas_Queue_Model_Observer_Export</class>
                        <method>processExport</method>
                        <params>
                            <task_name>export_catalog_product</task_name>
                        </params>
                    </saas_importexport>
                </observers>
            </process_export_catalog_product>
            <process_export_customer>
                <observers>
                    <saas_importexport>
                        <asynchronous>true</asynchronous>
                        <class>Saas_Queue_Model_Observer_Export</class>
                        <method>processExport</method>
                        <params>
                            <task_name>export_customer</task_name>
                        </params>
                    </saas_importexport>
                </observers>
            </process_export_customer>
        </events>
    </global>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <Saas_ImportExport before="Mage_ImportExport_Adminhtml">Saas_ImportExport_Adminhtml</Saas_ImportExport>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <saas_importexport module="Saas_ImportExport">
                    <file>layout.xml</file>
                </saas_importexport>
            </updates>
        </layout>
        <di>
            <Mage_AdminNotification_Model_System_MessageList>
                <parameters>
                    <messages>
                        <!-- TODO: add one message for import/export -->
                        <export_finished>Saas_ImportExport_Model_System_Message_Export</export_finished>
                    </messages>
                </parameters>
            </Mage_AdminNotification_Model_System_MessageList>
        </di>
    </adminhtml>
</config>
