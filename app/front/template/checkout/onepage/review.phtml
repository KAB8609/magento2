<script type="text/javascript">
var Review = Class.create();
Review.prototype = {
    initialize: function(){
        this.onSave = this.continue.bindAsEventListener(this);
    },
    
    save: function(){
        var request = new Ajax.Request(
            '<?=$baseSecureUrl?>checkout/onepage/saveOrder/',
            {
                method:'post',
                onSuccess: this.onSave
            }
        );
    },

    continue: function(transport){
        if (transport && transport.responseText) {
            try{
                responce = eval('(' + transport.responseText + ')');
            }
            catch (e) { 
                responce = {};
            }
            if (responce.success) {
                window.location='<?=$baseUrl?>checkout/onepage/success/';
            }
            else{
                alert('error');
            }
        }
    }
}
</script>

<div class="step-body" id="co-review-cont">
    <div id="checkout-review-load" class="default-box">
        <?=$reviewInformation?>
    </div>
    
    <div class="note-box">
        <input type="button" onclick="checkout.back();" value="Back" class="input-button float-left"/>
        <input type="button" onclick="review.save();" class="input-button float-right" value="Submit Order" style="background:red"/>
        <div class="clearfix"></div>
    </div>
</div>
<script type="text/javascript">
    var review = new Review();
</script>
