<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2004-2007 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
?>
<script language="JavaScript" type="text/javascript" src="<?php echo $baseJsUrl ?>adminhtml/scrollbar.js"></script>
<script language="JavaScript" type="text/javascript">
	var db_but_top = '<?php echo $this->getSkinUrl('images/db-scroll-but-top.png') ?>';
	var db_but_bot = '<?php echo $this->getSkinUrl('images/db-scroll-but-bot.png') ?>';
	var db_but_rol = '<?php echo $this->getSkinUrl('images/db-scroll-roller.png') ?>';
</script>
<div class="content-header"><h3><?php echo Mage::helper('dashboard')->__('Dashboard') ?></h3></div>
<?php 
	include('php_code.php');
	include('js_code.php');
?>
<ul class="graph-container">
	<li class="section">
		<dl class="db-top">
			<dt><?php echo $this->__('Orders') ?></dt>
			<dd>
				<?php echo $this->__('View report for') ?>&nbsp;&nbsp;
				<select name="#"><option><?php echo $this->__('Magento store') ?></option></select>
				&nbsp;&nbsp;<?php echo $this->__('for') ?>&nbsp;&nbsp;
				<select name="#"><option><?php echo $this->__('24 hours') ?></option></select>
			</dd>
		</dl><div class="clear"></div>
		<div class="graph-block">
			<div class="db-menu">
				<ul>
					<li><a id="orders1Tab" href="javascript:void(0);" onclick="showTab('1', 'orders', 3);"><?php echo $this->__('Orders vs. Time') ?></a></li>
					<li><a id="orders2Tab" href="javascript:void(0);" onclick="showTab('2', 'orders', 3);"><?php echo $this->__('Income vs. Time') ?></a></li>
					<li class="last"><a class="hover" id="orders3Tab" href="javascript:void(0);" onclick="showTab('3', 'orders', 3);"><?php echo $this->__('Summary') ?></a></li>
				</ul>
			</div><div class="clear"></div>
			<div class="graph-cont" id="orders-1-tab" style="display:none;">
				<?php if($data['orders']['conType'] == 'graph'){ ?>
				<table cellpadding="0" cellspacing="0" border="0" id="<?php echo $data['orders']['tId'] ?>">
					<tr>
						<td align="center" valign="middle"><?php echo $data['orders']['yHeading'] ?></td>
						<?php foreach ( $data['orders']['gValues'] as $gKey => $gVal ) { ?>
						<td class="g" rowspan="<?php echo $data['orders']['yCount'] ?>"><div class="bottom-bg"><div class="gr" style="height:<?php echo $gVal ?>px;"></div></div></td>
						<?php } ?>
					</tr>
					<?php foreach ( $data['orders']['yValues'] as $yKey => $yVal ) { ?>
					<tr>
						<td class="y"><?php echo $yVal ?></td>
					</tr>
					<?php } ?>
					<tr>
						<td>&nbsp;</td>
						<?php foreach ( $data['orders']['xValues'] as $xKey => $xVal ) { ?>
						<td class="x"><?php echo $xVal ?></td>
						<?php } ?>
						<td valign="bottom">&nbsp;&nbsp;<?php echo $data['orders']['xHeading'] ?></td>
					</tr>
				</table>
				<?php } ?>
			</div>
			<div class="graph-cont" id="orders-2-tab" style="display:none;">
				<?php if($data['income']['conType'] == 'graph'){ ?>
				<table cellpadding="3" cellspacing="0" border="0" id="<?php echo $data['income']['tId'] ?>">
					<tr>
						<td align="center" valign="middle"><?php echo $data['income']['yHeading'] ?></td>
						<?php foreach ( $data['income']['gValues'] as $gKey => $gVal ) { ?>
						<td class="g" rowspan="<?php echo $data['income']['yCount'] ?>"><div class="bottom-bg"><div class="gr" style="height:<?php echo $gVal ?>px;"></div></div></td>
						<?php } ?>
					</tr>
					<?php foreach ( $data['income']['yValues'] as $yKey => $yVal ) { ?>
					<tr>
						<td class="y"><?php echo ($data['income']['xType'] == 'mon' ? '$' : '') ?><?php echo $yVal ?></td>
					</tr>
					<?php } ?>
					<tr>
						<td>&nbsp;</td>
						<?php foreach ( $data['income']['xValues'] as $xKey => $xVal ) { ?>
						<td class="x"><?php echo $xVal ?></td>
						<?php } ?>
						<td valign="bottom"><?php echo $data['income']['xHeading'] ?></td>
					</tr>
				</table>
				<?php } ?>
			</div>
			<div class="tab-cont" id="orders-3-tab">
				<?php if($data['summary']['conType'] == 'tab'){ ?>
				<div class="graph-table col3">
					<div class="tab-right">
					<div class="tab-head">
						<?php foreach ($data['summary']['yValues'] as $yKey => $yVal) { ?>
						<div class="header"<?php echo ($yKey == 2 ? ' style="background:none;width:160px;"' : '') ?><?php echo ($yKey == 1 ? ' style="text-align:right;"' : '') ?>><?php echo $yVal ?>&nbsp;&nbsp;&nbsp;</div>
						<?php } ?>
					</div><div class="clear"></div>
					<?php if(count($data['summary']['gValues']) > 10){ ?>
					<script type="text/javascript"> instantiateScroller(0, "scroll0", 7, 0, 490, 248, 248); </script>
					<div class="root" id="root0">
					<div class="scrollContainer" id="scroll0Container">
					<div class="scrollContent" id="scroll0Content">
					<?php } ?>
						<div class="tab-body">
						<?php foreach ($data['summary']['gValues'] as $gKey => $gVal) { ?>
							<div class="row<?php echo ( $gKey % 2 ? '2': '') ?>">
							<?php foreach ($gVal as $k => $gValue) { ?>
								<div class="tab-item"<?php echo ( $k=='1' ? ' style="text-align:right;"' : '') ?>><?php echo $gValue ?></div>
							<?php } ?>
							</div>
						<?php } ?>
						</div>
					<?php if(count($data['summary']['gValues']) > 10){ ?>
					</div>
					</div>
					</div>
					<?php } ?>
					<div class="clear"></div>
					<div class="tab-footer">
						<div class="tab-foot">
							<dl>
								<dt><?php echo $data['summary']['xValues']['total'] ?>:</dt>
								<dd><?php echo $data['summary']['xValues']['sum'] ?></dd>
							</dl>
						</div>
					</div><div class="clear"></div>
				</div></div>
				<div class="tab-footer-bottom"><div class="tab-footer-right"></div><div class="tab-footer-left"></div></div>
				<?php } ?>
			</div>
		</div>
	</li>
	<li class="section" style="margin-right:0;">
		<dl class="db-top">
			<dt><?php echo $this->__('Analytics') ?></dt>
			<dd>
				<?php echo $this->__('View report for') ?>&nbsp;&nbsp;
				<select name="#"><option><?php echo $this->__('Magento store') ?></option></select>
				&nbsp;&nbsp;<?php echo $this->__('for') ?>&nbsp;&nbsp;
				<select name="#"><option><?php echo $this->__('24 hours') ?></option></select>
			</dd>
		</dl><div class="clear"></div>
		<div class="graph-block">
			<div class="db-menu">
				<ul>
					<li><a id="analytics1Tab" href="javascript:void(0);" onclick="showTab('1', 'analytics', 2);"><?php echo $this->__('Site Visits') ?></a></li>
					<li class="last"><a class="hover" id="analytics2Tab" href="javascript:void(0);" onclick="showTab('2', 'analytics', 2);"><?php echo $this->__('Who\'s Online') ?></a></li>
				</ul>
			</div><div class="clear"></div>
			<div class="graph-cont" id="analytics-1-tab" style="display:none;">
				<?php if($data['analytics']['conType'] == 'graph'){ ?>
				<table cellpadding="0" cellspacing="0" border="0" id="<?php echo $data['analytics']['tId'] ?>">
					<tr>
						<td align="center" valign="middle"><?php echo $data['analytics']['yHeading'] ?></td>
						<?php foreach ( $data['analytics']['gValues'] as $gKey => $gVal ) { ?>
						<td class="g" rowspan="<?php echo $data['analytics']['yCount'] ?>">
							<div class="bottom-bg" style="height:<?php echo ($gVal[0] > $gVal[1] ? $gVal[0] : $gVal[1] ) ?>px;">
								<?php if( $data['analytics']['gType'] == 2 ){ ?>
								<dl class="gr1">
									<dt style="height:<?php echo $gVal[0] ?>px;margin-top:<?php echo ($gVal[0] > $gVal[1] ? 0 : ($gVal[1] - $gVal[0]) ) ?>px;">&nbsp;</dt>
									<dd style="height:<?php echo $gVal[1] ?>px;margin-top:<?php echo ($gVal[1] > $gVal[0] ? 0 : ($gVal[0] - $gVal[1]) ) ?>px;">&nbsp;</dd>
								</dl>
								<?php } ?>
							</div>
						</td>
						<?php } ?>
					</tr>
					<?php foreach ( $data['analytics']['yValues'] as $yKey => $yVal ) { ?>
					<tr>
						<td class="y"><?php echo $yVal ?></td>
					</tr>
					<?php } ?>
					<tr>
						<td>&nbsp;</td>
						<?php foreach ( $data['analytics']['xValues'] as $xKey => $xVal ) { ?>
						<td class="x"><?php echo $xVal ?></td>
						<?php } ?>
						<td valign="bottom">&nbsp;&nbsp;<?php echo $data['analytics']['xHeading'] ?></td>
					</tr>
				</table>
				<?php } ?>
			</div>
			<div class="tab-cont" id="analytics-2-tab">
				<?php if($data['online']['conType'] == 'tab'){ ?>
				<div class="graph-table col2">
					<div class="tab-right">
					<div class="tab-head">
						<?php foreach ($data['online']['yValues'] as $yKey => $yVal) { ?>
						<div class="header"<?php echo ($yKey == 1 ? ' style="background:none;width:160px;"' : '' ) ?>><?php echo $yVal ?>&nbsp;&nbsp;&nbsp;</div>
						<?php } ?>
					</div><div class="clear"></div>
					<?php if(count($data['online']['gValues']) > 10){ ?>
					<script type="text/javascript"> instantiateScroller(1, "scroll1", 7, 0, 490, 248, 248); </script>
					<div class="root" id="root1">
					<div class="scrollContainer" id="scroll1Container">
					<div class="scrollContent" id="scroll1Content">
					<?php } ?>
						<div class="tab-body">
						<?php foreach ($data['online']['gValues'] as $gKey => $gVal) { ?>
							<div class="row<?php echo ( $gKey % 2 ? '2': '') ?>">
							<?php foreach ($gVal as $k => $gValue) { ?>
								<div class="tab-item"><?php echo $gValue ?></div>
							<?php } ?>
							</div>
						<?php } ?>
						</div>
					<?php if(count($data['online']['gValues']) > 10){ ?>
					</div>
					</div>
					</div>
					<?php } ?>
					<div class="clear"></div>
					<div class="tab-footer">
						<div class="tab-foot">
							<dl>
								<dt><?php echo $data['online']['xValues']['total'] ?>:</dt>
								<dd><?php echo $data['online']['xValues']['sum'] ?></dd>
							</dl>
						</div>
					</div><div class="clear"></div>
				</div></div>
				<div class="tab-footer-bottom"><div class="tab-footer-right"></div><div class="tab-footer-left"></div></div>
				<?php } ?>
			</div>
		</div>
	</li>
</ul>
<div class="clear"></div>
