<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2004-2007 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
?>

<?php if($this->getCount()): ?>
<table cellpadding="0" class="a-left" id="<?php echo $this->getHtmlId() ?>" style="width:910px;">
<tr>
	<td align="center" valign="middle" width="10"><?php echo $this->getHeader() ?></td>
    <?php foreach($this->getCollection() as $_item ): ?>
	<td class="g" rowspan="<?php echo $this->getVerticalAxis()->getSpan() ?>">
	<?php $_maximum=$this->getVerticalAxis()->getPixelMaximum($_item) ?>
		<div class="bottom-bg" style="height:<?php echo $_maximum ?>px;">
			<dl class="gr1">
			<?php foreach ($this->getAllSeries() as $_key=>$_series): ?>
			<?php $_value=$this->getVerticalAxis()->getPixelPosition($_item, $_series) ?>
				<dt <?php if(($_key+1)%2): ?>class="odd"<?php endif; ?> style="<?php if($_value == 0): ?>display:none;<?php endif ?>height:<?php echo $_value ?>px;margin-top:<?php echo ($_maximum-$_value) ?>px;"></dt>
			<?php endforeach; ?>
			</dl>
		</div>
	</td>
	<?php endforeach; ?>
	<td width="100%" class="g" valign="bottom" rowspan="<?php echo $this->getVerticalAxis()->getSpan() ?>"><div class="bottom-bg">&nbsp;</div></td>
</tr>
<?php if($this->getCount()): ?>
<tr>
	<td style="color:#bfbfbf;" class="y"  style="white-space:nowrap;"><?php echo $this->getVerticalAxis()->getTitle() ?></td>
</tr>
<?php foreach($this->getVerticalAxis()->getLabels() as $_label): ?>
<tr>
	<td class="y" style="white-space:nowrap;"><?php echo $_label ?></td>
</tr>
<?php endforeach; ?>
<?php else: ?>
<tr>
	<td style="color:#bfbfbf;" class="y"><?php echo $this->getVerticalAxis()->getTitle() ?></td>
</tr>
<?php foreach($this->getVerticalAxis()->getLabels() as $_label): ?>
<tr>
	<td class="y">&nbsp;</td>
</tr>
<?php endforeach; ?>

<?php endif; ?>

<tr>
	<td>&nbsp;</td>
	<?php if($this->getCount()): ?>
	<?php foreach($this->getHorizontalAxis()->getLabels() as $_label): ?>
	<td class="x" align="center"><?php echo $_label ?></td>
	<?php endforeach; ?>
	<?php else: ?>
	<td class="x" align="center">&nbsp;</td>
	<?php endif; ?>
	<td valign="bottom" align="right" style="color:#bfbfbf;">&nbsp;&nbsp;<?php echo $this->getHorizontalAxis()->getTitle() ?></td>
</tr>
</table>
<?php else: ?>
<div align="center" style="margin-top:180px;"><?php echo $this->__('No Data Found') ?></div>
<?php endif; ?>