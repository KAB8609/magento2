<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2004-2007 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
?>
<?php if($this->canDisplayGiftmessage()): ?>
<div id="<?php echo $this->getHtmlId() ?>" class="giftmessage-whole-order-container box-left">
    <div class="entry-edit">
        <h4><?php echo Mage::helper('sales')->__('Gift Message for Entire Order') ?></h4>
        <form id="<?php echo $this->getFieldId('form') ?>" action="<?php echo $this->getSaveUrl() ?>">
            <fieldset>
                <input type="hidden" id="<?php echo $this->getFieldId('type') ?>" name="<?php echo $this->getFieldName('type') ?>" value="order"/>
                <table cellspacing="0" class="form-list">
                    <tr>
                        <td class="label"><?php echo Mage::helper('sales')->__('From Name') ?></td>
                        <td class="input-ele"><input class="input-text" type="text" id="<?php echo $this->getFieldId('sender') ?>" name="<?php echo $this->getFieldName('sender') ?>" value="<?php echo $this->htmlEscape($this->getMessage()->getSender()) ?>"/></td>
                    </tr>
                    <tr>
                        <td class="label"><?php echo Mage::helper('sales')->__('To Name') ?></td>
                        <td class="input-ele"><input class="input-text" type="text" id="<?php echo $this->getFieldId('recipient') ?>" name="<?php echo $this->getFieldName('recipient') ?>"  value="<?php echo $this->htmlEscape($this->getMessage()->getRecipient()) ?>"/></td>
                    </tr>
                    <tr>
                        <td class="label"><?php echo Mage::helper('sales')->__('Gift Message') ?></td>
                        <td class="input-ele"><textarea id="<?php echo $this->getFieldId('message') ?>" onchange="giftMessagesController.toogleRequired('<?php echo $this->getFieldId('message') ?>', ['<?php echo $this->getFieldId('sender') ?>','<?php echo $this->getFieldId('recipient') ?>']);" name="<?php echo $this->getFieldName('message') ?>"><?php echo $this->htmlEscape($this->getMessage()->getMessage()) ?></textarea></td>
                     </tr>
                    <tr>
                        <td class="label">&nbsp;</td>
                        <td class="input-ele"><?php echo $this->getSaveButtonHtml() ?></td>
                    </tr>
                </table>
            </fieldset>
        </form>
    </div>
</div>
<?php endif ?>
