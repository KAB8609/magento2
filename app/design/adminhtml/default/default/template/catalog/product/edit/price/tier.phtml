<?=$this->getAddButtonHtml()?>
<span class="field-row" id="<?=$this->getElement()->getHtmlId()?>_container"></span>
<span id="<?=$this->getElement()->getHtmlId()?>_delete_button" style="display:none">

</span>

<div id="<?=$this->getElement()->getHtmlId()?>_add_template" style="display:none">
<div class="tier-price-input" id="<?=$this->getElement()->getHtmlId()?>_row___index__">
<table cellspacing="0">
	<tbody>
	 <tr>
	  	<td class="a-center">
		<label for="<?=$this->getElement()->getHtmlId()?>_row___index__price_qty" class="bold"><?=('Qty')?></label>
		<input id="<?=$this->getElement()->getHtmlId()?>_row___index__price_qty" disabled="no-template" class="<?=$this->getElement()->getClass()?> qty validate-number validate-greater-than-zero" type="text" name="<?=$this->getElement()->getName()?>[__index__][price_qty]" value="#{qty}">
		</td>
		<td class="a-center">
		<label for="<?=$this->getElement()->getHtmlId()?>_row___index__price" class="bold"><?=('and above. Price')?></label>
		<input id="<?=$this->getElement()->getHtmlId()?>_row___index__price" disabled="no-template" class="<?=$this->getElement()->getClass()?> price validate-number validate-greater-than-zero" type="text" name="<?=$this->getElement()->getName()?>[__index__][price]" value="#{price}">
		</td>
		<td class="a-center">
		<?=$this->getDeleteButtonHtml()?>
		</td>
	  </tr>
	</tbody>
</table>
</div>
</div>
<script type="text/javascript">
<!--
	var tierPriceControl = {
		template : new Template($('<?=$this->getElement()->getHtmlId()?>_add_template').innerHTML.replace(/__index__/g, '#{index}').replace(/ disabled="no-template"/g, '')),
		itemsCount : 0,
		deleteButton: false,
		addItem	 : function () {
			var data = {};
			data.qty = '';
			data.price = '';
			data.index = this.itemsCount++;
			if(arguments.length == 2) {
				data.price = arguments[1];
				data.qty   = arguments[0];
			}
						
			new Insertion.Bottom(
				$('<?=$this->getElement()->getHtmlId()?>_container'),
				this.template.evaluate(data)
			);
		},
		deleteItem : function(item) {
			$('<?=$this->getElement()->getHtmlId()?>_row_' + item).remove();
		}
	}
	Validation.addAllThese([
    ['validate-greater-than-zero', '<?=__('Please enter a number greater than 0 in this field.')?>', function(v) {
                return parseFloat(v) > 0;
            }]]);
	<?foreach ($this->getValues() as $_item):?>
	tierPriceControl.addItem('<?=$_item['price_qty']?>','<?=$_item['price']?>');
	<?endforeach;?>
//-->
</script>