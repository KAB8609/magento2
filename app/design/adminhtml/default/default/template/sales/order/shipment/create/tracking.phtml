<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2004-2007 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
?>
<div id="track_row_template" class="template no-display">
<span class="field-row" id="track_row___index__">
    <select name="tracking[__index__][carrier_code]" class="select" style="width:110px;" disabled>
        <?foreach ($this->getCarriers() as $_code=>$_name):?>
        <option value="<?=$_code?>"><?=$_name?></option>
        <?endforeach;?>
    </select>
    <input class="input-text" type="text" name="tracking[__index__][number]" value="" style="width:250px;" disabled/>
    <a href="#" onclick="trackingControl.delete('track_row___index__')"><?=$this->__('Delete')?></a>
</span>
</div>

<div id="track_row_container"></div>
<span class="field-row"><?=$this->getChildHtml('add_button')?></span>
<script type="text/javascript">
var trackingControl = {
    template : new Template($('track_row_template').innerHTML.replace(/__index__/g, '#{index}').replace(/ disabled/g, '')),
    index : 0,
    add : function () {
        this.index++;
        var data = {index:this.index};
        new Insertion.Bottom($('track_row_container'), this.template.evaluate(data));
    },
    delete : function(id) {
        if($(id)) {
            $(id).remove();
        }
    }
}
</script>