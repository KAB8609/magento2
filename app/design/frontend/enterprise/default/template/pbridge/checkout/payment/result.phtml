<?php
/**
 * Magento Enterprise Edition
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Magento Enterprise Edition License
 * that is bundled with this package in the file LICENSE_EE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://www.magentocommerce.com/license/enterprise-edition
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     enterprise_default
 * @copyright   Copyright (c) 2009 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license     http://www.magentocommerce.com/license/enterprise-edition
 */
?>
<script type="text/javascript">
//<![CDATA[
    var paymentObj = parent.payment;

    function react()
    {
        var elements = parent.Form.getElements(paymentObj.form);
        for (var i=0; i<elements.length; i++) {
            if (elements[i].name=='payment[method]')    {
                elements[i].checked = false;
                elements[i].disabled = true;
            }
        }

        var method = parent.document.createElement('input');
        method.setAttribute('type', 'radio');
        method.setAttribute('name', 'payment[method]');
        method.setAttribute('value', 'pbridge');
        method.setAttribute('checked', 'checked');
        method.setAttribute('style', 'display:none');
        method.setAttribute('autocomplete', 'off');

        var realMethod = parent.document.createElement('input');
        realMethod.setAttribute('type', 'hidden');
        realMethod.setAttribute('name', 'payment[original_method]');
        realMethod.setAttribute('value', '<?php echo $this->getOriginalPaymentMethodCode() ?>');

        var checkoutForm = parent.document.getElementById(paymentObj.form);
        checkoutForm.appendChild(method);
        checkoutForm.appendChild(realMethod);

        paymentObj.save();
    }
    window.onload = react;
//]]>
</script>

<button type="button" onclick="react()"> Click me </button>
