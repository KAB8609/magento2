<?php
/**
 * Magento Enterprise Edition
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Magento Enterprise Edition License
 * that is bundled with this package in the file LICENSE_EE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://www.magentocommerce.com/license/enterprise-edition
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     enterprise_default
 * @copyright   Copyright (c) 2009 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license     http://www.magentocommerce.com/license/enterprise-edition
 */
?>

<?php if ($this->getEnabled() && $this->getItem()) : ?>
<script type="text/javascript">
//<![CDATA[
var elementTemplate =
    '<input type="checkbox" onclick="checkAddress()" value="<?php echo $this->getAddressIdPrefix(); ?><?php echo $this->getItem(); ?>" id="use_gr_address" name="shipping_address_id"> ' +
    '<?php echo $this->__('Use gift registry shipping address') ?>';

    var addressSelect = 'shipping-address-select';
    var addressForm = 'shipping-new-address-form';

    var el = new Element( 'li' );
    el.update(elementTemplate);
    $(addressForm).insert({'before' : el});

    function checkAddress() {
        var checkbox = $('use_gr_address');
        var select = $(addressSelect);

        if (checkbox.checked) {
            if (select) {
                select.disable();
            }
            $(addressForm).hide();
        } else {
            if (select) {
                select.enable();
            } else {
                $(addressForm).show();
            }
        }
    }
//]]>
</script>
<?php endif; ?>
