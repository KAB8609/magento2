<?if( $this->getTagInfo()->getName() ):?>
    <div class="page-head">
    	<h3><?=__('Products tagged with \'%s\'', $this->getTagInfo()->getName())?></h3>
    </div>
<?endif;?>
    <?=$this->getPagerHtml()?>
<?if( sizeof($this->getProducts()) > 0 ):?>
    <?if($this->getMode()!='grid'):?>
    <!-- [starts] .listing-type-list // -->
    <div class="listing-type-list"> <!-- the class name will change to .listing-type-cell if viewing in list mode -->
        <?$i=0; foreach ($this->getProducts() as $product):?>
    	    <div class="listing-item <?if ($this->getCount()<$i+3):?> class="last"<?endif?>">
    		    <div class="product-image">
    			    <a href="<?=$product->getProductUrl()?>" title="<?=$product->getName()?>"><img src="<?=$product->getSmallImageUrl()?>" width="125" height="125" alt="<?=$product->getName()?>"/></a>
    					<div class="ratings">
    						<div class="rating-box">
    							<div class="rating" style="width:70%;">
    							</div>
    						</div>
    						<a href="#" class="no-wrap"><small>3 Reviews</small></a>
    					</div>
    		    </div>
    		    <div class="product-info">
    			    <h5><a href="<?=$product->getProductUrl()?>" title="<?=$product->getName()?>"><?=$product->getName()?></a></h5>
    					<div class="description"><?=$product->getDescription()?> <a href="<?=$product->getProductUrl()?>" title="<?=$product->getName()?>"><small>Learn More</small></a></div>
    					<?=$this->getHelper('catalog/product')->getPriceHtml($product)?>
    					<div class="actions">
    						<button class="form-button" onclick="top.location.href='<?=$this->getUrl('checkout/cart/add',array('product'=>$product->getId()))?>'"><span>Add to Cart</span></button><br/>
    						<ul class="add-to">
    							<li><a href="<?=$this->getUrl('wishlist/index/add',array('product'=>$product->getId()))?>">Add to My Wishlist</a></li>
    							<?if($this->getCompareJsObjectName()):?><li><a href="#" onclick="<?=$this->getCompareJsObjectName()?>.addItem(<?=$product->getId()?>);return false;">Add to Compare</a></li><?endif;?>
    						</ul>
    					</div>
    				</div>
    			</div>
        <?endforeach;?>
    </div>
    <!-- [ends] .listing-type-list // -->
    <?=$this->getPagerHtml()?>
    <?else:?>
    <!-- [starts] .listing-type-grid // -->
    <?=$this->getPagerHtml()?>
    	<div class="listing-type-grid"> <!-- the class name will change to .listing-type-cell if viewing in list mode -->
    	    <table cellspacing="0" class="generic-product-grid">
    		    <?$i=0; foreach ($this->getProducts() as $product):?>
    			<?if ($i++%3==0):?><tr<?if ($this->getCount()<$i+3):?> class="last"<?endif?>><?endif?>
    								<td<?if ($i%3==0):?> class="last"<?endif?>>
    				    <p class="product-image"><a href="<?=$product->getProductUrl()?>" title="<?=$product->getName()?>"><img src="<?=$product->getSmallImageUrl()?>" width="135" alt="<?=$product->getName()?>"></a></p>
    					<h5><a href="<?=$product->getProductUrl()?>" title="<?=$product->getName()?>"><?=$product->getName()?></a></h5>
    					<?=$this->getHelper('catalog/product')->getPriceHtml($product)?>
    					<div class="ratings">
    					    <div class="rating-box">
    						    <div class="rating" style="width:75%;"></div>
    						</div>
    						<a href="#"><small>(3)</small></a>
    					</div>
    					<p class="actions">
    					<button class="form-button" onclick="top.location.href='<?=$this->getUrl('checkout/cart/add',array('product'=>$product->getId()))?>'"><span>Add to Cart</span></button><br/>
    					<a href="<?=$this->getUrl('wishlist/index/add',array('product'=>$product->getId()))?>"><small>Add to Wishlist</small></a><br/>
    					<?if($this->getCompareJsObjectName()):?>
    					<a href="#" onclick="<?=$this->getCompareJsObjectName()?>.addItem(<?=$product->getId()?>);return false;"><small>Add to Compare</small></a>
    					<?endif;?></p>
    				</td>
    			<?if ($i%3==0):?></tr><?endif?>
    			<?endforeach?>
                <?for($i;$i%3!=0;$i++):?>
                <td class="empty-product"></td>
                <?endfor?>
    		</table>
    	</div>
    <!-- [ends] .listing-type-grid // -->
    <?=$this->getPagerHtml()?>
    <?endif;?>
<?else:?>
<table class="data-table box-table" cellspacing="0">
    <tr class="odd">
        <td><center><small><?=__('Unable to find any products')?></small></center></td>
    </tr>
</table>
<?endif;?>