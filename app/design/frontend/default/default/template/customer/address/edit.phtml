<h1 class="page-heading"><?if($this->getAddress()->getId()):?>Edit<?else:?>New<?endif?> Address Entry</h1>
<?=$this->getMessagesBlock()->getHtml()?>
<form action="<?=$this->getSaveUrl()?>" method="post" id="form-validate">
    <fieldset class="group-select">
        <legend>Personal Information</legend>
        <h3>Personal Information</h3>
        <ul>
            <li>
                <div class="input-left">
                    <label for="firstname">First Name <span class="required">*</span></label><br/>
                    <input type="text" name="firstname" id="firstname" title="First Name" value="<?=$this->getAddress()->getFirstname()?>" class="required-entry input-text"/>
                </div>
                <div class="input-right">
                    <label for="lastname">Last Name <span class="required">*</span></label><br/>
                    <input type="text" name="lastname" id="lastname" title="Last Name" value="<?=$this->getAddress()->getLastname()?>" class="required-entry input-text"/>
                </div>
            </li>
            <li>
                <div class="input-left">
                    <label for="company">Company</label><br/>
                    <input type="text" name="company" id="company" title="Company" value="<?=$this->getAddress()->getCompany()?>" class="input-text"/>
                </div>
            </li>
        </ul>
    </fieldset>
    <fieldset class="group-select">
        <legend>Address</legend>
        <h3>Address</h3>
        <ul>
            <li>
                <label for="street_1">Street Address <span class="required">*</span></label><br/>
                <input type="text" name="street[]" value="<?=$this->getAddress()->getStreet(1)?>" title="Street Address" id="street_1" class="required-entry input-text"/>
            </li>
            <li>
                <input type="text" name="street[]" value="<?=$this->getAddress()->getStreet(2)?>" title="Street Address 2" id="street_2" class="input-text"/>
            </li>
            <li>
                <label for="city">City <span class="required">*</span></label><br/>
                <input type="text" name="city" value="<?=$this->getAddress()->getCity()?>"  title="City" class="required-entry input-text" id="city"/></li>
            <li>
                <div class="input-left">
                    <label for="state">State / Province <span class="required">*</span></label><br/>
                <?if($this->getRegionCollection()->getSize()):?>
                    <?=$this->getRegionHtmlSelect()?>
                <?else:?>
                    <input type="text" name="region" value="<?=$this->getAddress()->getRegion()?>"  title="State/Province" id="state" class="required-entry input-text"/>
                <?endif?>
                </div>
                <div class="input-right">
                    <label for="zip">Zip/Post Code <span class="required">*</span></label><br/>
                    <input type="text" name="postcode" value="<?=$this->getAddress()->getPostcode()?>" title="ZIP/Post Code" id="zip" class="validate-zip required-entry input-text"/>
                </div>
            </li>
            <li>
                <label for="country">Country <span class="required">*</span></label><br/>
                <?=$this->getCountryHtmlSelect()?>
            </li>
            <li>
                <div class="input-left">
                    <label for="telephone">Telephone <span class="required">*</span></label><br/>
                    <input type="text" name="telephone" value="<?=$this->getAddress()->getTelephone()?>" title="Telephone" class="required-entry validate-phoneStrict input-text" id="telephone"/>
                </div>
                <div class="input-right">
                    <label for="fax">Fax</label><br/>
                    <input type="text" name="fax" value="<?=$this->getAddress()->getFax()?>" title="Fax" class="validate-fax input-text" id="fax"/>
                </div>
            </li>
            <?if($this->canSetAsDefaultBilling()):?>
            <li>
                <input type="checkbox" id="primary_billing" name="default_billing" value="1"/>&nbsp;
                <label for="primary_billing">Use as my primary <strong>billing</strong> address</label>
            </li>
            <?endif;?>
            <?if($this->canSetAsDefaultShipping()):?>
            <li>
                <input type="checkbox" id="primary_billing" name="default_shipping" value="1"/>&nbsp;
                <label for="primary_shipping">Use as my primary <strong>shipping</strong> address</label>
            </li>
            <?endif;?>
        </ul>
    </fieldset>
    <div class="buttons-container">
        <p class="required">* Required Fields</p>
        <a href="<?=$this->getBackUrl()?>" class="float-left">&laquo; Back</a>
        <input type="submit" value="Submit" class="input-button float-right"/>
    </div>
</form>
<script type="text/javascript">
    var dataForm = new VarienForm('form-validate', true);
    dataForm.setElementsRelation('country', 'state', '<?=$baseUrl?>directory/json/childRegion/');
</script>