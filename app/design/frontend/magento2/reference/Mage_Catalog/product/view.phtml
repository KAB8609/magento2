<?php
/**
 * {license_notice}
 *
 * @category    design
 * @package     enterprise_default
 * @copyright   {copyright}
 * @license     {license_link}
 */

/**
 * Product view template
 *
 * @see Mage_Catalog_Block_Product_View
 * @see Mage_Review_Block_Product_View
 */
?>
<?php $_helper = $this->helper('Mage_Catalog_Helper_Output'); ?>
<?php $_product = $this->getProduct(); ?>


<?php switch($this->getShowPart()):
        case 'other': ?>
        <?php echo $this->getChildHtml(); ?>
    <?php break; ?>

    <?php case 'script': ?>
        <script type="text/javascript">
            (function ($) {
                head.js("<?php echo $this->getViewFileUrl('Mage_Catalog::js/price-option.js') ?>", function () {
                    $('#product_addtocart_form').priceOption({"priceConfig":<?php echo $this->getJsonConfig() ?>});
                });
            })(jQuery);
        </script>
    <?php break; ?>



    <?php case 'formsmall': ?>
            <?php // echo ($_product->getCanShowPrice() === false) ? '' : $this->getChildHtml('tierprices'); ?>

            <?php if (!$this->hasOptions()):?>

            <form class="product form small" action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
                <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
                <input type="hidden" name="related_product" id="related-products-field" value="" />

                <div class="add-to-box">
                    <?php if($_product->isSaleable()): ?>
                        <?php echo $this->getChildHtml('addtocart') ?>
                    <?php endif; ?>
                </div>
            </form>

            <?php elseif ($_product->isSaleable() && $this->getOptionsContainer() == 'container1'):?>

            <form class="product form small" action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
                <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
                <input type="hidden" name="related_product" id="related-products-field" value="" />
                <div class="product options container small">
                    <?php echo $this->getChildChildHtml('options_container') ?>
                </div>
            </form>

            <?php endif; ?>
            <?php echo $this->getChildHtml();?>
            <?php //echo $this->getChildHtml('other');?>
        </form>
    <?php break; ?>

    <?php case 'productFormContainer': ?>
        <?php echo $this->getChildChildHtml('container1', '', true, true) ?>
        <?php echo $this->getChildChildHtml('container2', '', true, true) ?>
    <?php break; ?>

    <?php case 'formbig': ?>
        <?php if ($_product->isSaleable() && $this->hasOptions() && $this->getOptionsContainer() == 'container2'):?>
            <form class="product form big" action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
                <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
                <input type="hidden" name="related_product" id="related-products-field" value="" />
                <div class="product options container big">
                    <?php echo $this->getChildChildHtml('options_container') ?>
                </div>
            </form>
        <?php endif; ?>
    <?php break; ?>

    <?php case 'form': ?>
        <?php if ($_product->isSaleable() && $this->hasOptions() && $this->getOptionsContainer() == 'container2'):?>
            <form class="product form big" action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
                <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
                <input type="hidden" name="related_product" id="related-products-field" value="" />

                    <?php if (!$this->hasOptions()):?>

                        <?php echo $this->getChildHtml('product.info.form.content') ?>

                            <?php /*if($_product->isSaleable()): ?>
                                <?php echo $this->getChildHtml('addtocart') ?>
                            <?php endif; ?>
                            <?php echo $this->getChildHtml('addto')*/ ?>

                    <?php elseif ($_product->isSaleable()):?>
                        <?php echo $this->getChildHtml('product.info.form.options') ?>
                    <?php endif; ?>
            </form>
        <?php endif; ?>
    <?php break; ?>


    <?php case 'view': ?>

        <script type="text/javascript">
            (function ($) {
                head.js("<?php echo $this->getViewFileUrl('Mage_Catalog::js/price-option.js') ?>", function () {
                    $('#product_addtocart_form').priceOption({"priceConfig":<?php echo $this->getJsonConfig() ?>});
                });
            })(jQuery);
        </script>

    <div class="temp-clear"></div>
    <form action="<?php echo $this->getSubmitUrl($_product) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>

            <input type="hidden" name="product" value="<?php echo $_product->getId() ?>" />
            <input type="hidden" name="related_product" id="related-products-field" value="" />

        <div class="product-essential">

                <div class="product-shop">

                    <?php echo ($_product->getCanShowPrice() === false) ? '' : $this->getChildHtml('tierprices'); ?>

                    <?php echo $this->getChildHtml('extrahint') ?>

                    <?php if (!$this->hasOptions()):?>
                        <div class="add-to-box">
                            <?php if($_product->isSaleable()): ?>
                                <?php echo $this->getChildHtml('addtocart') ?>
                            <?php endif; ?>
                            <?php echo $this->getChildHtml('addto') ?>
                        </div>
                    <?php else:?>
                        <?php if ($_product->isSaleable() && $this->getOptionsContainer() == 'container1'):?>
                            <div class="options-container-small">
                                <?php echo $this->getChildChildHtml('options_container') ?>
                            </div>
                        <?php else: ?>
                            <?php echo $this->getChildHtml('addto') ?>
                        <?php endif;?>
                    <?php endif; ?>



                    <?php echo $this->getChildHtml('other');?>
                </div>
        </div>

        <?php if ($_product->isSaleable() && $this->hasOptions() && $this->getOptionsContainer() == 'container2'):?>
            <div class="options-container-big">
                <?php echo $this->getChildChildHtml('options_container') ?>
            </div>
        <?php endif;?>
    </form>
        <?php echo $this->getChildHtml('relatedProducts') ?>
        <?php echo $this->getChildHtml('upsell_products') ?>
        <?php /*echo $this->getChildHtml('product_additional_data')*/ ?>
    <?php break; ?>

    <?php default: ?>





    <?php break; ?>

<?php endswitch; ?>


