# Magento
#
# NOTICE OF LICENSE
#
# This source file is subject to the Academic Free License (AFL 3.0)
# that is bundled with this package in the file LICENSE_AFL.txt.
# It is also available through the world-wide-web at this URL:
# http://opensource.org/licenses/afl-3.0.php
# If you did not receive a copy of the license and are unable to
# obtain it through the world-wide-web, please send an email
# to license@magentocommerce.com so we can send you a copy immediately.
#
# DISCLAIMER
#
# Do not edit or add to this file if you wish to upgrade Magento to newer
# versions in the future. If you wish to customize Magento for your
# needs please refer to http://www.magentocommerce.com for more information.
#
# @category    tests
# @package     selenium
# @subpackage  uimaps
# @author      Magento Core Team <core@magentocommerce.com>
# @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
# @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
#
---
#Manage Sales Orders and related pages

# 'Orders' page
manage_sales_orders:
    mca: sales_order/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'sales_order')]
    title: Orders / Sales / Magento Admin
    uimap:
        form: &orderGridMassactionForm
            fieldsets:
                -
                    sales_order_grid:
                        xpath: //div[@id="sales_order_grid"]
                        buttons:
                            export: //button[span='Export']
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                            submit: //button[span='Submit']
                        fields:
                            page: //input[@name='page']
                            filter_real_order_id: //input[@id='filter_real_order_id']
                            filter_created_at_from: //input[@name='created_at[from]']
                            filter_created_at_to: //input[@name='filter_created_at[to]']
                            filter_billing_name: //input[@name='billing_name']
                            filter_shipping_name: //input[@name='shipping_name']
                            base_grand_total_from: //input[@name='base_grand_total[from]']
                            base_grand_total_to: //input[@name='base_grand_total[to]']
                            filter_grand_total_from: //input[@name='grand_total[from]']
                            filter_grand_total_to: //input[@name='grand_total[to]']
                        links:
                            order_id: //a[@name='real_order_id']
                            store_id: //a[@name='store_id']
                            created_at: //a[@name='created_at']
                            billing_name: //a[@name='billing_name']
                            shipping_name: //a[@name='shipping_name']
                            base_grand_total: //a[@name='base_grand_total']
                            grand_total: //a[@name='grand_total']
                            status: //a[@name='status']
                            action: //span[contains(text(),'Action')]  
                      
                        dropdowns:
                            actions: //select[@id='sales_order_grid_massaction-select']
                            status: //select[@id='filter_status']
                            view_per_page: //select[@name='limit']
                -

        buttons:
            create_new_order: //button[span='Add New']
        messages:
            success_canceled_order: //li[normalize-space(@class)='success-msg' and contains(.//span,'order(s) have been canceled.')]
            failed_canceled_order: //li[normalize-space(@class)='error-msg' and contains(.//span,'The order(s) cannot be canceled.')]
            success_hold_order: //li[normalize-space(@class)='success-msg' and contains(.//span,'order(s) have been put on hold.')]
            failed_hold_order: //li[normalize-space(@class)='error-msg' and contains(.//span,'No order(s) were put on hold.')]
            success_unhold_order: //li[normalize-space(@class)='success-msg' and contains(.//span,'order(s) have been released from holding status.')]
            failed_unhold_order: //li[normalize-space(@class)='error-msg' and contains(.//span,'No order(s) were released from holding status.')]
            success_print_invoices: TODO
            failed_print_invoices: //li[normalize-space(@class)='error-msg' and contains(.//span,'There are no printable documents related to selected orders.')]
            success_print_packingslips: TODO
            failed_print_packingslips: //li[normalize-space(@class)='error-msg' and contains(.//span,'There are no printable documents related to selected orders.')]
            success_print_credit_memos: TODO
            failed_print_credit_memos: //li[normalize-space(@class)='error-msg' and contains(.//span,'There are no printable documents related to selected orders.')]
            success_print_all: TODO
            failed_print_all: //li[normalize-space(@class)='error-msg' and contains(.//span,'There are no printable documents related to selected orders.')]
            
            
            
            
            

# 'New Order' page
new_order_for_new_customer:
    mca: sales_order_create/
    title: New Order / Orders / Sales / Magento Admin
    uimap:
        form: &newOrderForm
            fieldsets:
                -
                    sales_order_create_customer_grid: &sales_order_create_customer_grid
                        xpath: //div[@id='order-customer-selector']/div[@class='entry-edit']
                        fields:
                            filter_id: //input[@id='filter_entity_id']
                            filter_name: //input[@id='filter_name']
                            filter_email: //input[@id='filter_email']
                            filter_phone: //input[@id='filter_Telephone']
                            filter_zip_code: //input[@id='filter_billing_postcode']
                            filter_state: //input[@id='filter_billing_regione']
                            filter_store_name: //input[@id='filter_store_name']
                        buttons:
                            create_new_customer: //button[span='Create New Customer']
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                        dropdowns:
                            country: //select[@id='filter_billing_country_id']
                -
                    order_store_selector: &order_store_selector
                        xpath: //div[@id='order-store-selector']
                        radiobuttons:
                            choose_main_store: //label[contains(text(), '%storeName%')]/ancestor::span//input[@class='radio']
                -  
                    select_products_to_add: &select_products_to_add
                        xpath: //div[div/h4[contains(text(),'Please Select Products to Add')]]
                        buttons:
                            add_selected_products_to_order: //button[span[contains(text(),'Add Selected Product(s) to Order')]]
                            reset_filter: //button[span[contains(text(),'Reset Filter')]]
                            search: //button[span[contains(text(),'Search')]]
                        fields:
                            qty_to_add: //input[@class='input-text qty']
                            filter_id: //input[@id='filter_entity_id']
                            filter_name: //input[@id='filter_name']
                            filter_sku: //input[@id='filter_sku']
                            filter_price_from: //input[@id='filter_price_from']
                            filter_price_to: //input[@id='filter_price_to']
                        dropdowns:
                            select_product: //select[@id='filter_in_products']
                        link: 
                            configure: //a[text()= 'Configure']                
                -
                    order_items_ordered: &order_items_ordered
                        xpath: //div[@id='order-items']
                        buttons:
                            add_products: //button[span='Add Products']
                            configure: //button[span='Configure']
                            update_items_and_quantity: //button[span[contains(text(),'Update Items and Qty')]]
                          
                        checkboxes:
                            custom_price: //div[input[@type='checkbox'] and label[text()='Custom Price*']]/input
                            apply: //td[input[@type='checkbox'] and label[text()='Apply']]/input
                        
                        fields:
                            qty: //input[@class='input-text item-qty']
                            custom_price: //input[@class='input-text item-price']
                        dropdowns:
                            action: //select[@name[contains(., 'action')]]
                        links:
                            gift_options: //a[contains(text(),'Gift Options')]
                -
                    order_apply_coupon_code: &order_apply_coupon_code
                        xpath: //div[@id='order-coupons']
                        fields:
                            coupon_code: //input[@id='coupons:code']
                        buttons:
                            apply: //button[span='Apply']
                    
                    order_account_information: &order_account_information
                        xpath: //div[@id='order-form_account']
                        dropdowns:
                            customer_group: //select[@id='group_id']
                        fields:
                            email: //input[@id='email']
                -
                    order_billing_address: &order_billing_address
                        xpath: //div[@id='order-billing_address']
                        dropdowns:
                            order_billing_address_choice: //select[@id='order-billing_address_customer_address_id']
                            order_country: //select[@id='order-billing_address_country_id']
                            order_state_province: //select[@id='order-billing_address_region_id']
                        fields:
                            order_prefix: //input[@id='order-billing_address_prefix']
                            order_first_name: //input[@id='order-billing_address_firstname']
                            order_middle_name: //input[@id='order-billing_address_middlename']
                            order_last_name: //input[@id='order-billing_address_lastname']
                            order_suffix: //input[@id='order-billing_address_suffix']
                            order_company: //input[@id='order-billing_address_company']
                            order_street_address_first_line: //input[@id='order-billing_address_street0']
                            order_street_address_second_line: //input[@id='order-billing_address_street1']
                            order_city: //input[@id='order-billing_address_city']
                            order_state_province: //input[@id='order-billing_address_region']
                            order_zip_postal_code: //input[@id='order-billing_address_postcode']
                            order_phone: //input[@id='order-billing_address_telephone']
                            order_fax: //input[@id='order-billing_address_fax']
                        required: [order_first_name, order_last_name, order_street_address_first_line, order_city, order_zip_postal_code, order_phone, order_country]
                        checkboxes:
                            order_save_in_address_book: //div[@class='order-save-in-address-book']/input[@type='checkbox']
                -  
                    order_shipping_address: &order_shipping_address
                        xpath: //div[@id='order-shipping_address']
                        dropdowns:
                            shipping_shipping_address_choice: //select[@id='order-shipping_address_customer_address_id']
                            shipping_country: //select[@id='order-shipping_address_country_id']
                            shipping_state_province: //select[@id='order-shipping_address_region_id']
                        fields:
                            shipping_prefix: //input[@id='order-shipping_address_prefix']
                            shipping_first_name: //input[@id='order-shipping_address_firstname']
                            shipping_middle_name: //input[@id='order-shipping_address_middlename']
                            shipping_last_name: //input[@id='order-shipping_address_lastname']
                            shipping_suffix: //input[@id='order-shipping_address_suffix']
                            shipping_company: //input[@id='order-shipping_address_company']
                            shipping_street_address_first_line: //input[@id='order-shipping_address_street0']
                            shipping_street_address_second_line: //input[@id='order-shipping_address_street1']
                            shipping_city: //input[@id='order-shipping_address_city']
                            shipping_state_province: //input[@id='order-shipping_address_region']
                            shipping_zip_postal_code: //input[@id='order-shipping_address_postcode']
                            shipping_phone: //input[@id='order-shipping_address_telephone']
                            shipping_fax: //input[@id='order-shipping_address_fax']
                        checkboxes:
                            shipping_same_as_billing_address: //div[@id='order-shipping_address_choice']/input[@type='checkbox']
                            shipping_save_in_address_book: //div[@class='order-save-in-address-book']/input[@type='checkbox']
                -  
                    order_payment_method: &order_payment_method #TODO - add more methods
                        xpath: //div[@id='order-billing_method']
                        radiobuttons:
                            check_money_order: //input[@type='radio' and @id='p_method_checkmo']
                            credit_card: //input[@type='radio' and @id='p_method_ccsave']
                        fields:
                            name_on_card: //div[@class='input-box']/input[@name='payment[cc_owner]']
                            credit_card_number: //div[@class='input-box']/input[@name='payment[cc_number]']
                            cvv: //div[@class='input-box']/input[@name='payment[cc_cid]']
                            credit_card_type: //select[@name='payment[cc_type]'] #TODO - remove from fields
                            expiration_date_month: //select[@name='payment[cc_exp_month]'] #TODO - remove from fields
                            expiration_date_year: //select[@name='payment[cc_exp_year]'] #TODO - remove from fields
                        dropdowns:
                            credit_card_type: //select[@name='payment[cc_type]']
                            expiration_date_month: //select[@name='payment[cc_exp_month]']
                            expiration_date_year: //select[@name='payment[cc_exp_year]']
                -  
                    order_history: &order_history
                        xpath: //div[div/h4[contains(text(),'Order History')]]
                        fields:
                            order_comments: //textarea[@id='order-comment']
                -  
                    shipping_method: &shipping_method #TODO - add more methods
                        xpath: //div[@id='order-shipping_method']
                        links:
                            get_shipping_methods_and_rates: //a[contains(text(),'Get shipping methods and rates')]
                        radiobuttons:
                            ship_radio1: //dl[@class='shipment-methods']//li[1]/input
                -  
                    order_totals: &order_totals
                        xpath: //div[div/h4[contains(text(),'Order Totals')]]
                        buttons:
                            submit_order: //button[span[contains(text(),'Submit Order')]]
                        checkboxes:
                            append_comments: //input[@name='order[comment][customer_note_notify]']
                            email_order_confirmation: //input[@name='order[send_confirmation]']

                -    
                    product_composite_configure_form: &product_composite_configure_form #TODO - redo
                        xpath: //div[div/h4[contains(text(),'Configure Product')]]
                        dropdowns:
                            case: //div[@class='product-options']//dd[position()='1']//select
                            cpu: //div[@class='product-options']//dd[position()='2']//select
                        radiobuttons: 
                            hd_radio: //input[@type='radio']/../span/label[contains(text(),'%option1%')]/../../input[@type='radio']
                            ram_radio: //input[@type='radio']/../span/label[contains(text(),'%option2%')]/../../input[@type='radio']
                        checkboxes:  
                            mon_check: //input[@type='checkbox']/../span/label[contains(text(),'%option3%')]/../../input[@type='checkbox']
                        fields:
                            products_quantity: //input[@id='product_composite_configure_input_qty']
                        buttons:
                            ok: //button[span[contains(text(),'OK')]]
                            cancel: //button[span[contains(text(),'Cancel')]]
                -      
        buttons:
            back: //button[span='Back']
            cancel: //button[span='Cancel']
          
        messages:
            customer_email_already_exists: //li[normalize-space(@class)='error-msg' and contains(.//span,'This customer email already exists.')]
            email_is_not_valid_hostname: //li[normalize-space(@class)='error-msg' and contains(.//span,'"Email" is not a valid hostname.')]
            email_exceeds_allowed_length: //li[normalize-space(@class)='error-msg' and contains(.//span,'"Email" exceeds the allowed length.')]
            empty_required_field: "%fieldXpath%/following-sibling::*[text()='This is a required field.' and not(contains(@style,'display: none;'))]"
            card_type_doesnt_match: "%fieldXpath%/following-sibling::*[text()='Card type does not match credit card number.' and not(contains(@style,'display: none;'))]"
            invalid_card_number: "%fieldXpath%/following-sibling::*[text()='Please enter a valid credit card number.' and not(contains(@style,'display: none;'))]"
            invalid_cvv: "%fieldXpath%/following-sibling::*[text()='Please enter a valid credit card verification number.' and not(contains(@style,'display: none;'))]"
            invalid_exp_date: "%fieldXpath%/following-sibling::*[text()='Incorrect credit card expiration date.' and not(contains(@style,'display: none;'))]"


new_order_for_existing_customer:
    mca: sales_order_create/index/customer_id/%id%/
    title: New Order / Orders / Sales / Magento Admin
    uimap:
        form: &newOrderForm
            fieldsets:
                -
                    sales_order_create_customer_grid: *sales_order_create_customer_grid
                -        
                    order_store_selector: *order_store_selector
                -
                    order_sidebar: 
                        xpath: //div[@id='order-sidebar']
                        buttons:
                            update_changes_top: //button[span='Update Changes']
                -      
                    sidebar_shopping_cart:
                        xpath: //div[@id='sidebar_data_cart']
                        links:
                            refresh: //a[@title='Refresh']
                -
                    sidebar_shopping_wishlist:
                        xpath: //div[@id='sidebar_data_wishlist']
                        links:
                            refresh: //a[@title='Refresh']
                - 
                    sidebar_last_ordered_items:
                        xpath: //div[@id='sidebar_data_reorder']
                        links:
                            refresh: //a[@title='Refresh']
                -
                    sidebar_products_in_comparison_list:
                        xpath: //div[@id='order-sidebar_compared']
                        links:
                            refresh: //a[@title='Refresh']                        
                - 
                    sidebar_recently_compared_products:
                        xpath: //div[@id='sidebar_data_pcompared']
                        links:
                            refresh: //a[@title='Refresh']   
                - 
                    sidebar_recently_viewed_products:
                        xpath: //div[@id='sidebar_data_pviewed']
                        links:
                            refresh: //a[@title='Refresh']     
                - 
                    order_items_ordered: *order_items_ordered
                        
                -
                    order_apply_coupon_code: *order_apply_coupon_code
                
                -   
                    order_account_information: *order_account_information
                        
                -
                    order_billing_address: *order_billing_address
                -  
                    order_shipping_address: *order_shipping_address
                        
                -  
                    order_payment_method: *order_payment_method #TODO - add more methods
                -  
                    order_history: *order_history
                -  
                    shipping_method: *shipping_method #TODO - add more methods
                -  
                    order_totals: *order_totals
                -  
                    select_products_to_add: *select_products_to_add
                -    
                    product_composite_configure_form: *product_composite_configure_form #TODO - redo
                        
                -
        buttons:
            back: //button[span='Back']
            cancel: //button[span='Cancel']
          
        messages:
            customer_email_already_exists: //li[normalize-space(@class)='error-msg' and contains(.//span,'This customer email already exists.')]
            email_is_not_valid_hostname: //li[normalize-space(@class)='error-msg' and contains(.//span,'"Email" is not a valid hostname.')]
            email_exceeds_allowed_length: //li[normalize-space(@class)='error-msg' and contains(.//span,'"Email" exceeds the allowed length.')]
            empty_required_field: "%fieldXpath%/following-sibling::*[text()='This is a required field.' and not(contains(@style,'display: none;'))]"
            card_type_doesnt_match: "%fieldXpath%/following-sibling::*[text()='Card type does not match credit card number.' and not(contains(@style,'display: none;'))]"
            invalid_card_number: "%fieldXpath%/following-sibling::*[text()='Please enter a valid credit card number.' and not(contains(@style,'display: none;'))]"
            invalid_cvv: "%fieldXpath%/following-sibling::*[text()='Please enter a valid credit card verification number.' and not(contains(@style,'display: none;'))]"
            invalid_exp_date: "%fieldXpath%/following-sibling::*[text()='Incorrect credit card expiration date.' and not(contains(@style,'display: none;'))]"

          
sales_orders_view:
    mca: sales_order/view/order_id/%id%/
    title: %order_id% / Orders / Sales / Magento Admin
    uimap:
        form: &orderView
            tabs:
                -
                    information: 
                        xpath: //a[@name='order_info']
                        fieldsets:
                            -
                                order_information: 
                                    xpath: //div[@class='entry-edit'][./div/h4[contains(.,'Order #')]]
                            -  
                                account_information: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Account Information']
                            -  
                                billing_address: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Billing Address']
                            -  
                                shipping_address: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Shipping Address']
                            -  
                                payment_information: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Payment Information']
                            -  
                                shipping_and_handling_information: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Shipping & Handling Information']
                            -  
                                items_ordered: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Items Ordered']/../../../div[@class='grid np']
                            -  
                                comments_history: 
                                    xpath: //div[@class='entry-edit'][./div/h4='Comments History']
                                    fields: 
                                        comment: //textarea[@name='history[comment]']
                                    dropdowns:
                                        status: //select[@name='history[status]']
                                    checkboxes:
                                        notify_customer_by_email: //input[@type='checkbox' and @name='history[is_customer_notified]']
                                        visible_on_frontend: //input[@type='checkbox' and @name='history[is_visible_on_front]']
                                    buttons:
                                        submit_comment: //button[span='Submit Comment']
                            -  
                                order_totals: 
                                    xpath: //div[@class='order-totals']
                            -
                -        
                    invoices:  
                        xpath: //a[@name='order_invoices']
                        fieldsets:
                            -
                                sales_order_view: 
                                    xpath: //div[@id='sales_order_view']
                                    buttons: 
                                        search: //button[span='Search']
                                        reset_filter: //button[span='Reset Filter']
                                    fields:
                                        filter_invoice_number: //input[@id='filter_increment_id']
                                        filter_billing_name: //input[@id='filter_billing_name']
                                        filter_created_at_from: //input[@name='created_at[from]']
                                        filter_created_at_to: //input[@name='created_at[to]']
                                        filter_amount_from: //input[@id='filter_base_grand_total_from']
                                        filter_amount_to: //input[@id='filter_base_grand_total_to']
                                    dropdowns:
                                        filter_status: //select[@id='filter_state']
                -          
                    credit_memos:
                        xpath: //a[@name='order_creditmemos']
                        fieldsets:
                            -
                                sales_order_view: 
                                    xpath: //div[@id='sales_order_view']
                                    buttons: 
                                        search: //button[span='Search']
                                        reset_filter: //button[span='Reset Filter']
                                    fields:
                                        filter_credit_memo_number: //input[@id='filter_increment_id']
                                        filter_billing_name: //input[@id='filter_billing_name']
                                        filter_created_at_from: //input[@name='created_at[from]']
                                        filter_created_at_to: //input[@name='created_at[to]']
                                        filter_amount_from: //input[@id='filter_base_grand_total_from']
                                        filter_amount_to: //input[@id='filter_base_grand_total_to']
                                    dropdowns:
                                        filter_status: //select[@id='filter_state']
                -          
                    shipments:
                        xpath: //a[@name='order_shipments']
                        fieldsets:
                            -
                                sales_order_view: 
                                    xpath: //div[@id='sales_order_view']
                                    buttons: 
                                        search: //button[span='Search']
                                        reset_filter: //button[span='Reset Filter']
                                    fields:
                                        filter_shipment_number: //input[@id='filter_increment_id']
                                        filter_shipping_name: //input[@id='filter_shipping_name']
                                        filter_created_at_from: //input[@name='created_at[from]']
                                        filter_created_at_to: //input[@name='created_at[to]']
                                        filter_total_qty_from: //input[@id='filter_total_qty_from']
                                        filter_total_qty_to: //input[@id='filter_total_qty_to']
                -  
                    comments_history:
                        xpath: //a[@name='order_history']
                        fieldsets:
                            order_history_content: //div[@id='sales_order_view_tabs_order_history_content']
                -        
                    transactions_history:
                        xpath: //a[@name='order_transactions']
                        fieldsets:
                            -
                                sales_order_view:
                                    xpath: //div[@id='sales_order_view']
                                    buttons:
                                        search: //button[span='Search']
                                        reset_filter: //button[span='Reset Filter']
                                    fields:
                                        filter_transaction_id_from: //input[@id='filter_transaction_id_from']
                                        filter_transaction_id_to: //input[@id='filter_transaction_id_to']
                                        filter_order_id: //input[@id='filter_increment_id']
                                        filter_transaction_id: //input[@id='filter_txn_id']
                                        filter_parent_transaction_id: //input[@id='filter_parent_txn_id']
                                        filter_created_at_from: //input[@name='created_at[from]']
                                        filter_created_at_to: //input[@name='created_at[to]']
                                    dropdowns:
                                        filter_payment_method_name: //select[@id='filter_method']
                                        filter_transaction_type: //select[@id='filter_txn_type']
                                        filter_is_closed: //select[@id='filter_is_closed']
                -         
      
        buttons:
            back: //p[@class='form-buttons']//button[span='Back']
            edit: //p[@class='form-buttons']//button[span='Edit']
            cancel: //p[@class='form-buttons']//button[span='Cancel']
            send_email: //p[@class='form-buttons']//button[span='Send Email']
            hold: //p[@class='form-buttons']//button[span='Hold']
            credit_memo: //p[@class='form-buttons']//button[span='Credit Memo']
            invoice: //p[@class='form-buttons']//button[span='Invoice']
            ship: //p[@class='form-buttons']//button[span='Ship']
            reorder: //p[@class='form-buttons']//button[span='Reorder']
        messages:
            confirmation_for_cancel: Are you sure you want to cancel this order?
        
        
sales_order_invoice:
    mca: sales_order_invoice/new/order_id/%id%/
    title: New invoice / Invoices / Sales / Magento Admin
    uimap:
        form: &orderInvoice
            fieldsets:
                -
                    order_number:
                        xpath: //div[@class='entry-edit'][./div/a[contains(.,'Order #')]]
                -
                    account_information: 
                        xpath: //div[@class='entry-edit'][./div/h4='Account Information']
                - 
                    billing_address: 
                        xpath: //div[@class='entry-edit'][./div/h4='Billing Address']
                - 
                    shipping_address:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Address']
                - 
                    payment_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Payment Information']
                -
                    shipping_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Information']
                -    
                    items_to_invoice:
                        xpath: //div[@class='entry-edit'][./div/h4='Items Invoiced']
                        fields:
                            qty_to_invoice: //input[@name[contains(., 'invoice[items]')]]
                        buttons:
                            update_qty: //button[span[contains(.,'Update Qty')]]
                -
                    invoice_history:
                        xpath: //div[@class='box-left entry-edit'][./div/h4='Invoice History']
                        fields:
                            invoice_comments: //textarea[@name='invoice[comment_text]']
                -
                    invoice_totals:
                        xpath: //div[@class='box-right entry-edit'][./div/h4='Invoice Totals']
                        buttons:
                            submit_invoice: //button[span='Submit Invoice']
                        checkboxes:
                            append_comments: //input[@type='checkbox' and @name='invoice[comment_customer_notify]']
                            email_copy_of_invoice: //input[@type='checkbox' and @name='invoice[send_email]']
                -
        buttons: 
            back: //p[@class='form-buttons']//button[span='Back']
            reset: //p[@class='form-buttons']//button[span='Reset']
      
             
sales_order_shipment:
    mca: sales_order_shipment/new/order_id/%id%/
    title: New shipment / Shipments / Sales / Magento Admin
    uimap:
        form: &orderShipment
            fieldsets:
                -
                    order_number:
                        xpath: //div[@class='entry-edit'][./div/a[contains(.,'Order #')]]
                -
                    account_information: 
                        xpath: //div[@class='entry-edit'][./div/h4='Account Information']
                -
                    billing_address: 
                        xpath: //div[@class='entry-edit'][./div/h4='Billing Address']
                -    
                    shipping_address:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Address']
                -    
                    payment_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Payment Information']
                -    
                    shipping_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Information']
                        buttons:
                            add_tracking_number: //button[span='Add Tracking Number']
                        dropdowns:
                            carrier: //select[@class='select carrier']
                        fields:
                            title: //input[@class='input-text number-title']
                            number: //input[@class='input-text required-entry']
                        links:
                            action: //a[text()='Delete']
                -    
                    items_to_ship:
                        xpath: //div[@class='entry-edit'][./div/h4='Items to Ship']/../div/div[@class='grid np']
                        fields:
                            qty_to_ship: //input[@name[contains(.,'shipment[items]')]]
                -    
                    shipment_comments:
                        xpath: //div[@class='box-left entry-edit'][./div/h4='Shipment Comments']
                        fields:
                            shipment_comments: //textarea[@name='shipment[comment_text]']
                    
                -    
                    shipment_totals:
                        xpath: //div[@class='box-right entry-edit']
                        buttons:
                            submit_shipment: //button[span='Submit Shipment']
                        checkboxes:
                            append_comments: //input[@type='checkbox' and @name='shipment[comment_customer_notify]']
                            email_copy_of_shipment: //input[@type='checkbox' and @name='shipment[send_email]']
                -

        buttons: 
            back: //p[@class='form-buttons']//button[span='Back']
            reset: //p[@class='form-buttons']//button[span='Reset']

sales_order_creditmemo: 
    mca: sales_order_creditmemo/new/order_id/%id%/
    title: New Memo / Credit Memos / Sales / Magento Admin
    uimap:
        form: &orderShipment
            fieldsets:
                -
                    order_number:
                        xpath: //div[@class='entry-edit'][./div/a[contains(.,'Order #')]]
                -    
                    account_information: 
                        xpath: //div[@class='entry-edit'][./div/h4='Account Information']
                - 
                    billing_address: 
                        xpath: //div[@class='entry-edit'][./div/h4='Billing Address']
                - 
                    shipping_address:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Address']
                - 
                    payment_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Payment Information']
                - 
                    shipping_information:
                        xpath: //div[@class='entry-edit'][./div/h4='Shipping Information']
                - 
                    items_to_refund:
                        xpath: //div[@class='entry-edit'][./div/h4='Items to Refund']/../div/div[@class='grid np']
                        checkboxes:
                            return_to_stock: //input[@type='checkbox' and @name[contains(.,'[back_to_stock]')]]
                        fields:
                            qty_to_refund: //input[@type='text' and @name[contains(.,'[qty]')]]
                        buttons:
                            update_qty: //button[span[contains(.,'Update Qty')]]
                - 
                    credit_memo_comments:
                        xpath: //div[@class='box-left entry-edit'][./div/h4='Credit Memo Comments']
                        fields:
                            credit_memo_comments: //textarea[@name='creditmemo[comment_text]']
                - 
                    refund_totals:
                        xpath: //div[@class='box-right entry-edit'][./div/h4='Refund Totals']
                        buttons:
                            refund_offline: //button[span='Refund Offline']
                        fields:
                            refund_shipping: //input[@name='creditmemo[shipping_amount]']
                            adjustment_refund: //input[@name='creditmemo[adjustment_positive]']
                            adjustment_fee: //input[@name='creditmemo[adjustment_negative]']
                        checkboxes:
                            append_comments: //input[@type='checkbox' and @name='creditmemo[comment_customer_notify]']
                            email_copy_of_credit_memo: //input[@type='checkbox' and @name='creditmemo[send_email]']
                -
        buttons: 
            back: //p[@class='form-buttons']//button[span='Back']
            reset: //p[@class='form-buttons']//button[span='Reset']
            