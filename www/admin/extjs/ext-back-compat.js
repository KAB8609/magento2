/*
 * Ext JS Library 1.0
 * Copyright(c) 2006-2007, Ext JS, LLC.
 * licensing@extjs.com
 * 
 * http://www.extjs.com/license
 */


YAHOO.ext=Ext;YAHOO.extendX=Ext.extend;YAHOO.namespaceX=Ext.namespace;Ext.Strict=Ext.isStrict;Ext.util.Config={};Ext.util.Config.apply=Ext.apply;Ext.util.Browser=Ext;YAHOO.override=Ext.override;YAHOO.util.CustomEvent.prototype.fireDirect=function(){var len=this.subscribers.length;for(var i=0;i<len;++i){var s=this.subscribers[i];if(s){var scope=(s.override)?s.obj:this.scope;if(s.fn.apply(scope,arguments)===false){return false;}}}
return true;};Ext.apply(Ext.util.Observable.prototype,{delayedListener:function(eventName,fn,scope,delay){return this.addListener(eventName,fn,{scope:scope,delay:delay||10});},bufferedListener:function(eventName,fn,scope,millis){return this.addListener(eventName,fn,{scope:scope,buffer:millis||250});}});Ext.apply(Ext.Element.prototype,{getChildrenByTagName:function(tagName){var children=this.dom.getElementsByTagName(tagName);var len=children.length;var ce=new Array(len);for(var i=0;i<len;++i){ce[i]=El.get(children[i],true);}
return ce;},getChildrenByClassName:function(className,tagName){var children=D.getElementsByClassName(className,tagName,this.dom);var len=children.length;var ce=new Array(len);for(var i=0;i<len;++i){ce[i]=El.get(children[i],true);}
return ce;},setAbsolutePositioned:function(zIndex){this.setStyle("position","absolute");if(zIndex){this.setStyle("z-index",zIndex);}
return this;},setRelativePositioned:function(zIndex){this.setStyle("position","relative");if(zIndex){this.setStyle("z-index",zIndex);}
return this;},bufferedListener:function(eventName,fn,scope,millis){return this.on(eventName,fn,scope||this,{buffer:millis||250});},addHandler:function(eventName,stopPropagation,handler,scope,override){return this.on(eventName,fn,scope||this,{stopPropagation:stopPropagation,preventDefault:true});},addManagedListener:function(eventName,fn,scope,override){return Ext.EventManager.on(this.dom,eventName,fn,scope||this);}});Ext.EventObject.findTarget=function(className,tagName){if(tagName)tagName=tagName.toLowerCase();if(this.browserEvent){function isMatch(el){if(!el){return false;}
if(className&&!D.hasClass(el,className)){return false;}
return!(tagName&&el.tagName.toLowerCase()!=tagName);};var t=this.getTarget();if(!t||isMatch(t)){return t;}
var p=t.parentNode;var b=document.body;while(p&&p!=b){if(isMatch(p)){return p;}
p=p.parentNode;}}
return null;};

Ext.Actor=function(element,animator,selfCapture){this.el=Ext.get(element);Ext.Actor.superclass.constructor.call(this,this.el.dom,true);this.onCapture=new Ext.util.Event();if(animator){animator.addActor(this);}
this.capturing=selfCapture;this.playlist=selfCapture?new Ext.Animator.AnimSequence():null;};(function(){var qa=function(method,animParam,onParam){return function(){if(!this.capturing){return method.apply(this,arguments);}
var args=Array.prototype.slice.call(arguments,0);if(args[animParam]===true){return this.capture(new Ext.Actor.AsyncAction(this,method,args,onParam));}else{return this.capture(new Ext.Actor.Action(this,method,args));}};};var q=function(method){return function(){if(!this.capturing){return method.apply(this,arguments);}
var args=Array.prototype.slice.call(arguments,0);return this.capture(new Ext.Actor.Action(this,method,args));};};var spr=Ext.Element.prototype;Ext.extend(Ext.Actor,Ext.Element,{capture:function(action){if(this.playlist!=null){this.playlist.add(action);}
this.onCapture.fire(this,action);return this;},setVisibilityMode:q(spr.setVisibilityMode),enableDisplayMode:q(spr.enableDisplayMode),focus:q(spr.focus),addClass:q(spr.addClass),removeClass:q(spr.removeClass),replaceClass:q(spr.replaceClass),setStyle:q(spr.setStyle),setLeft:q(spr.setLeft),setTop:q(spr.setTop),clearPositioning:q(spr.clearPositioning),setPositioning:q(spr.setPositioning),clip:q(spr.clip),unclip:q(spr.unclip),clearOpacity:q(spr.clearOpacity),update:q(spr.update),remove:q(spr.remove),fitToParent:q(spr.fitToParent),appendChild:q(spr.appendChild),createChild:q(spr.createChild),appendTo:q(spr.appendTo),insertBefore:q(spr.insertBefore),insertAfter:q(spr.insertAfter),wrap:q(spr.wrap),replace:q(spr.replace),insertHtml:q(spr.insertHtml),set:q(spr.set),setVisible:qa(spr.setVisible,1,3),toggle:qa(spr.toggle,0,2),setXY:qa(spr.setXY,1,3),setLocation:qa(spr.setLocation,2,4),setWidth:qa(spr.setWidth,1,3),setHeight:qa(spr.setHeight,1,3),setSize:qa(spr.setSize,2,4),setBounds:qa(spr.setBounds,4,6),setOpacity:qa(spr.setOpacity,1,3),moveTo:qa(spr.moveTo,2,4),move:qa(spr.move,2,4),alignTo:qa(spr.alignTo,3,5),hide:qa(spr.hide,0,2),show:qa(spr.show,0,2),setBox:qa(spr.setBox,2,4),autoHeight:qa(spr.autoHeight,0,2),setX:qa(spr.setX,1,3),setY:qa(spr.setY,1,3),load:function(){if(!this.capturing){return spr.load.apply(this,arguments);}
var args=Array.prototype.slice.call(arguments,0);return this.capture(new Ext.Actor.AsyncAction(this,spr.load,args,2));},animate:function(args,duration,onComplete,easing,animType){if(!this.capturing){return spr.animate.apply(this,arguments);}
return this.capture(new Ext.Actor.AsyncAction(this,spr.animate,[args,duration,onComplete,easing,animType],2));},startCapture:function(){this.capturing=true;this.playlist=new Ext.Animator.AnimSequence();},stopCapture:function(){this.capturing=false;},clear:function(){this.playlist=new Ext.Animator.AnimSequence();},play:function(oncomplete){this.capturing=false;if(this.playlist){this.playlist.play(oncomplete);}},stop:function(){if(this.playlist.isPlaying()){this.playlist.stop();}},isPlaying:function(){return this.playlist.isPlaying();},addCall:function(fcn,args,scope){if(!this.capturing){fcn.apply(scope||this,args||[]);}else{this.capture(new Ext.Actor.Action(scope,fcn,args||[]));}},addAsyncCall:function(fcn,callbackIndex,args,scope){if(!this.capturing){fcn.apply(scope||this,args||[]);}else{this.capture(new Ext.Actor.AsyncAction(scope,fcn,args||[],callbackIndex));}},pause:function(seconds){this.capture(new Ext.Actor.PauseAction(seconds));},shake:function(){this.move("left",20,true,.05);this.move("right",40,true,.05);this.move("left",40,true,.05);this.move("right",20,true,.05);},bounce:function(){this.move("up",20,true,.05);this.move("down",40,true,.05);this.move("up",40,true,.05);this.move("down",20,true,.05);},blindShow:function(anchor,newSize,duration,easing){var size=this.getSize();this.clip();anchor=anchor.toLowerCase();switch(anchor){case"t":case"top":this.setHeight(1);this.setVisible(true);this.setHeight(newSize||size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;case"l":case"left":this.setWidth(1);this.setVisible(true);this.setWidth(newSize||size.width,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;}
this.unclip();return size;},blindHide:function(anchor,duration,easing){var size=this.getSize();this.clip();anchor=anchor.toLowerCase();switch(anchor){case"t":case"top":this.setSize(size.width,1,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;case"l":case"left":this.setSize(1,size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;case"r":case"right":this.animate({width:{to:1},points:{by:[size.width,0]}},duration||.5,null,YAHOO.util.Easing.easeIn,YAHOO.util.Motion);this.setVisible(false);break;case"b":case"bottom":this.animate({height:{to:1},points:{by:[0,size.height]}},duration||.5,null,YAHOO.util.Easing.easeIn,YAHOO.util.Motion);this.setVisible(false);break;}
return size;},slideShow:function(anchor,newSize,duration,easing,clearPositioning){var size=this.getSize();this.clip();var firstChild=this.dom.firstChild;if(!firstChild||(firstChild.nodeName&&"#TEXT"==firstChild.nodeName.toUpperCase())){this.blindShow(anchor,newSize,duration,easing);return;}
var child=Ext.get(firstChild,true);var pos=child.getPositioning();this.addCall(child.position,["absolute"],child);this.setVisible(true);anchor=anchor.toLowerCase();switch(anchor){case"t":case"top":this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["top",""],child);this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["bottom","0px"],child);this.setHeight(1);this.setHeight(newSize||size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;case"l":case"left":this.addCall(child.setStyle,["left",""],child);this.addCall(child.setStyle,["bottom",""],child);this.addCall(child.setStyle,["right","0px"],child);this.addCall(child.setStyle,["top","0px"],child);this.setWidth(1);this.setWidth(newSize||size.width,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;case"r":case"right":this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["top","0px"],child);this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["bottom",""],child);this.setWidth(1);this.setWidth(newSize||size.width,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;case"b":case"bottom":this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["top","0px"],child);this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["bottom",""],child);this.setHeight(1);this.setHeight(newSize||size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeOut);break;}
if(clearPositioning!==false){this.addCall(child.setPositioning,[pos],child);}
this.unclip();return size;},slideHide:function(anchor,duration,easing){var size=this.getSize();this.clip();var firstChild=this.dom.firstChild;if(!firstChild||(firstChild.nodeName&&"#TEXT"==firstChild.nodeName.toUpperCase())){this.blindHide(anchor,duration,easing);return;}
var child=Ext.get(firstChild,true);var pos=child.getPositioning();this.addCall(child.position,["absolute"],child);anchor=anchor.toLowerCase();switch(anchor){case"t":case"top":this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["top",""],child);this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["bottom","0px"],child);this.setSize(size.width,1,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;case"l":case"left":this.addCall(child.setStyle,["left",""],child);this.addCall(child.setStyle,["bottom",""],child);this.addCall(child.setStyle,["right","0px"],child);this.addCall(child.setStyle,["top","0px"],child);this.setSize(1,size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;case"r":case"right":this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["bottom",""],child);this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["top","0px"],child);this.setSize(1,size.height,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;case"b":case"bottom":this.addCall(child.setStyle,["right",""],child);this.addCall(child.setStyle,["top","0px"],child);this.addCall(child.setStyle,["left","0px"],child);this.addCall(child.setStyle,["bottom",""],child);this.setSize(size.width,1,true,duration||.5,null,easing||YAHOO.util.Easing.easeIn);this.setVisible(false);break;}
this.addCall(child.setPositioning,[pos],child);return size;},squish:function(duration){var size=this.getSize();this.clip();this.setSize(1,1,true,duration||.5);this.setVisible(false);return size;},appear:function(duration){this.setVisible(true,true,duration);return this;},fade:function(duration){this.setVisible(false,true,duration);return this;},switchOff:function(duration){this.clip();this.setOpacity(0.3,true,0.1);this.clearOpacity();this.setVisible(true);this.pause(0.1);this.animate({height:{to:1},points:{by:[0,this.getHeight()/2]}},duration||0.3,null,YAHOO.util.Easing.easeIn,YAHOO.util.Motion);this.setVisible(false);return this;},pulsate:function(count,duration){count=count||3;for(var i=0;i<count;i++){this.toggle(true,duration||.25);this.toggle(true,duration||.25);}
return this;},dropOut:function(duration){this.animate({opacity:{to:0},points:{by:[0,this.getHeight()]}},duration||.5,null,YAHOO.util.Easing.easeIn,YAHOO.util.Motion);this.setVisible(false);return this;},moveOut:function(anchor,duration,easing){var Y=YAHOO.util;var vw=Y.Dom.getViewportWidth();var vh=Y.Dom.getViewportHeight();var cpoints=this.getCenterXY();var centerX=cpoints[0];var centerY=cpoints[1];anchor=anchor.toLowerCase();var p;switch(anchor){case"t":case"top":p=[centerX,-this.getHeight()];break;case"l":case"left":p=[-this.getWidth(),centerY];break;case"r":case"right":p=[vw+this.getWidth(),centerY];break;case"b":case"bottom":p=[centerX,vh+this.getHeight()];break;case"tl":case"top-left":p=[-this.getWidth(),-this.getHeight()];break;case"bl":case"bottom-left":p=[-this.getWidth(),vh+this.getHeight()];break;case"br":case"bottom-right":p=[vw+this.getWidth(),vh+this.getHeight()];break;case"tr":case"top-right":p=[vw+this.getWidth(),-this.getHeight()];break;}
this.moveTo(p[0],p[1],true,duration||.35,null,easing||Y.Easing.easeIn);this.setVisible(false);return this;},moveIn:function(anchor,to,duration,easing){to=to||this.getCenterXY();this.moveOut(anchor,.01);this.setVisible(true);this.setXY(to,true,duration||.35,null,easing||YAHOO.util.Easing.easeOut);return this;},frame:function(color,count,duration){color=color||"red";count=count||3;duration=duration||.5;var frameFn=function(callback){var box=this.getBox();var animFn=function(){var proxy=this.createProxy({tag:"div",style:{visbility:"hidden",position:"absolute","z-index":"35000",border:"0px solid "+color}});var scale=proxy.isBorderBox()?2:1;proxy.animate({top:{from:box.y,to:box.y-20},left:{from:box.x,to:box.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:box.height,to:(box.height+(20*scale))},width:{from:box.width,to:(box.width+(20*scale))}},duration,function(){proxy.remove();});if(--count>0){animFn.defer((duration/2)*1000,this);}else{if(typeof callback=="function"){callback();}}}
animFn.call(this);}
this.addAsyncCall(frameFn,0,null,this);return this;}});})();Ext.Actor.Action=function(actor,method,args){this.actor=actor;this.method=method;this.args=args;}
Ext.Actor.Action.prototype={play:function(onComplete){this.method.apply(this.actor||window,this.args);onComplete();}};Ext.Actor.AsyncAction=function(actor,method,args,onIndex){Ext.Actor.AsyncAction.superclass.constructor.call(this,actor,method,args);this.onIndex=onIndex;this.originalCallback=this.args[onIndex];}
Ext.extend(Ext.Actor.AsyncAction,Ext.Actor.Action,{play:function(onComplete){var callbackArg=this.originalCallback?this.originalCallback.createSequence(onComplete):onComplete;this.args[this.onIndex]=callbackArg;this.method.apply(this.actor,this.args);}});Ext.Actor.PauseAction=function(seconds){this.seconds=seconds;};Ext.Actor.PauseAction.prototype={play:function(onComplete){setTimeout(onComplete,this.seconds*1000);}};

Ext.Animator=function(){this.actors=[];this.playlist=new Ext.Animator.AnimSequence();this.captureDelegate=this.capture.createDelegate(this);this.playDelegate=this.play.createDelegate(this);this.syncing=false;this.stopping=false;this.playing=false;for(var i=0;i<arguments.length;i++){this.addActor(arguments[i]);}};Ext.Animator.prototype={capture:function(actor,action){if(this.syncing){if(!this.syncMap[actor.id]){this.syncMap[actor.id]=new Ext.Animator.AnimSequence();}
this.syncMap[actor.id].add(action);}else{this.playlist.add(action);}},addActor:function(actor){actor.onCapture.addListener(this.captureDelegate);this.actors.push(actor);},startCapture:function(clearPlaylist){for(var i=0;i<this.actors.length;i++){var a=this.actors[i];if(!this.isCapturing(a)){a.onCapture.addListener(this.captureDelegate);}
a.capturing=true;}
if(clearPlaylist){this.playlist=new Ext.Animator.AnimSequence();}},isCapturing:function(actor){return actor.onCapture.isListening(this.captureDelegate);},stopCapture:function(){for(var i=0;i<this.actors.length;i++){var a=this.actors[i];a.onCapture.removeListener(this.captureDelegate);a.capturing=false;}},beginSync:function(){this.syncing=true;this.syncMap={};},endSync:function(){this.syncing=false;var composite=new Ext.Animator.CompositeSequence();for(key in this.syncMap){if(typeof this.syncMap[key]!="function"){composite.add(this.syncMap[key]);}}
this.playlist.add(composite);this.syncMap=null;},play:function(oncomplete){if(this.playing)return;this.stopCapture();this.playlist.play(oncomplete);},stop:function(){this.playlist.stop();},isPlaying:function(){return this.playlist.isPlaying();},clear:function(){this.playlist=new Ext.Animator.AnimSequence();},addCall:function(fcn,args,scope){this.playlist.add(new Ext.Actor.Action(scope,fcn,args||[]));},addAsyncCall:function(fcn,callbackIndex,args,scope){this.playlist.add(new Ext.Actor.AsyncAction(scope,fcn,args||[],callbackIndex));},pause:function(seconds){this.playlist.add(new Ext.Actor.PauseAction(seconds));}};Ext.Animator.select=function(selector){var els;if(typeof selector=="string"){els=Ext.Element.selectorFunction(selector);}else if(selector instanceof Array){els=selector;}else{throw"Invalid selector";}
return new Ext.AnimatorComposite(els);};Ext.actors=Ext.Animator.select;Ext.AnimatorComposite=function(els){this.animator=new Ext.Animator();this.addElements(els);this.syncAnims=true;};Ext.AnimatorComposite.prototype={isComposite:true,addElements:function(els){if(!els)return this;var anim=this.animator;for(var i=0,len=els.length;i<len;i++){anim.addActor(new Ext.Actor(els[i]));}
anim.startCapture();return this;},sequence:function(){this.syncAnims=false;return this;},sync:function(){this.syncAnims=true;return this;},invoke:function(fn,args){var els=this.animator.actors;if(this.syncAnims)this.animator.beginSync();for(var i=0,len=els.length;i<len;i++){Ext.Actor.prototype[fn].apply(els[i],args);}
if(this.syncAnims)this.animator.endSync();return this;},play:function(callback){this.animator.play(callback);return this;},reset:function(callback){this.animator.startCapture(true);return this;},pause:function(seconds){this.animator.pause(seconds);return this;},getAnimator:function(){return this.animator;},each:function(fn,scope){var els=this.animator.actors;if(this.syncAnims)this.animator.beginSync();for(var i=0,len=els.length;i<len;i++){fn.call(scope||els[i],els[i],this,i);}
if(this.syncAnims)this.animator.endSync();return this;},addCall:function(fcn,args,scope){this.animator.addCall(fcn,args,scope);return this;},addAsyncCall:function(fcn,callbackIndex,args,scope){this.animator.addAsyncCall(fcn,callbackIndex,args,scope);return this;}};for(var fnName in Ext.Actor.prototype){if(typeof Ext.Actor.prototype[fnName]=="function"){Ext.CompositeElement.createCall(Ext.AnimatorComposite.prototype,fnName);}}
Ext.Animator.AnimSequence=function(){this.actions=[];this.nextDelegate=this.next.createDelegate(this);this.playDelegate=this.play.createDelegate(this);this.oncomplete=null;this.playing=false;this.stopping=false;this.actionIndex=-1;};Ext.Animator.AnimSequence.prototype={add:function(action){this.actions.push(action);},next:function(){if(this.stopping){this.playing=false;if(this.oncomplete){this.oncomplete(this,false);}
return;}
var nextAction=this.actions[++this.actionIndex];if(nextAction){nextAction.play(this.nextDelegate);}else{this.playing=false;if(this.oncomplete){this.oncomplete(this,true);}}},play:function(oncomplete){if(this.playing)return;this.oncomplete=oncomplete;this.stopping=false;this.playing=true;this.actionIndex=-1;this.next();},stop:function(){this.stopping=true;},isPlaying:function(){return this.playing;},clear:function(){this.actions=[];},addCall:function(fcn,args,scope){this.actions.push(new Ext.Actor.Action(scope,fcn,args||[]));},addAsyncCall:function(fcn,callbackIndex,args,scope){this.actions.push(new Ext.Actor.AsyncAction(scope,fcn,args||[],callbackIndex));},pause:function(seconds){this.actions.push(new Ext.Actor.PauseAction(seconds));}};Ext.Animator.CompositeSequence=function(){this.sequences=[];this.completed=0;this.trackDelegate=this.trackCompletion.createDelegate(this);};Ext.Animator.CompositeSequence.prototype={add:function(sequence){this.sequences.push(sequence);},play:function(onComplete){this.completed=0;if(this.sequences.length<1){if(onComplete)onComplete();return;}
this.onComplete=onComplete;for(var i=0;i<this.sequences.length;i++){this.sequences[i].play(this.trackDelegate);}},trackCompletion:function(){++this.completed;if(this.completed>=this.sequences.length&&this.onComplete){this.onComplete();}},stop:function(){for(var i=0;i<this.sequences.length;i++){this.sequences[i].stop();}},isPlaying:function(){for(var i=0;i<this.sequences.length;i++){if(this.sequences[i].isPlaying()){return true;}}
return false;}};
