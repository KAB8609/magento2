#
# Magento
#
# NOTICE OF LICENSE
#
# This source file is subject to the Academic Free License (AFL 3.0)
# that is bundled with this package in the file LICENSE_AFL.txt.
# It is also available through the world-wide-web at this URL:
# http://opensource.org/licenses/afl-3.0.php
# If you did not receive a copy of the license and are unable to
# obtain it through the world-wide-web, please send an email
# to license@magentocommerce.com so we can send you a copy immediately.
#
# DISCLAIMER
#
# Do not edit or add to this file if you wish to upgrade Magento to newer
# versions in the future. If you wish to customize Magento for your
# needs please refer to http://www.magentocommerce.com for more information.
#
# @category    tests
# @package     selenium
# @subpackage  uimaps
# @author      Magento Core Team <core@magentocommerce.com>
# @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
# @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
#
---
# Manage Attributes and related pages

# Manage Product Attributes page
manage_attributes:
  mca : catalog_product_attribute/index/
  title : Manage Attributes / Attributes / Catalog / Magento Admin
  uimap :
    form : &searchProductAttributeGrid
      buttons :
        add_new_attribute : button[span='Add New Attribute']
  # Messages
      messages :
        success_saved_attribute : li[normalize-space(@class)='success-msg']//span[text()='The product attribute has been saved.']

# Add New Product Attribute page
new_product_attribute:
  mca : catalog_product_attribute/new/
  title : New Attribute / Manage Attributes / Attributes / Catalog / Magento Admin
  uimap :
    form : &newProductAttributeForm
      tabs :
        -
          properties :
            xpath : a[@id='product_attribute_tabs_main']/span
            fieldsets :
              -
                attribute_properties :
                  xpath : div[@id='base_fieldset']
                  dropdowns :
                    catalog_input_type_for_store_owner : select[@id='frontend_input']
                    unique_value : select[@id='is_unique']
                    scope : select[@id='is_global']
                    apply_to : td[normalize-space(@class)='label']//label[@for='apply_to']/ancestor::td/following-sibling::td/descendant::select[@onchange='toggleApplyVisibility(this)']
                    values_required : select[@id='is_required']
                    input_validation_for_store_owner : select[@id='frontend_class']
                    use_to_create_configurable_product : select[@id='is_configurable']
                  fields :
                    attribute_code : input[@id='attribute_code']
                    default_value : input[@id='default_value_text']
                  multiselect :
                    apply_to : select[@id='apply_to']
                  required : [attribute_code, apply_to]
              -
                frontend_properties :
                  xpath : div[@id='front_fieldset']
                  dropdowns :
                    use_in_quick_search : select[@id='is_searchable']
                    use_in_advanced_search : select[@id='is_visible_in_advanced_search']
                    comparable_on_frontend : select[@id='is_comparable']
                    use_in_layered_navigation : select[@id='is_filterable']
                    enable_wysiwyg : select[@id='is_wysiwyg_enabled']
                    used_in_product_listing : select[@id='used_in_product_listing']
                    allow_html_tags_on_frontend : select[@id='is_html_allowed_on_front']
                    use_for_promo_rule_conditions : select[@id='is_used_for_promo_rules']
                    used_for_sorting_in_product_listing : select[@id='used_for_sort_by']
                    use_in_search_results_layered_navigation : select[@id='is_filterable_in_search']
                    visible_on_product_view_page_on_frontend : select[@id='is_visible_on_front']
                  fields :
                    position : input[@id='position']
          manage_lables_options :
            xpath : a[@id='product_attribute_tabs_labels']/span
            fieldsets :
              -
                manage_titles :
                  xpath : div[h4='Manage Titles (Size, Color, etc.)']
                  fields :
                    admin_title : input[@name='frontend_label[0]']
                    storeview_title : input[@name='frontend_label[1]']
                  required : [admin_title]
              -
                manage_options :
                  xpath : div[h4='Manage Options (values of your attribute)']
                  buttons :
                    add_option : button[@id='add_new_option_button']
                    delete_option : #---------------------------------------------------------
                  checkbox :
                    is_default : input[@name='default[]' and @value='option_0']
                  fields :
                    option_position : input[@name='option[order][option_0]']
                    admin_option : input[@name='option[value][option_0][0]']
                    storeview_option : input[@name='option[value][option_0][1]']
                  required : [admin_option]
      buttons :
        back : button[span='Back']
        reset : button[span='Reset']
        save_attribute : button[span='Save Attribute']
        save_and_continue_edit : button[span='Save and Continue Edit']
 # Messages
      messages :
        success_saved_attribute : li[normalize-space(@class)='success-msg']//span[text()='The product attribute has been saved.']
        error_exists_attribute_code : li[normalize-space(@class)='error-msg']//span[text()='Attribute with the same code already exists']
        error_empty_attribute_code : div[normalize-space(@id)='advice-required-entry-attribute_code'][text()='This is a required field.']
        error_empty_attribute_title : div[normalize-space(@id)='advice-required-option-frontend_label[0]'][text()='Failed']
        error_invalid_attribute_code : div[normalize-space(@id)='advice-validate-code-attribute_code'][text()='Please use only letters (a-z), numbers (0-9) or underscore(_) in this field, first character should be a letter.']
        error_invalid_position : div[normalize-space(@id)='advice-validate-digits-position'][text()='Please use numbers only in this field. Please avoid spaces or other characters such as dots or commas.']