#
# Magento
#
# NOTICE OF LICENSE
#
# This source file is subject to the Academic Free License (AFL 3.0)
# that is bundled with this package in the file LICENSE_AFL.txt.
# It is also available through the world-wide-web at this URL:
# http://opensource.org/licenses/afl-3.0.php
# If you did not receive a copy of the license and are unable to
# obtain it through the world-wide-web, please send an email
# to license@magentocommerce.com so we can send you a copy immediately.
#
# DISCLAIMER
#
# Do not edit or add to this file if you wish to upgrade Magento to newer
# versions in the future. If you wish to customize Magento for your
# needs please refer to http://www.magentocommerce.com for more information.
#
# @category    tests
# @package     selenium
# @subpackage  uimaps
# @author      Magento Core Team <core@magentocommerce.com>
# @copyright   Copyright (c) 2010 Magento Inc. (http://www.magentocommerce.com)
# @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
#
---
# Customer Tax Class and related pages

# Messages
messages:
  success_saved_tax_class : div[@id='messages']//li[span='The tax class has been saved.']
  success_saved_tax_rate : div[@id='messages']//li[span='The tax rate has been saved.']
  success_saved_tax_rule : div[@id='messages']//li[span='The tax rule has been saved.']
  #error_empty_tax_class_name : div[@id='advice-required-entry-class_name']
  error_tax_class_name_exist : div[@id='messages']//li[span='An error occurred while saving this tax class. A class with the same name already exists. already exists.']
  error_tax_rate_name_exist : div[@id='messages']//li[span='Code already exists.']
  error_empry_required_fields : div[text()='This is a required field.']
  error_rate_percent_invalid_value : div[text()='Please enter a valid number in this field.']
  #error_empty_tax_rate_identifier : div[@id='advice-required-entry-code']
  #error_empty_range_from : div[@id='advice-required-entry-zip_from']
  #error_empty_range_from : div[@id='advice-required-entry-zip_to']
  error_empty_value : #tr[contains(.,'%fieldName%')]/descendant::*[normalize-space(@class)='validation-advice' and not(contains(@style,'display: none;'))]


# 'Manage Customers Tax Classes' page
manage_customer_tax_class:
 mca : tax_class_customer/
 title: Customer Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &searchCustomerTaxClassGrid
   fieldset_manage_customer_tax_class :
    fields:
     classname : input[@id='filter_class_name']
    buttons:
     reset_filter : button[span='Reset Filter']
     search : button[span='Search']
   buttons:
    add_new : button[span='Add New']

# 'New Customer Tax Class' Page
creting_new_customer_tax_class:
 mca : tax_class_customer/new/
 title : New Class / Customer Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &newCustomerTaxClassForm
   fieldset_customer_tax_class_info :
    fields :
     class_name : input[@id='class_name']
    required : [class_name]
   buttons:
    back : button[span='Back']
    reset : button[span='Reset']
    save_class : button[span='Save Class']

# 'Edit Customer Tax Class' Page
editing_customer_tax_class:
 mca : tax_class_customer/edit/id/%customerTaxClassId%
 title : %customerTaxClassName% / Customer Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &editCustomerTaxClassForm
   fieldset_customer_tax_class_info :
    xpath : div[@id='base_fieldset']
    fields :
     class_name : input[@id='class_name']
    required : [class_name]
   buttons :
    back : button[span='Back']
    reset : button[span='Reset']
    delete_class : button[span='Delete Class']
    save_class : button[span='Save Class']

# Product Tax Class and related pages

# 'Manage Product Tax Classes' page
manage_product_tax_class:
 mca : tax_class_product/
 title : Product Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &searchProductTaxClassGrid
   fieldset_manage_product_tax_class :
    fields :
     classname : input[@id='filter_class_name']
    buttons :
     reset_filter : button[span='Reset Filter']
     search : button[span='Search']
   buttons :
    add_new : button[span='Add New']

# 'New Product Tax Class' Page
creting_new_product_tax_class:
 mca : tax_class_product/new/
 title : New Class / Product Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &newProductTaxClassForm
   fieldset_product_tax_class_info :
    fields :
     class_name : input[@id='class_name']
    required : [class_name]
   buttons :
    back : button[span='Back']
    reset : button[span='Reset']
    save_class : button[span='Save Class']

# 'Edit Product Tax Class' Page
editing_product_tax_class:
 mca  : tax_class_customer/edit/id/%productTaxClassId%
 title : %productTaxClassName% / Product Tax Classes / Tax / Sales / Magento Admin
 uimap :
  form : &editProductTaxClassForm
   fieldset_product_tax_class_info  :
    fields :
     class_name : input[@id='class_name']
    required : [class_name]
   buttons :
    back : button[span='Back']
    reset : button[span='Reset']
    delete_class : button[span='Delete Class']
    save_class : button[span='Save Class']

# Manage Tax Rate and related pages

# 'Manage Tax Zones and Rates' page
manage_tax_zones_and_rates:
 mca  : tax_rate/
 title : Manage Tax Zones and Rates / Tax / Sales / Magento Admin
 uimap :
  form : &searchTaxRatesGrid
   fieldset_manage_tax_rates :
    xpath : div[@id='tax_rate_grid']
    buttons :
     reset_filter : button[span='Reset Filter']
     search : button[span='Search']
    dropdowns :
     country : select[@id='filter_tax_country_id']
    fields :
     tax_id : input[@id='filter_code']
     state_region : input[@id='filter_region_name']
     zip_code : input[@id='filter_tax_postcode']
     rate_from : input[@id='filter_rate_from']
     rate_to : input[@id='filter_rate_to']
   buttons :
    add_new_tax_rate : button[span='Add New Tax Rate']
   messages :
    success : div[@id='messages']//li[span='The tax rate has been saved.']

# 'New Tax Rate' Page
creting_new_tax_rate:
 mca  : tax_rate/add/
 title: New Rate / Manage Tax Zones and Rates / Tax / Sales / Magento Admin
 uimap:
  form : &newTaxRatesForm
   fieldset_tax_rate_info :
    dropdowns :
     country : select[@id='tax_country_id']
     state : select[@id='tax_region_id']
     zip_is_range : select[@id='zip_is_range']
    fields :
      tax_identifier : input[@id='code']
      zip_postal_code : input[@id='tax_postcode']
      zip_range_from : input[@id='zip_from']
      zip_range_to : input[@id='zip_to']
      rate_percent : input[@id='rate']
    required : [tax_identifier, country, rate_percent]
   fieldset_tax_titles :
    fields :
      tax_title : div[normalize-space(@class)='fieldset']/descendant::input[@name='title[1]']
   buttons:
    back : button[span='Back']
    reset : button[span='Reset']
    save_rate : button[span='Save Rate']


# 'Edit Tax Rate' Page
editing_tax_rate:
 mca  : tax_rate/edit/rate/%rateId%/
 title: %rateIdentifier% / Manage Tax Zones and Rates / Tax / Sales / Magento Admin
 uimap:
  form  : &editTaxRatesForm
   fieldset_tax_rate_info :
    dropdowns :
     country : select[@id='tax_country_id']
     state : select[@id='tax_region_id']
     zip_is_range : select[@id='zip_is_range']
    fields :
     tax_identifier : input[@id='code']
     zip_postal_code : input[@id='tax_postcode']
     zip_range_from : input[@id='zip_from']
     zip_range_to : input[@id='zip_to']
     rate_percent : input[@id='rate']
     required : [tax_identifier, country, rate_percent]
    fieldset_tax_titles :
     fields :
      tax_title : div[normalize-space(@class)='fieldset']/descendant::input[@name='title[1]']
   buttons:
    back : button[span='Back']
    reset : button[span='Reset']
    delete_rate : button[span='Delete Rate']
    save_rate : button[span='Save Rate']

# Manage Tax Rules and related pages

# Manage Tax Rules page
manage_tax_rule:
 mca : tax_rule/
 title : Manage Tax Rules / Tax / Sales / Magento Admin
 uimap:
  form : &searchTaxRulesGrid
   fieldset_manage_tax_rules :
    buttons :
     reset_filter : button[span='Reset Filter']
     search : button[span='Search']
    dropdowns :
     customer_tax_class : select[@id='filter_customer_tax_classes']
     product_tax_class : select[@id='filter_product_tax_classes']
     tax_rate : select[@id='filter_tax_rates']
    fields :
     name : input[@id='filter_code']
     priority : input[@id='filter_priority']
     sort_order : input[@id='filter_position']
   buttons:
    add_new_tax_rule : button[span='Add New Tax Rule']

# Add New Tax Rule page
creating_new_tax_rule:
mca : tax_rule/new/
title : New Rule / Manage Tax Rules / Tax / Sales / Magento Admin
uimap:
 form : &newTaxRuleForm
  fieldset_tax_rule_info :
   fields :
    name : input[@id='code']
    priority : input[@id='priority']
    sort_order : input[@id='position']
   multiselectors :
    customer_tax_class : select[@id='tax_customer_class']
    product_tax_class : select[@id='tax_product_class']
    tax_rate : select[@id='tax_rate']
   required : [name, customer_tax_class, product_tax_class, tax_rate, priority]
  buttons:
    back : button[span='Back']
    reset : button[span='Reset']
    save_rule : button[span='Save Rule']
    save_and_continue_edit : button[span='Save and Continue Edit']

# Edit Tax Rule page
creating_new_tax_rule:
mca : tax_rule/edit/rule/%ruleId%/
title : %ruleName% / Manage Tax Rules / Tax / Sales / Magento Admin
uimap:
 form : &editTaxRuleForm
  fieldset_tax_rule_info :
   fields :
    name : input[@id='code']
    priority : input[@id='priority']
    sort_order : input[@id='position']
   multiselectors :
    customer_tax_class : select[@id='tax_customer_class']
    product_tax_class : select[@id='tax_product_class']
    tax_rate : select[@id='tax_rate']
   required : [name, customer_tax_class, product_tax_class, tax_rate, priority]
  buttons:
    back : button[span='Back']
    reset : button[span='Reset']
    delete_rule : button[span='Delete Rule']
    save_rule : button[span='Save Rule']
    save_and_continue_edit : button[span='Save and Continue Edit']
  
