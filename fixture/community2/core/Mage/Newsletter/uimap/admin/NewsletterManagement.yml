#
# {license_notice}
#
# @category    Magento
# @package     Mage_Newsletter
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
# Newsletter Templates Manager page
newsletter_templates:
    mca: newsletter_template/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'newsletter_template/')]
    title: Newsletter Templates / Newsletter / Magento Admin
    uimap:
            form:
                fieldsets:
                    -
                        newsletter_templates:
                            xpath: //div[@id='page:main-container']
                            buttons:
                                add_new_template: //button[span='Add New Template']
                                reset_filter: //button[span='Reset Filter']
                                search: //button[span='Search']

# 'New Newsletter Template' Page
new_newsletter_template:
    mca: newsletter_template/new
    title: New Template / Newsletter Templates / Newsletter / Magento Admin
    uimap:
            form:
                fieldsets:
                    -
                        newsletter_add_template:
                             xpath: //form[@id='newsletter_template_edit_form']

                             fields:
                                 template_name: //input[@id='code']
                                 template_subject: //input[@id='subject']
                                 sender_name: //input[@id='sender_name']
                                 sender email: //input[@id='sender_email']
                             required: [template_name, template_subject]
            buttons:
                back: //button[span='Back']
                reset: //button[span='Reset']
                convert_to_plain_text: //button[span='Convert to Plain Text']
                preview_template: //button[span='Preview Template']
                save_template: //button[span='Save Template']

            messages:
                empty_required_field: "%fieldXpath%/following-sibling::*[contains(., 'This is a required field.') and not(contains(@style,'display: none;'))]"

# Newsletter Newsletter Queue page
newsletter_queue:
    mca: newsletter_queue/
    click_xpath: //div[@class='nav-bar']//a[span='Newsletter Queue']
    title: Newsletter Queue / Newsletter / Magento Admin
    uimap:
            form:
                fieldsets:
                    -
                         newsletter_queue:
                             xpath: //div[@id='queueGrid']

                             fields:
                                 template_subject: //input[@id='queueGrid_filter_newsletter_subject']

             buttons:
                 search: //button[span='Search']
                 reset_filter: //button[span='Reset Filter']

             messages:
                 search_no_result: //table[@id='queueGrid_table']

